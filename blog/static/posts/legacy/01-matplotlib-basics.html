<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>matplotlibå­¦ä¹ ç¬”è®° | Yuxu Ge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --black: #111;
            --dark-grey: #444;
            --off-white: #f4f4f4;
            --vermilion: #C41E3A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--black);
            background-color: var(--off-white);
        }

        a {
            color: var(--vermilion);
            text-decoration: none;
        }

        a:hover {
            opacity: 0.75;
        }

        .layout {
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 320px;
            height: 100vh;
            background: var(--black);
            color: var(--off-white);
            padding: 3rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .avatar {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--vermilion);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .avatar:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .name-block {
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--off-white);
        }

        .title-role {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.25rem;
            font-weight: 400;
        }

        .contact-block {
            margin-top: 2.5rem;
            width: 100%;
        }

        .social-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 160px;
            color: var(--off-white);
            opacity: 0.7;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .social-links a:hover {
            color: var(--vermilion);
            opacity: 1;
            background: rgba(255, 255, 255, 0.05);
        }

        .social-links svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .social-links .orcid-link {
            font-size: 0.68rem;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .sidebar-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #555;
        }

        /* Content */
        .content {
            margin-left: 320px;
            padding: 3rem 4rem;
            max-width: calc(100vw - 320px - 8rem);
        }

        .back-link {
            display: inline-block;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            color: var(--dark-grey);
        }

        .back-link:hover {
            color: var(--vermilion);
        }

        /* Article */
        article h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            color: var(--black);
        }

        article h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--black);
        }

        article h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--black);
        }

        article p {
            margin-bottom: 1rem;
            color: var(--dark-grey);
        }

        article ul,
        article ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--dark-grey);
        }

        article li {
            margin-bottom: 0.5rem;
        }

        article strong {
            color: var(--black);
        }

        article code {
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            background: #e8e8e8;
            padding: 0.15em 0.4em;
            border-radius: 3px;
        }

        article pre {
            margin: 1rem 0;
            border-radius: 6px;
            overflow-x: auto;
            background: #2d2d2d;
            padding: 1rem;
        }

        article pre code {
            background: none;
            padding: 0;
            font-size: 0.75em;
            white-space: pre !important;
            counter-reset: line;
            display: block;
            color: #ccc;
        }

        article pre code .line {
            counter-increment: line;
        }

        article pre code .line::before {
            content: counter(line);
            display: inline-block;
            width: 2.5em;
            margin-right: 1em;
            text-align: right;
            color: #666;
            user-select: none;
        }

        .code-toolbar {
            display: flex;
            justify-content: flex-start;
            padding: 0.35rem 0.5rem;
            background: #3a3a3a;
            border-radius: 6px 6px 0 0;
        }

        .code-toolbar+pre {
            margin-top: 0;
            border-radius: 0 0 6px 6px;
        }

        .copy-btn {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
            background: #555;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover,
        .copy-btn:active {
            background: #777;
        }

        .copy-btn.copied {
            background: #2a2;
        }

        article blockquote {
            border-left: 3px solid var(--vermilion);
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            font-style: italic;
        }

        article hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 2rem 0;
        }

        article table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        article th,
        article td {
            border: 1px solid #ddd;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        article th {
            background: #e8e8e8;
            font-weight: 600;
        }

        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem 0;
            border-radius: 6px;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .error {
            color: var(--vermilion);
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .lang-selector-label {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .lang-selector-label svg {
            width: 16px;
            height: 16px;
        }

        .lang-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            min-width: 140px;
        }

        .lang-select:focus {
            outline: none;
            border-color: var(--vermilion);
        }

        .lang-status {
            font-size: 0.8rem;
            color: #888;
            margin-left: auto;
        }

        .lang-status.translating {
            color: var(--vermilion);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-status.translating::before {
            content: '';
            width: 14px;
            height: 14px;
            border: 2px solid #f0f0f0;
            border-top-color: var(--vermilion);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .lang-status.cached {
            color: #4CAF50;
        }

        .lang-original-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .lang-original-btn:hover {
            background: #e0e0e0;
            color: #333;
        }

        @media (max-width: 600px) {
            .lang-selector {
                flex-wrap: wrap;
            }
            .lang-status {
                width: 100%;
                margin-left: 0;
                margin-top: 0.5rem;
            }
        }

        /* KaTeX math styles */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Jupyter Notebook Styles */
        .notebook-container {
            margin-top: 1rem;
        }

        .notebook-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .notebook-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .notebook-download svg {
            width: 16px;
            height: 16px;
        }

        .nb-cell {
            margin-bottom: 1.5rem;
        }

        .nb-cell-code .nb-source {
            background: #2d2d2d;
            border-radius: 6px;
            overflow-x: auto;
        }

        .nb-cell-code .nb-source pre {
            margin: 0;
            padding: 1rem;
            color: #ccc;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
        }

        .nb-cell-code .nb-source code {
            background: none;
            padding: 0;
        }

        .nb-output {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 0.5rem;
        }

        .nb-output pre {
            margin: 0;
            padding: 0;
            background: transparent;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
            color: #222;
        }

        .nb-output img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0.5rem 0;
        }

        .nb-output table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .nb-output th,
        .nb-output td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }

        .nb-output th {
            background: #e8e8e8;
            font-weight: 600;
        }

        .nb-cell-markdown {
            padding: 0;
        }

        .nb-cell-markdown h1:first-child {
            margin-top: 0;
        }

        /* Document Download Button */
        .doc-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .doc-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .doc-download svg {
            width: 16px;
            height: 16px;
        }

        /* PDF Viewer */
        .pdf-container {
            margin-top: 1rem;
        }

        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* Text File Display */
        .text-container {
            margin-top: 1rem;
        }

        .text-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 1.5rem;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--dark-grey);
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Word Document Display */
        .word-container {
            margin-top: 1rem;
        }

        .word-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 2rem;
            line-height: 1.8;
            color: var(--dark-grey);
        }

        .word-content p {
            margin-bottom: 1rem;
        }

        .word-content h1,
        .word-content h2,
        .word-content h3 {
            color: var(--black);
            margin: 1.5rem 0 1rem;
        }

        .word-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .word-content th,
        .word-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
        }

        .word-content img {
            max-width: 100%;
            height: auto;
        }

        /* Excel Display */
        .excel-container {
            margin-top: 1rem;
        }

        .excel-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .excel-tab {
            padding: 0.5rem 1rem;
            background: #e8e8e8;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .excel-tab.active {
            background: #4CAF50;
            color: white;
        }

        .excel-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
        }

        .excel-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .excel-content th,
        .excel-content td {
            border: 1px solid #ddd;
            padding: 0.4rem 0.6rem;
            text-align: left;
            white-space: nowrap;
        }

        .excel-content th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .excel-content tr:nth-child(even) {
            background: #fafafa;
        }

        /* PowerPoint Display */
        .ppt-container {
            margin-top: 1rem;
        }

        .ppt-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* CSV Display (uses excel styles) */
        .csv-container {
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 2rem 1.5rem 1rem;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .social-links a,
            .social-links .orcid-link {
                width: auto;
                padding: 0.5rem;
                font-size: 0;
                gap: 0;
            }

            .social-links svg {
                width: 24px;
                height: 24px;
            }

            .social-links .hide-mobile {
                display: none;
            }

            .sidebar-footer {
                margin-top: 1rem;
            }

            .content {
                margin-left: 0;
                padding: 2rem 1rem;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                padding: 1.5rem 1rem 1rem;
            }

            .avatar {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 1.4rem;
            }

            article h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>

    <div class="layout">
        <aside class="sidebar" id="sidebar-content"></aside>
        <script src="/components/sidebar.js?v=20260128"></script>

        <main class="content">
            <a href="/blog/" class="back-link">â† Back to Blog</a>

            <!-- Language Selector -->
            <div class="lang-selector" id="lang-selector" style="display: none;">
                <span class="lang-selector-label">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                    Language
                </span>
                <select class="lang-select" id="lang-select">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
                <button class="lang-original-btn" id="lang-original-btn" style="display: none;">Show Original</button>
                <span class="lang-status" id="lang-status"></span>
            </div>

            <article>
<hr>
<h2>date: 2024-01-01
tags: [matplotlib]
legacy: true</h2>
<h1>matplotlibå­¦ä¹ ç¬”è®°</h1>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code># å‡†å¤‡æ•°æ®ï¼šx ä¸º -Ï€ åˆ° Ï€ çš„ç­‰é—´éš”ç‚¹ï¼Œè®¡ç®— sinxã€cosxã€sin2x ä¸‰ä¸ªå‡½æ•°å€¼</code><br>
<code>x = np.linspace(-np.pi, np.pi, 1000)    # ç”Ÿæˆ -Ï€ åˆ° Ï€ åŒºé—´çš„ 1000 ä¸ªç‚¹</code><br>
<code>sinx = np.sin(x)                        # sin(x) æ•°ç»„</code><br>
<code>cosx = np.cos(x)                        # cos(x) æ•°ç»„</code><br>
<code>sin2x = np.sin(2 * x)                   # sin(2x) æ•°ç»„</code><br>
<code></code><br>
<code># ç»˜åˆ¶ä¸‰æ¡æ›²çº¿ï¼Œå¹¶è®¾ç½®çº¿å‹ã€é¢œè‰²ã€é€æ˜åº¦ç­‰å±æ€§</code><br>
<code>plt.plot(x, sinx, linestyle=&#039;-&#039;, color=(0.3, 0.7, 0.1), alpha=0.3, label=&#039;sinx&#039;)     # ç»¿å®çº¿ï¼Œ30%ä¸é€æ˜åº¦</code><br>
<code>plt.plot(x, cosx, linestyle=&#039;-.&#039;, color=&#039;black&#039;, label=&#039;cosx&#039;)                       # é»‘è‰²ç‚¹åˆ’çº¿</code><br>
<code>plt.plot(x, sin2x, linestyle=&#039;--&#039;, linewidth=3, color=&#039;#334455&#039;, label=&#039;sin2x&#039;)      # è“ç°è‰²è™šçº¿ï¼Œçº¿å®½3</code></blockquote><p>ä¸Šé¢çš„ä»£ç ç»˜åˆ¶äº†ä¸‰æ¡å‡½æ•°æ›²çº¿ã€‚plt.plot æ˜¯æœ€åŸºæœ¬çš„ç»˜å›¾å‘½ä»¤ï¼Œæˆ‘ä»¬ä¼ å…¥ x å’Œ y æ•°ç»„å³å¯ç»˜åˆ¶æŠ˜çº¿ã€‚æˆ‘ä»¬è¿˜èƒ½é€šè¿‡å¯é€‰å‚æ•°è°ƒæ•´çº¿æ¡æ ·å¼ï¼š
	* linestyle æŒ‡å®šçº¿å‹ï¼Œæ¯”å¦‚ &#39;-&#39; å®çº¿ã€&#39;--&#39; è™šçº¿ã€&#39;-.&#39; ç‚¹åˆ’çº¿ã€&#39;:&#39; ç‚¹çº¿ç­‰ã€‚
	* color å¯ä»¥æ¥å—é¢œè‰²åç§°ï¼ˆå¦‚ &#39;black&#39;ã€&#39;red&#39;ï¼‰ã€åå…­è¿›åˆ¶é¢œè‰²ç ï¼ˆå¦‚ #334455ï¼‰ï¼Œæˆ– RGB å…ƒç»„([0,1]åŒºé—´)æ¥å®šä¹‰é¢œè‰²ã€‚
	* linewidth è°ƒæ•´çº¿å®½ï¼Œé»˜è®¤å€¼ä¸º 1ï¼Œæ•°å€¼è¶Šå¤§çº¿è¶Šç²—ã€‚
	* alpha è®¾ç½®é€æ˜åº¦ï¼Œå–å€¼ 0~1ï¼Œ0 è¡¨ç¤ºå®Œå…¨é€æ˜ï¼Œ1 è¡¨ç¤ºä¸é€æ˜ã€‚ä¸Šä¾‹ä¸­å°†ç¬¬ä¸€æ¡ sin æ›²çº¿çš„ alpha è®¾ä¸º 0.3ï¼Œè®©å®ƒå˜å¾—åŠé€æ˜ã€‚
	* label ç”¨äºç»™æ›²çº¿å‘½åï¼Œç¨åæˆ‘ä»¬ä¼šç”¨å®ƒç”Ÿæˆå›¾ä¾‹ã€‚</p>
<p>çŸ­çŸ­å‡ è¡Œä»£ç ï¼Œæˆ‘ä»¬å°±â€œç‚’â€å‡ºäº†ä¸‰é“æ•°æ®æ›²çº¿â€œå¤§èœâ€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›æ›²çº¿ä¼šç»˜åˆ¶åœ¨åŒä¸€ä¸ªåæ ‡ç³»ä¸­ï¼Œä¸åŒé¢œè‰²å’Œçº¿å‹è®©å®ƒä»¬å½¼æ­¤åŒºåˆ†å¼€æ¥ã€‚æ­¤æ—¶å¦‚æœè°ƒç”¨ plt.show()ï¼ŒMatplotlib ä¼šå¼¹å‡ºä¸€ä¸ªçª—å£æ˜¾ç¤ºæˆ‘ä»¬ç»˜åˆ¶çš„å›¾å½¢ã€‚ä¸è¿‡åœ¨å±•ç¤ºæœ€ç»ˆæ•ˆæœä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥â€œè°ƒå‘³â€æ¥ç¾åŒ–å›¾è¡¨ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-23-210650jCCBPa.png" alt="image-20250423210648364"></p>
<p>å¦‚æœä¸€æ¬¡ç»˜åˆ¶å¤šæ¡æ›²çº¿ï¼Œé€‚å½“ä½¿ç”¨ä¸åŒé¢œè‰²ã€çº¿å‹åŒºåˆ†å®ƒä»¬æ˜¯å¿…è¦çš„ï¼›å½“æ›²çº¿è¾ƒå¤šæˆ–æœ‰é‡å æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®è¾ƒé«˜çš„é€æ˜åº¦ (alpha æ¥è¿‘ 1) æˆ–é™ä½é€æ˜åº¦æ¥æ›´å¥½åœ°åŒºåˆ†é‡å åŒºåŸŸã€‚æ­¤å¤–ï¼Œæå‰ä¸ºæ¯æ¡æ›²çº¿æŒ‡å®š labelï¼Œæ–¹ä¾¿åç»­ç”Ÿæˆå›¾ä¾‹è¯´æ˜æ›²çº¿å«ä¹‰ã€‚</p>
<h2>äºŒã€åæ ‡è½´ä¸åˆ»åº¦è°ƒæ•´</h2>
<p>æœ‰äº†åŸºæœ¬çš„æ›²çº¿ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å¯¹åæ ‡è½´å’Œåˆ»åº¦è¿›è¡Œè°ƒæ•´ï¼Œä»¥ä½¿å›¾è¡¨æ›´åŠ ä¸“ä¸šã€ç¾è§‚ã€‚Matplotlib ä¼šè‡ªåŠ¨æ ¹æ®æ•°æ®èŒƒå›´è®¾ç½®åæ ‡è½´çš„å–å€¼èŒƒå›´å’Œåˆ»åº¦æ ‡è®°ï¼Œä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€æ±‚æ‰‹åŠ¨è°ƒæ•´ã€‚</p>
<p>é¦–å…ˆï¼Œå¦‚æœæˆ‘ä»¬åªå…³å¿ƒæŸä¸€æ®µåŒºé—´çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡ é™åˆ¶åæ ‡è½´èŒƒå›´ æ¥â€œèšç„¦â€å…³æ³¨ç‚¹ã€‚ä¾‹å¦‚ï¼Œåªæƒ³çœ‹ x åœ¨ [0,Ï€] èŒƒå›´å†…ã€y åœ¨ [0, 1.1] çš„éƒ¨åˆ†ï¼Œå¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p>
<blockquote><code>plt.xlim(0, np.pi)   # å°† x è½´æ˜¾ç¤ºèŒƒå›´é™åˆ¶åœ¨ 0 åˆ° Ï€</code><br>
<code>plt.ylim(0, 1.1)     # å°† y è½´æ˜¾ç¤ºèŒƒå›´é™åˆ¶åœ¨ 0 åˆ° 1.1</code></blockquote><p>ä¸Šè¿° plt.xlim å’Œ plt.ylim ä¼šå‰ªè£æˆ‘ä»¬ä¹‹å‰ç»˜åˆ¶çš„æ›²çº¿ï¼Œåªæ˜¾ç¤ºæŒ‡å®šçš„åŒºé—´ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè¿™ç§æ“ä½œç›¸å½“äºç»™â€œé•œå¤´â€æ‹‰è¿‘æˆ–ç§»åŠ¨ç„¦ç‚¹ï¼Œè®©æˆ‘ä»¬æ›´ä¸“æ³¨äºæ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚ä¸è¿‡åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å®Œæ•´å±•ç¤º $-Ï€$ åˆ° $Ï€$ çš„æ›²çº¿ï¼Œå› æ­¤ä¸å¯¹åæ ‡èŒƒå›´åšè£å‰ªã€‚ï¼ˆæ³¨ï¼šå¦‚æœå·²ç»è®¾ç½®äº†é™åˆ¶ï¼Œç§»é™¤æˆ–è°ƒæ•´å¯ä»¥ä½¿ç”¨ plt.xlim(None, None) æ¢å¤é»˜è®¤å…¨èŒƒå›´ã€‚ï¼‰</p>
<p><img src="/blog/images/legacy/2025-04-23-210728JVe74v.png" alt="image-20250423210727186"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è°ƒæ•´åæ ‡è½´çš„åˆ»åº¦å’Œæ ·å¼ã€‚é»˜è®¤çš„åˆ»åº¦å¾€å¾€æ˜¯ç®€å•çš„æ•°å­—ï¼Œä½†å¯¹äºæ•°å­¦å‡½æ•°è€Œè¨€ï¼Œç”¨ $\pi$ ç­‰ç¬¦å·ä½œä¸ºåˆ»åº¦æ ‡è®°ä¼šä½¿å›¾è¡¨æ›´å…·å¯è¯»æ€§ã€‚ä¸‹é¢çš„ä»£ç è®¾ç½®è‡ªå®šä¹‰çš„åˆ»åº¦ä½ç½®å’Œæ ‡ç­¾ï¼Œå¹¶ç§»åŠ¨åæ ‡è½´ä½ç½®ï¼š</p>
<blockquote><code># è®¾ç½®åˆ»åº¦ä½ç½®å’Œæ ‡ç­¾ï¼ˆåŒ…å« LaTeX æ•°å­¦ç¬¦å·ï¼‰</code><br>
<code>plt.xticks([-np.pi, -np.pi/2, 0, np.pi/2, np.pi],        # xè½´åˆ»åº¦çš„ä½ç½®</code><br>
<code>           [r&#039;$-\pi$&#039;, r&#039;$-\frac{\pi}{2}$&#039;, r&#039;$0$&#039;, r&#039;$\frac{\pi}{2}$&#039;, r&#039;$\pi$&#039;],  # å¯¹åº”æ ‡ç­¾</code><br>
<code>           fontsize=14)                                  # åˆ»åº¦æ ‡ç­¾å­—ä½“å¤§å°</code><br>
<code>plt.yticks([-1, -0.5, 0, 0.5, 1], fontsize=14)            # è®¾ç½®yè½´åˆ»åº¦åŠå­—ä½“å¤§å°ï¼ˆæ ‡ç­¾ä½¿ç”¨é»˜è®¤æ•°å­—ï¼‰</code><br>
<code></code><br>
<code># ç§»åŠ¨åæ ‡è½´ä½ç½®ï¼Œä½¿åŸç‚¹å±…ä¸­</code><br>
<code>ax = plt.gca()  # è·å–å½“å‰Axeså¯¹è±¡</code><br>
<code>ax.spines[&#039;top&#039;].set_color(&#039;none&#039;)      # éšè—ä¸Šè¾¹æ¡†</code><br>
<code>ax.spines[&#039;right&#039;].set_color(&#039;none&#039;)    # éšè—å³è¾¹æ¡†</code><br>
<code>ax.spines[&#039;bottom&#039;].set_position((&#039;data&#039;, 0))  # å°†ä¸‹è¾¹æ¡†ï¼ˆxè½´ï¼‰ç§»åŠ¨åˆ° y=0 å¤„</code><br>
<code>ax.spines[&#039;left&#039;].set_position((&#039;data&#039;, 0))    # å°†å·¦è¾¹æ¡†ï¼ˆyè½´ï¼‰ç§»åŠ¨åˆ° x=0 å¤„</code></blockquote><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† plt.xticks å’Œ plt.yticks å‡½æ•°æ¥è‡ªå®šä¹‰åˆ»åº¦ã€‚å¯¹äº x è½´ï¼Œæˆ‘ä»¬æŒ‡å®šäº†5ä¸ªåˆ»åº¦ä½ç½®ï¼š$-Ï€,; -Ï€/2,; 0,; Ï€/2,; Ï€$ï¼Œå¹¶é€šè¿‡åˆ—è¡¨ä¼ å…¥å¯¹åº”çš„åˆ»åº¦æ ‡ç­¾å­—ç¬¦ä¸²ã€‚æ³¨æ„ï¼Œè¿™äº›å­—ç¬¦ä¸²å‰é¢æœ‰å‰ç¼€ rï¼Œå¹¶åŒ…è£¹åœ¨ $...$ ä¸­ï¼Œè¿™æ˜¯ Matplotlib æ”¯æŒçš„ LaTeX æ•°å­¦è¯­æ³•ï¼Œå¯ä»¥ç›´æ¥åœ¨æ ‡ç­¾ä¸­æ˜¾ç¤ºæ•°å­¦ç¬¦å·ï¼Œä¾‹å¦‚ -\frac{\pi}{2}ã€‚è¿™æ ·æˆ‘ä»¬çš„ x è½´åˆ»åº¦å°±ä»¥ Ï€ çš„å€æ•°å½¢å¼å‘ˆç°ï¼Œæ›´åŠ ç›´è§‚ã€‚fontsize=14 åˆ™å¢å¤§äº†åˆ»åº¦æ•°å­—çš„å­—ä½“ï¼Œä¾¿äºé˜…è¯»ã€‚å¯¹äº y è½´ï¼Œæˆ‘ä»¬é€‰æ‹©äº†å‡ ä¸ªå…¸å‹å€¼ -1 åˆ° 1 ä½œä¸ºåˆ»åº¦ï¼ŒåŒæ ·è°ƒå¤§äº†å­—ä½“ï¼›è¿™é‡Œæ²¡æœ‰ç‰¹åˆ«æŒ‡å®šæ ‡ç­¾åˆ—è¡¨ï¼Œå› æ­¤é»˜è®¤ä½¿ç”¨è¿™äº›å€¼çš„æ•°å­—å½¢å¼ä½œä¸ºæ ‡ç­¾ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡ plt.gca() è·å–å½“å‰çš„ Axes å¯¹è±¡ï¼ˆå³ç»˜å›¾çš„åæ ‡ç³»ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åæ ‡è½´çš„å¤–è§‚åšç»†èŠ‚è°ƒæ•´ã€‚Matplotlib æ¯ä¸ªåæ ‡è½´æœ‰ä¸Šä¸‹å·¦å³å››æ¡è„Š(line)ï¼Œé»˜è®¤æƒ…å†µä¸‹ç»˜åˆ¶åœ¨å›¾è¡¨è¾¹æ¡†ã€‚ä¸Šè¿°ä»£ç å°† top å’Œ right ä¸¤æ¡è„Šçš„é¢œè‰²è®¾ä¸º &#39;none&#39;ï¼Œå³éšè—é¡¶éƒ¨å’Œå³ä¾§çš„è¾¹æ¡†çº¿ï¼Œåªä¿ç•™åº•éƒ¨å’Œå·¦ä¾§çš„åæ ‡è½´çº¿ã€‚éšåä¸¤è¡Œä½¿ç”¨ set_position((&#39;data&#39;, 0)) å°†åº•éƒ¨xè½´ç§»åŠ¨åˆ°æ•°æ®åæ ‡ä¸­çš„ y=0 ä½ç½®ï¼Œä»¥åŠå·¦ä¾§yè½´ç§»åŠ¨åˆ° x=0 ä½ç½®ã€‚æ•ˆæœå°±æ˜¯è®© xè½´å’Œyè½´åœ¨æ•°æ®åæ ‡çš„åŸç‚¹å¤„ç›¸äº¤ï¼Œè€Œä¸æ˜¯ä½äºå›¾è¡¨è¾¹ç¼˜ã€‚è¿™æ ·å¤„ç†åï¼Œæˆ‘ä»¬çš„åæ ‡ç³»çœ‹èµ·æ¥æ›´åƒæ•°å­¦è¯¾æœ¬ä¸­çš„ç›´è§’åæ ‡ç³»ï¼šåŸç‚¹åœ¨ä¸­å¤®ï¼Œè½´çº¿ç©¿è¿‡æ•´ä¸ªå›¾è¡¨ã€‚è¿™å¯¹äºå±•ç¤ºå‡½æ•°å›¾åƒï¼ˆå°¤å…¶æ˜¯åŒ…å«æ­£è´Ÿå€¼ï¼‰éå¸¸æœ‰å¸®åŠ©ï¼Œå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æ›²çº¿ä¸åæ ‡è½´çš„äº¤ç‚¹å’Œå¯¹ç§°æ€§ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-23-210802L7Zu7O.png" alt="image-20250423210800179"></p>
<h2>ä¸‰ã€å›¾ä¾‹ä¸æ ‡æ³¨</h2>
<p>ç»˜åˆ¶å¤šæ¡æ›²çº¿æ—¶ï¼Œå›¾ä¾‹ï¼ˆLegendï¼‰å¯ä»¥å¸®åŠ©è§‚è€…åˆ†è¾¨æ¯ä¸€æ¡æ›²çº¿ä»£è¡¨ä»€ä¹ˆå«ä¹‰ã€‚æˆ‘ä»¬åœ¨ç»˜åˆ¶æ—¶å·²ç»ç»™æ¯æ¡æ›²çº¿æŒ‡å®šäº† labelï¼Œç°åœ¨åªéœ€ä¸€è¡Œä»£ç å°±èƒ½è®© Matplotlib è‡ªåŠ¨ç”Ÿæˆå›¾ä¾‹ï¼š</p>
<p><code>plt.legend([&#039;sinx&#039;, &#039;cosx&#039;, &#039;sin2x&#039;], loc=&#039;upper right&#039;)  # æ˜¾ç¤ºå›¾ä¾‹å¹¶æŒ‡å®šåœ¨å³ä¸Šè§’</code></p><p>plt.legend ä¼šåœ¨å›¾è¡¨ä¸Šç»˜åˆ¶ä¸€ä¸ªå°æ¡†ï¼Œå±•ç¤ºæ¯ç§çº¿å‹é¢œè‰²å¯¹åº”çš„æ ‡ç­¾ã€‚åœ¨ä¸Šé¢çš„è°ƒç”¨ä¸­ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æä¾›äº†æ ‡ç­¾åˆ—è¡¨ [&#39;sinx&#39;, &#39;cosx&#39;, &#39;sin2x&#39;]ï¼Œå¯¹åº”ä¹‹å‰ç»˜åˆ¶çš„ä¸‰æ¡æ›²çº¿ï¼Œå¹¶å°†å›¾ä¾‹çš„ä½ç½®æŒ‡å®šåœ¨åæ ‡ç³»çš„å³ä¸Šè§’ï¼ˆloc=&#39;upper right&#39;ï¼‰ã€‚å®é™…ä¸Šï¼Œå¦‚æœä¹‹å‰ plt.plot æ—¶ä¼ å…¥äº† label å‚æ•°ï¼Œè°ƒç”¨ plt.legend() æ—¶ä¸æä¾›åˆ—è¡¨ï¼ŒMatplotlib ä¹Ÿä¼šä½¿ç”¨é‚£äº›æ ‡ç­¾ã€‚ä½†æ‰‹åŠ¨ä¼ å…¥åˆ—è¡¨å¯ä»¥æ§åˆ¶é¡ºåºæˆ–è¦†ç›–æŸäº›æ ‡ç­¾ã€‚å›¾ä¾‹çš„ä½ç½®ä¹Ÿå¯æ ¹æ®éœ€è¦é€‰æ‹© &#39;upper/lower&#39; å’Œ &#39;left/center/right&#39; çš„ç»„åˆï¼Œæˆ–ä½¿ç”¨åæ ‡ç‚¹æŒ‡å®šï¼Œè‡ªç”±åº¦å¾ˆé«˜ã€‚é€šå¸¸æˆ‘ä»¬ä¼šå°†å›¾ä¾‹æ”¾ç½®åœ¨ä¸å¹²æ‰°æ•°æ®çš„ä½ç½®ï¼Œæ¯”å¦‚æ›²çº¿ç¨€ç–çš„è§’è½ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦åœ¨å›¾è¡¨ä¸­æ ‡æ³¨ç‰¹æ®Šç‚¹æˆ–é¢å¤–çš„ä¿¡æ¯ï¼Œä»¥çªå‡ºå…³é”®å†…å®¹ã€‚Matplotlib æä¾›äº†å¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ plt.annotate å¯ä»¥æ·»åŠ ç®­å¤´å’Œæ–‡æœ¬è¯´æ˜ï¼›è¿™é‡Œæˆ‘ä»¬ç”¨æ›´ç®€å•çš„ plt.scatter æ¥ç»˜åˆ¶ç‰¹æ®Šæ ‡è®°ç¬¦å·ã€‚å‡è®¾æˆ‘ä»¬æƒ³å¼ºè°ƒ sin(x) åœ¨ x=pi/2 å¤„çš„å³°å€¼ 1.0ï¼Œä»¥åŠ -sin(x) åœ¨ x=-pi/2 å¤„çš„è°·å€¼ -1.0ï¼ˆå¯¹åº”å›¾ä¸­çš„ä¸¤ä¸ªæå€¼ç‚¹ï¼‰ã€‚å¯ä»¥ä½¿ç”¨æ•£ç‚¹å›¾åœ¨è¿™äº›åæ ‡å¤„æ‰“ä¸Šæ˜Ÿå½¢æ ‡è®°ï¼š</p>
<blockquote><code># æ ‡å‡ºç‰¹æ®Šçš„æå€¼ç‚¹ï¼Œä½¿ç”¨çº¢æ˜Ÿæ ‡è®°</code><br>
<code>plt.scatter([np.pi/2, -np.pi/2], [1.0, -1.0],       # ä¸¤ä¸ªç‚¹çš„åæ ‡ (xåˆ—è¡¨, yåˆ—è¡¨)</code><br>
<code>            marker=&#039;*&#039;, s=200,                      # æ˜Ÿå½¢æ ‡è®°ï¼Œç‚¹çš„å¤§å°ä¸º200</code><br>
<code>            edgecolors=&#039;green&#039;, facecolor=&#039;red&#039;,    # è¾¹ç¼˜ä¸ºç»¿è‰²ï¼Œå¡«å……ä¸ºçº¢è‰²</code><br>
<code>            zorder=2)                               # æå‡å›¾å±‚é¡ºåºï¼Œä»¥å…è¢«æ›²çº¿é®æŒ¡</code></blockquote><p>plt.scatter ç”¨äºç»˜åˆ¶æ•£ç‚¹ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼ å…¥ä¸¤ä¸ªç‚¹çš„ x åæ ‡åˆ—è¡¨å’Œ y åæ ‡åˆ—è¡¨ï¼Œå„åŒ…å«æˆ‘ä»¬æƒ³æ ‡æ³¨çš„ç‚¹ã€‚å‚æ•° marker=&#39;*&#39; ä½¿æ•£ç‚¹çš„å½¢çŠ¶ä¸ºæ˜Ÿå½¢ï¼ˆäº”è§’æ˜Ÿï¼‰ï¼Œs=200 æ§åˆ¶æ˜Ÿæ˜Ÿçš„å°ºå¯¸ï¼ˆ200 ç›¸å½“äºè¾ƒå¤§çš„ç‚¹ï¼‰ã€‚æˆ‘ä»¬å°†æ˜Ÿæ ‡è®¾ç½®ä¸ºçº¢è‰²å¡«å……ã€ç»¿è‰²è¾¹æ¡†ï¼Œé†’ç›®åœ°æ ‡å‡ºä½ç½®ã€‚ç”±äºè¿™äº›ç‚¹å¯èƒ½ä¸æ›²çº¿é‡åˆï¼Œæˆ‘ä»¬é€šè¿‡ zorder=2 æå‡å…¶ç»˜åˆ¶å±‚çº§ï¼Œç¡®ä¿æ˜Ÿæ˜Ÿç›–åœ¨æ›²çº¿ä¹‹ä¸Šè€Œä¸æ˜¯è¢«é®ä½ï¼ˆMatplotlib é»˜è®¤æŠ˜çº¿çš„ zorder ä¸º 1ï¼‰ã€‚æ‰§è¡Œå®Œè¿™äº›æ­¥éª¤åï¼Œè°ƒç”¨ plt.show() å°±ä¼šå¼¹å‡ºçª—å£æ˜¾ç¤ºæœ€ç»ˆç»˜åˆ¶çš„å›¾å½¢ã€‚å®Œæ•´çš„å›¾è¡¨åº”è¯¥åŒ…å«ä¸‰æ¡æ›²çº¿ã€ä¸­å¿ƒçš„åæ ‡è½´ã€ç²¾ç¾çš„åˆ»åº¦æ ‡è®°ã€å³ä¸Šçš„å›¾ä¾‹ï¼Œä»¥åŠç”¨æ˜Ÿæ˜Ÿæ ‡å‡ºçš„ä¸¤ä¸ªç‰¹æ®Šç‚¹ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-23-210116LxERZx.png" alt="image-20250423210111119"></p>
<p>å›¾ 1ï¼šä½¿ç”¨ Matplotlib ç»˜åˆ¶ sin xã€cos x å’Œ sin 2x å‡½æ•°æ›²çº¿çš„æ•ˆæœå›¾ã€‚ç»¿è‰²åŠé€æ˜å®çº¿è¡¨ç¤º sin xï¼Œé»‘è‰²ç‚¹åˆ’çº¿è¡¨ç¤º cos xï¼Œè“ç°è‰²ç²—è™šçº¿è¡¨ç¤º sin 2xã€‚åæ ‡è½´ç§»åˆ°äº†ä¸­å¿ƒä½ç½®ï¼Œå¹¶ä½¿ç”¨ pi ç­‰ç¬¦å·æ ‡è®°åˆ»åº¦ã€‚å³ä¸Šè§’çš„å›¾ä¾‹æ¸…æ™°åœ°æ ‡æ˜äº†å„æ›²çº¿åç§°ï¼Œè€Œçº¢è‰²æ˜Ÿå½¢æ ‡è®°çªå‡ºäº† sin x åœ¨ x=pi/2 å¤„çš„å³°å€¼ (1.0) å’Œ sin x åœ¨ x=-pi/2 å¤„çš„è°·å€¼ (-1.0)ã€‚</p>
<p>é€šè¿‡ä¸Šè¿°æµç¨‹ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸€å¼ å‡½æ•°æ›²çº¿çš„ç»˜åˆ¶ã€‚ä»ä»£ç å¯ä»¥çœ‹åˆ°ï¼ŒMatplotlib çš„è°ƒç”¨è¿‡ç¨‹å®é™…ä¸Šéå¸¸çµæ´»ï¼šä½ å¯ä»¥åœ¨ç»˜åˆ¶å®Œæ›²çº¿åå†å»è°ƒæ•´åæ ‡è½´å’Œæ·»åŠ å›¾ä¾‹ã€æ ‡æ³¨ç­‰ï¼Œä¸ä¸€å®šè¦æŒ‰å›ºå®šé¡ºåºã€‚ä½†æœ€ç»ˆå±•ç¤º (plt.show()) å‰çš„æ‰€æœ‰è®¾ç½®éƒ½ä¼šåæ˜ åœ¨å›¾è¡¨ä¸Šã€‚å› æ­¤ï¼Œæ¨èçš„ä¹ æƒ¯åšæ³•æ˜¯å…ˆç»˜å›¾ã€å†è£…é¥°ï¼šå³å…ˆç”¨ plt.plot ç­‰æŠŠä¸»è¦æ•°æ®ç»˜åˆ¶å‡ºæ¥ï¼Œç„¶åæ ¹æ®éœ€è¦è°ƒæ•´è½´ã€åˆ»åº¦ã€æ·»åŠ å›¾ä¾‹å’Œæ³¨é‡Šï¼Œæœ€åå†æ˜¾ç¤ºæˆ–ä¿å­˜å›¾è¡¨ã€‚è¿™æ ·æ€è·¯æ¸…æ™°ï¼Œä¹Ÿæ–¹ä¾¿é€æ­¥è°ƒè¯•å›¾è¡¨çš„å¤–è§‚ã€‚</p>
<h2>å››ã€å¤šçª—å£ä¸å¸ƒå±€</h2>
<p>Matplotlib ä¸ä»…èƒ½åœ¨ä¸€ä¸ªåæ ‡ç³»é‡Œç»˜åˆ¶å¤šæ¡æ›²çº¿ï¼Œè¿˜å…è®¸æˆ‘ä»¬åˆ›å»ºå¤šä¸ªå›¾å½¢çª—å£åŒæ—¶æ˜¾ç¤ºä¸åŒçš„å›¾è¡¨ã€‚è¿™åœ¨éœ€è¦å¯¹æ¯”ä¸åŒæ•°æ®é›†ï¼Œæˆ–è€…åˆ†åˆ«å±•ç¤ºä¸åŒæ­¥éª¤çš„ç»“æœæ—¶éå¸¸æœ‰ç”¨ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹æ¥ä½“éªŒå¦‚ä½•ç®¡ç†å¤šä¸ªç»˜å›¾çª—å£ä»¥åŠè®¾ç½®å›¾è¡¨çš„æ ‡é¢˜ã€ç½‘æ ¼å’Œå¸ƒå±€ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬æœ‰ä¸¤ç»„æ•°æ®æƒ³åˆ†åˆ«ç»˜åˆ¶åœ¨ä¸åŒçª—å£ä¸­ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ plt.figure() åˆ›å»ºæ–°çš„å›¾å½¢çª—å£ã€‚plt.figure å¯ä»¥æŒ‡å®šä¸€ä¸ªåç§°æˆ–ç¼–å·æ¥æ ‡è¯†çª—å£ï¼Œä»¥åŠçª—å£å¤§å° figsize å’ŒèƒŒæ™¯è‰² facecolor ç­‰å‚æ•°ã€‚å¦‚æœå†æ¬¡è°ƒç”¨ plt.figure å¹¶ä¼ å…¥å·²æœ‰çš„åç§°ï¼Œé‚£ä¹ˆåç»­ç»˜å›¾å‘½ä»¤ä¼šä½œç”¨åœ¨è¯¥å·²å­˜åœ¨çš„çª—å£ã€‚è¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<blockquote><code>plt.figure(&#039;A&#039;, figsize=(8, 4), facecolor=&#039;lightgray&#039;)  # åˆ›å»ºåä¸º &#039;A&#039; çš„ç»˜å›¾çª—å£ï¼Œå°ºå¯¸8x4è‹±å¯¸ï¼ŒèƒŒæ™¯ç°è‰²</code><br>
<code>plt.plot([1, 2, 3], [3, 2, 1])                         # åœ¨ Figure A ä¸­ç»˜åˆ¶ä¸€æ¡çº¿</code><br>
<code></code><br>
<code>plt.figure(&#039;B&#039;, figsize=(8, 4), facecolor=&#039;lightgray&#039;)  # åˆ›å»ºåä¸º &#039;B&#039; çš„ç»˜å›¾çª—å£</code><br>
<code>plt.plot([1, 2, 3], [1, 2, 3])                         # åœ¨ Figure B ä¸­ç»˜åˆ¶ä¸€æ¡çº¿</code><br>
<code></code><br>
<code>plt.figure(&#039;A&#039;)                                        # åˆ‡æ¢å›çª—å£ A</code><br>
<code>plt.plot([1, 2, 3], [1, 2, 3])                         # åœ¨ Figure A ä¸­å†ç»˜åˆ¶ä¸€æ¡çº¿</code><br>
<code># ... (9 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä»£ç è§£æï¼šé¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºäº†çª—å£ Aï¼Œå¤§å° 8x4 è‹±å¯¸ï¼ŒèƒŒæ™¯è‰²ä¸ºæµ…ç°ï¼Œç„¶ååœ¨å…¶ä¸Šç»˜åˆ¶äº†ä¸€æ¡æŠ˜çº¿ï¼ˆæ•°æ®ç‚¹ä¸º (1,3), (2,2), (3,1)ï¼‰ã€‚æ¥ç€åˆ›å»ºçª—å£ Bï¼ˆåŒæ ·å¤§å°å’ŒèƒŒæ™¯ï¼‰ï¼Œå¹¶åœ¨ä¸Šé¢ç»˜åˆ¶å¦ä¸€æ¡æŠ˜çº¿ï¼ˆ(1,1), (2,2), (3,3)ï¼‰ã€‚ç„¶åå†æ¬¡è°ƒç”¨ plt.figure(&#39;A&#39;)ï¼Œç”±äºåä¸º A çš„çª—å£å·²ç»å­˜åœ¨ï¼Œè¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯å°†å½“å‰ç»˜å›¾å¯¹è±¡åˆ‡æ¢å› Aã€‚äºæ˜¯æ¥ä¸‹æ¥çš„ plt.plot([1,2,3],[1,2,3]) ä¼šæ·»åŠ ä¸€æ¡æ–°æ›²çº¿åˆ°çª—å£ A åŸæœ‰çš„å›¾è¡¨ä¸­ã€‚è¿™æ ·ï¼Œçª—å£ A ä¸Šå°±æœ‰ä¸¤æ¡æŠ˜çº¿ï¼Œè€Œçª—å£ B ä¸Šæœ‰ä¸€æ¡æŠ˜çº¿ï¼Œå„è‡ªåœ¨ç‹¬ç«‹çš„çª—å£ä¸­æ˜¾ç¤ºã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹çª—å£ A å½“å‰çš„åæ ‡ç³»è®¾ç½®äº†æ ‡é¢˜å’Œè½´æ ‡ç­¾ã€‚plt.title(&#39;the line&#39;, fontsize=30) ä¸ºæ›²çº¿å›¾åŠ ä¸Šæ ‡é¢˜â€œthe lineâ€ï¼Œå­—å·è®¾ç½®è¾ƒå¤§ä»¥é†’ç›®æ˜¾ç¤ºï¼›plt.xlabel(&#39;x&#39;) å’Œ plt.ylabel(&#39;y&#39;) åˆ™ä¸ºæ¨ªè½´å’Œçºµè½´æ·»åŠ äº†åç§°ã€‚è¿™äº›æ ‡é¢˜/æ ‡ç­¾ä¼šå‡ºç°åœ¨çª—å£ A çš„å›¾è¡¨ä¸Šï¼Œè€Œçª—å£ B ç”±äºæœªè®¾ç½®å°†ä¿æŒæ²¡æœ‰æ ‡é¢˜å’Œè½´æ ‡ç­¾çš„çŠ¶æ€ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨åˆ‡æ¢åˆ° B æ—¶åˆ†åˆ«è®¾ç½®å±äºå®ƒè‡ªå·±çš„æ ‡é¢˜å’Œæ ‡ç­¾ï¼‰ã€‚</p>
<p>ä¸ºäº†è®©å›¾è¡¨é˜…è¯»èµ·æ¥æ›´æ–¹ä¾¿ï¼Œæˆ‘ä»¬æ‰“å¼€äº†ç½‘æ ¼çº¿ï¼šplt.grid(linestyle=&#39;:&#39;) åœ¨å›¾è¡¨èƒŒæ™¯æ·»åŠ äº†ç½‘æ ¼è¾…åŠ©çº¿ï¼Œè¿™äº›è™šç‚¹çº¿å¯ä»¥å¸®åŠ©å¯¹é½å’Œä¼°è¯»æ•°å€¼ï¼Œåˆä¸ä¼šè¿‡äºæ˜¾çœ¼å¹²æ‰°ä¸»å›¾å½¢ã€‚æœ€åè°ƒç”¨ plt.tight_layout() è‡ªåŠ¨è°ƒæ•´å­å›¾å¸ƒå±€ã€‚è¿™ä¸€æ­¥åœ¨åªæœ‰å•ä¸ªè½´çš„æƒ…å†µä¸‹ä¸»è¦æ˜¯é˜²æ­¢æ ‡é¢˜æˆ–æ ‡ç­¾æ–‡å­—è¿‡å¤§è€Œè¢«çª—å£è¾¹ç¼˜è£å‰ªï¼›å½“ä¸€ä¸ªçª—å£ä¸­æœ‰å¤šå¹…å­å›¾(subplot)æ—¶ï¼Œtight_layout ä¼šè°ƒæ•´å­å›¾é—´è·ï¼Œé˜²æ­¢å®ƒä»¬çš„åˆ»åº¦æ ‡ç­¾ç›¸äº’é‡å ï¼Œæ˜¯ä¸ªéå¸¸å®ç”¨çš„ä¸€é”®æ’ç‰ˆå·¥å…·ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-23-214946wVzij4.png" alt="image-20250423210450895"></p>
<p>è¿è¡Œä¸Šè¿°ä»£ç ï¼ŒMatplotlib å°†ä¼šå¼¹å‡ºä¸¤ä¸ªçª—å£Aå’ŒBï¼Œåˆ†åˆ«æ˜¾ç¤ºä¸åŒçš„æ›²çº¿å›¾ã€‚çª—å£ A ä¸Šæœ‰æ ‡é¢˜å’Œä¸¤æ¡æŠ˜çº¿ï¼Œå…¶ä¸­ä¸€æ¡å‘ˆä¸‹é™è¶‹åŠ¿ï¼Œå¦ä¸€æ¡ä¸Šå‡è¶‹åŠ¿äº¤å‰å½¢æˆä¸€ä¸ª â€œXâ€ å½¢çŠ¶ï¼›çª—å£ B åˆ™åªæœ‰ä¸€æ¡ä»å·¦ä¸‹åˆ°å³ä¸Šå‡çš„ç›´çº¿ã€‚ç°è‰²èƒŒæ™¯è®©çª—å£ç•¥æœ‰åŒºåˆ†åº¦ï¼Œè€Œç½‘æ ¼çº¿å’Œå¤§å­—å·æ ‡é¢˜åˆ™æå‡äº†å¯è¯»æ€§ã€‚ç”±äºæˆ‘ä»¬è°ƒç”¨äº†ä¸€æ¬¡ plt.show()ï¼Œæ‰€ä»¥æ‰€æœ‰å°šæœªæ˜¾ç¤ºçš„å›¾å½¢çª—å£éƒ½ä¼šåŒæ—¶æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>éœ€è¦æ³¨æ„ï¼Œplt.figure() å¦‚æœä¸æŒ‡å®šåç§°ï¼ŒMatplotlib ä¼šä½¿ç”¨é»˜è®¤ç¼–å· (å¦‚ Figure 1, Figure 2 â€¦) æ¥æ ‡è¯†ä¸åŒçª—å£ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œç”¨å­—æ¯ â€˜Aâ€™ å’Œ â€˜Bâ€™ æ¥å‘½åçª—å£ï¼Œç›´è§‚ä¸”ä¾¿äºåœ¨ä»£ç ä¸­å¼•ç”¨ç‰¹å®šçª—å£ã€‚å®é™…åº”ç”¨ä¸­ï¼Œå¦‚æœè¦åŒæ—¶æ¯”è¾ƒå‡ å¼ å›¾ï¼Œå¯ä»¥å¼€å¤šä¸ªçª—å£åˆ†åˆ«æ˜¾ç¤ºï¼›è€Œåœ¨å†™è„šæœ¬æ‰¹é‡ç”Ÿæˆå›¾è¡¨æ—¶ï¼Œé€šå¸¸æ˜¯å¾ªç¯å†…æ¯æ¬¡åˆ›å»ºæ–° figureï¼Œç»˜å›¾å¹¶ä¿å­˜ç„¶åå…³é—­ï¼Œè€Œä¸ä¼šåƒè¿™é‡Œä¸€æ ·åŒæ—¶å¼¹å‡ºå¤šä¸ªçª—å£ã€‚</p>
<p>å½“å›¾è¡¨å…ƒç´ è¾ƒå¤šæ—¶ï¼Œå–„ç”¨ç½‘æ ¼çº¿ (plt.grid) æœ‰åŠ©äºè¯»è€…å¯¹é½æ•°å€¼ï¼Œä½†è¦æ³¨æ„çº¿å‹åº”å½“æŸ”å’Œï¼ˆå¦‚ç»†è™šçº¿ï¼‰ä»¥å…å–§å®¾å¤ºä¸»ã€‚ä½¿ç”¨ plt.tight_layout() å¯ä»¥çœå»æ‰‹åŠ¨è°ƒæ•´å¸ƒå±€çš„éº»çƒ¦ï¼Œå¼ºçƒˆå»ºè®®åœ¨æ·»åŠ äº†æ ‡é¢˜ã€æ ‡ç­¾æˆ–å¤šä¸ªå­å›¾åè°ƒç”¨ä¸€ä¸‹ï¼Œè¿™å¯¹ä¿å­˜å›¾ç‰‡å°¤ä¸ºé‡è¦ï¼Œé¿å…è½´æ ‡ç­¾è¢«æˆªæ‰ã€‚å¦‚æœéœ€è¦åœ¨ä¸€å¼ çª—å£é‡Œç»˜åˆ¶å¤šå¼ å­å›¾ï¼Œå¯ä»¥ä½¿ç”¨ plt.subplots() æˆ– plt.subplot() åˆ›å»ºç½‘æ ¼å¸ƒå±€çš„å­å›¾ï¼Œç„¶ååˆ†åˆ«ç»˜åˆ¶ï¼›æ¯ä¸ªå­å›¾ä¹Ÿèƒ½ç”¨ set_title è®¾ç½®æ ‡é¢˜ã€‚æ— è®ºæ˜¯å¤šçª—å£è¿˜æ˜¯å¤šå­å›¾ï¼Œåˆç†å®‰æ’å¸ƒå±€å’Œæ ‡é¢˜éƒ½èƒ½è®©è¯»è€…æ›´å®¹æ˜“æ¯”è¾ƒå’Œç†è§£å›¾ä¸­çš„ä¿¡æ¯ã€‚</p>
<hr>
<h3>matplotlib ä¸­æ–‡å­—ç¬¦ä¹±ç é—®é¢˜</h3>
<p><img src="/blog/images/legacy/2025-04-24-142402dnitbV.png" alt="image-20250424142400653"></p>
<blockquote><code># æ‰“å°ç³»ç»Ÿå¯ç”¨çš„å­—ä½“</code><br>
<code>from matplotlib.font_manager import FontManager</code><br>
<code>fm = FontManager()</code><br>
<code>mat_fonts = set(f.name for f in fm.ttflist)</code><br>
<code>print(mat_fonts)</code><br>
<code></code><br>
<code># è®¾ç½®ä¸€ä¸ªä¸­æ–‡å­—ä½“</code><br>
<code>plt.rcParams[&#039;font.sans-serif&#039;] = [&#039;Arial Unicode MS&#039;]</code></blockquote><p><img src="/blog/images/legacy/2025-04-24-142428g0ApEt.png" alt="image-20250424142426927"></p>
<h2>äº”ã€å­å›¾</h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å°†ä¸åŒçš„å›¾è¡¨å¹¶æ’æˆ–åˆ†å—å±•ç¤ºâ€”â€”å°±åƒåœ¨ä¸€é¡µPPTä¸Šæ”¾å¤šå¼ å¹»ç¯ç‰‡ï¼Œæˆ–è€…åœ¨ä¸€é¢â€œç…§ç‰‡å¢™â€ä¸ŠæŒ‚å¤šå¼ ç…§ç‰‡ä¸€æ ·ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦ç”¨åˆ° Matplotlib çš„**å­å›¾ï¼ˆsubplotï¼‰**åŠŸèƒ½ï¼Œå°†å¤šä¸ªç»˜å›¾åŒºåŸŸç»„åˆåœ¨ä¸€ä¸ªç”»å¸ƒä¸­ã€‚æ¥ä¸‹æ¥æˆ‘å°†ä»‹ç»å¦‚ä½•åˆ›å»ºå¤šå­å›¾å¸ƒå±€ã€å…±äº«åæ ‡è½´ä»¥åŠç¾åŒ–å­å›¾ã€‚</p>
<h3>1. å¤šå›¾å¸ƒå±€åŸºç¡€ç”¨æ³•</h3>
<p>Matplotlib ä¸­çš„å­å›¾æŒ‡çš„æ˜¯åœ¨åŒä¸€ä¸ª Figure ï¼ˆå›¾åƒçª—å£æˆ–ç”»å¸ƒï¼‰å†…åˆ’åˆ†å‡ºçš„å¤šä¸ªå°å‹ç»˜å›¾åŒºåŸŸï¼ˆAxesï¼‰ã€‚å¯ä»¥æŠŠ Figure æƒ³è±¡æˆä¸€å—ç”»å¸ƒï¼Œè€Œå­å›¾å°±æ˜¯ç”»å¸ƒä¸Šçš„ä¸€ä¸ªä¸ªç½‘æ ¼åŒºåŸŸï¼Œå…è®¸æˆ‘ä»¬åœ¨æ¯ä¸ªåŒºåŸŸç»˜åˆ¶ä¸åŒçš„æ•°æ®å›¾ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ— éœ€æ‰“å¼€å¤šä¸ªçª—å£ï¼Œå°±èƒ½åœ¨ä¸€å¼ å›¾é‡Œä»¥çŸ©é˜µå¸ƒå±€å±•ç¤ºå¤šå¹…å›¾è¡¨ã€‚</p>
<p>åˆ›å»ºå­å›¾å¸ƒå±€æœ‰å‡ ç§æ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ä½¿ç”¨ plt.subplots æˆ– plt.subplotï¼š</p>
<ul>
<li>plt.subplots ä¸€æ¬¡æ€§åˆ›å»ºæ•´ä¸ªå­å›¾ç½‘æ ¼ï¼Œå¹¶è¿”å› Figure å¯¹è±¡å’ŒåŒ…å«å„å­å›¾ Axes å¯¹è±¡çš„æ•°ç»„ã€‚æ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä»£ç ç»“æ„æ¸…æ™°ä¾¿äºåç»­æ“ä½œã€‚</li>
<li>plt.subplot åˆ™æ˜¯ä¸€æ¬¡åˆ›å»ºå•ä¸ªå­å›¾ï¼ˆæŒ‡å®šä½ç½®ï¼‰ï¼Œéœ€è¦å¤šæ¬¡è°ƒç”¨æ¥æ„å»ºç½‘æ ¼ã€‚å®ƒæœ¬è´¨ä¸Šç›¸å½“äºé€æ­¥å¾€å½“å‰ Figure æ·»åŠ å­å›¾ï¼Œé€‚åˆç®€å•å¿«é€Ÿçš„ç»˜å›¾ï¼Œä½†å½“å­å›¾è¾ƒå¤šæ—¶ä»£ç ä¼šç•¥æ˜¾ç¹çã€‚</li>
</ul>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹æ¼”ç¤ºä¸¤ç§æ–¹æ³•çš„ç”¨æ³•ã€‚å‡è®¾æˆ‘ä»¬è¦åœ¨åŒä¸€çª—å£å†…ä¸Šä¸‹æ’åˆ—ä¸¤å¹…å›¾ï¼šç¬¬ä¸€å¹…ç»˜åˆ¶ $\sin(x)$ æ›²çº¿ï¼Œç¬¬äºŒå¹…ç»˜åˆ¶ $\cos(x)$ æ›²çº¿ã€‚</p>
<p><strong>æ–¹æ³•1ï¼šä½¿ç”¨ plt.subplot åˆ†æ­¥æ·»åŠ å­å›¾</strong></p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code>x = np.linspace(0, 2*np.pi, 100)           # ç”Ÿæˆ0åˆ°2Ï€ä¹‹é—´çš„100ä¸ªç‚¹</code><br>
<code>y_sin = np.sin(x)</code><br>
<code>y_cos = np.cos(x)</code><br>
<code></code><br>
<code>plt.figure()                              # åˆ›å»ºä¸€ä¸ªæ–°çš„Figureçª—å£</code><br>
<code># ... (10 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ plt.figure() æ–°å»ºäº†ä¸€ä¸ªç”»å¸ƒï¼Œç„¶åé€šè¿‡ä¸¤æ¬¡ plt.subplot(2, 1, i) åˆ†åˆ«åˆ›å»ºäº†ä¸Šä¸‹ä¸¤ä¸ªå­å›¾ã€‚å‚æ•° (2, 1, i) è¡¨ç¤ºæ€»å…±2è¡Œ1åˆ—çš„ç½‘æ ¼ï¼Œi è¡¨ç¤ºå½“å‰æ¿€æ´»çš„æ˜¯ç¬¬å‡ ä¸ªå­å›¾ï¼ˆæŒ‰è¡Œä¼˜å…ˆé¡ºåºç¼–å·ï¼‰ã€‚åœ¨ç¬¬ä¸€ä¸ªå­å›¾ä¸Šï¼Œæˆ‘ä»¬ç»˜åˆ¶äº† sin(x) æ›²çº¿å¹¶è®¾ç½®äº†æ ‡é¢˜ï¼›éšååˆ‡æ¢åˆ°ç¬¬äºŒä¸ªå­å›¾ï¼Œç»˜åˆ¶ cos(x) æ›²çº¿å¹¶è®¾ç½®æ ‡é¢˜ã€‚plt.tight_layout() ç”¨äºè‡ªåŠ¨è°ƒæ•´å­å›¾ä¹‹é—´çš„é—´éš™ï¼Œä½¿å¾—å¸ƒå±€æ›´ç´§å‡‘ã€ç¾è§‚ã€‚åœ¨è°ƒç”¨ plt.show() åï¼Œä¸¤å¹…å­å›¾å°†ä¼šåŒæ—¶æ˜¾ç¤ºåœ¨åŒä¸€çª—å£çš„ä¸Šä¸‹ä¸¤ä¸ªåŒºåŸŸã€‚</p>
<p>è¿™ç§é€ä¸ª plt.subplot æ·»åŠ å­å›¾çš„æ–¹æ³•ç›´è§‚ç®€å•ï¼Œä½†å½“å­å›¾å¢å¤šæ—¶éœ€è¦å°å¿ƒç¼–å·ï¼Œé¿å…æ”¾é”™ä½ç½®æˆ–é‡å¤ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»æ›´ä¸ºç®€æ´çš„ plt.subplots ç”¨æ³•ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-194343SGHaL5.png" alt="image-20250424194251112"></p>
<p><strong>æ–¹æ³•2ï¼šä½¿ç”¨ plt.subplots ä¸€æ¬¡æ€§åˆ›å»ºç½‘æ ¼</strong></p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code>x = np.linspace(0, 2*np.pi, 100)</code><br>
<code>y_sin = np.sin(x)</code><br>
<code>y_cos = np.cos(x)</code><br>
<code></code><br>
<code>fig, axes = plt.subplots(2, 1)            # åˆ›å»º2è¡Œ1åˆ—çš„å­å›¾ç½‘æ ¼ï¼Œè¿”å›Figureå’ŒAxeså¯¹è±¡åˆ—è¡¨</code><br>
<code>axes[0].plot(x, y_sin, color=&#039;g&#039;)         # åœ¨axes[0]ï¼ˆç¬¬1ä¸ªå­å›¾ï¼‰ç»˜åˆ¶sinæ›²çº¿</code><br>
<code>axes[0].set_title(&quot;sin(x) æ›²çº¿&quot;)           # è®¾ç½®ç¬¬1ä¸ªå­å›¾æ ‡é¢˜</code><br>
<code>axes[1].plot(x, y_cos, color=&#039;r&#039;)         # åœ¨axes[1]ï¼ˆç¬¬2ä¸ªå­å›¾ï¼‰ç»˜åˆ¶cosæ›²çº¿</code><br>
<code>axes[1].set_title(&quot;cos(x) æ›²çº¿&quot;)           # è®¾ç½®ç¬¬2ä¸ªå­å›¾æ ‡é¢˜</code><br>
<code></code><br>
<code>plt.tight_layout()</code><br>
<code>plt.show()</code></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œplt.subplots(2, 1) ç›´æ¥ç”Ÿæˆäº†åŒ…å«2è¡Œ1åˆ—å­å›¾çš„å›¾è¡¨ã€‚å®ƒè¿”å›äº†ä¸€ä¸ª figï¼ˆFigureå¯¹è±¡ï¼‰å’Œä¸€ä¸ª axes æ•°ç»„ã€‚è¿™é‡Œ axes æ˜¯Pythonçš„æ•°ç»„ç±»å‹ï¼ˆå½“åªæœ‰ä¸€è¡Œæˆ–ä¸€åˆ—æ—¶ï¼Œaxesä¸ºä¸€ç»´æ•°ç»„ï¼›æœ‰å¤šè¡Œå¤šåˆ—æ—¶åˆ™æ˜¯äºŒç»´æ•°ç»„ï¼‰ã€‚æˆ‘ä»¬é€šè¿‡ axes[0] è®¿é—®ç¬¬ä¸€ä¸ªå­å›¾ï¼Œaxes[1] è®¿é—®ç¬¬äºŒä¸ªå­å›¾ï¼Œå¯¹å®ƒä»¬åˆ†åˆ«è°ƒç”¨ plot æ–¹æ³•è¿›è¡Œç»˜åˆ¶ã€‚éšåä½¿ç”¨æ¯ä¸ª Axes å¯¹è±¡çš„ set_title æ–¹æ³•è®¾ç½®å­å›¾çš„æ ‡é¢˜ã€‚æœ€ç»ˆä½¿ç”¨ plt.tight_layout() è°ƒæ•´å¸ƒå±€å¹¶æ˜¾ç¤ºã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-194331mnhL2m.png" alt="image-20250424194326236"></p>
<p>ä½¿ç”¨ plt.subplots æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>ä»£ç ç®€æ´ï¼šæ— éœ€æ‰‹åŠ¨ç¼–å·å­å›¾ä½ç½®ï¼Œé¿å…äº†å‡ºé”™çš„å¯èƒ½ã€‚</li>
<li>Axeså¯¹è±¡æ˜“äºæ“ä½œï¼šå¾—åˆ°çš„ axes æ•°ç»„å¯ä»¥æ–¹ä¾¿åœ°åœ¨å¾ªç¯ä¸­è¿­ä»£ï¼Œæˆ–è€…é€šè¿‡ç´¢å¼•æ¥è®¿é—®ç‰¹å®šå­å›¾ï¼Œä»è€Œå¯¹ä¸€ç»„å­å›¾è¿›è¡Œæ‰¹é‡è®¾ç½®ï¼Œæ¯”å¦‚ç»Ÿä¸€çš„æ ·å¼ç­‰ã€‚</li>
<li>å¯åŒæ—¶è·å–Figureï¼šè¿”å›çš„ fig å¯¹è±¡å¯ç”¨äºè®¾ç½®æ•´ä½“å±æ€§ï¼ˆå¦‚æ€»ä½“æ ‡é¢˜ã€ä¿å­˜å›¾åƒæ–‡ä»¶ç­‰ï¼‰ã€‚</li>
</ul>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºå¤šè¡Œå¤šåˆ—çš„ç½‘æ ¼å¸ƒå±€ï¼Œä¾‹å¦‚ plt.subplots(2, 2)ï¼Œå¾—åˆ°çš„ axes å°†æ˜¯ä¸€ä¸ª 2x2 çš„æ•°ç»„ï¼Œæ­¤æ—¶è®¿é—®å³ä¸Šè§’çš„å­å›¾è¦ç”¨ axes[0, 1]ï¼Œå·¦ä¸‹è§’åˆ™æ˜¯ axes[1, 0]ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>é€šè¿‡ä»¥ä¸Šä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åœ¨ä¸€ä¸ªçª—å£ä¸­æ”¾ç½®å¤šä¸ªå­å›¾äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è®©è¿™äº›å­å›¾å…±äº«åæ ‡è½´ï¼Œä»è€Œåœ¨æ¯”è¾ƒæ•°æ®æ—¶æ›´æ–¹ä¾¿ã€‚</p>
<h3>2. å…±äº«åæ ‡è½´çš„æŠ€å·§</h3>
<p>å½“å¤šä¸ªå­å›¾åœ¨æ¨ªè½´æˆ–çºµè½´ä¸Šå…·æœ‰ç›¸åŒçš„åˆ»åº¦èŒƒå›´æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Matplotlib çš„å…±äº«åæ ‡è½´åŠŸèƒ½ï¼Œä½¿å®ƒä»¬çš„åˆ»åº¦å’Œç¼©æ”¾ä¿æŒä¸€è‡´ã€‚è¿™æ ·åšæœ‰å‡ ä¸ªå¥½å¤„ï¼šä¸€æ˜¯é¿å…é‡å¤æ˜¾ç¤ºç›¸åŒçš„åˆ»åº¦æ ‡ç­¾ï¼Œè®©ç•Œé¢æ›´å¹²å‡€ï¼›äºŒæ˜¯åœ¨äº¤äº’æ¨¡å¼ä¸‹ç¼©æ”¾æˆ–æ‹–åŠ¨å…¶ä¸­ä¸€ä¸ªå­å›¾æ—¶ï¼Œå…¶ä»–å…±äº«è½´çš„å­å›¾ä¼šåŒæ­¥å˜åŒ–ï¼Œæ–¹ä¾¿å¯¹æ¯”ã€‚</p>
<p>Matplotlib æä¾›äº† sharex å’Œ sharey å‚æ•°æ¥æ§åˆ¶å­å›¾æ˜¯å¦å…±äº« xè½´æˆ–yè½´ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ plt.subplots æ—¶é€šè¿‡å‚æ•°è®¾å®šï¼Œä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨ fig.add_subplot æˆ– plt.subplot åˆ›å»ºå­å›¾æ—¶ä¼ å…¥å·²æœ‰ Axes æ¥å…±äº«ã€‚</p>
<p>æœ€å¸¸ç”¨çš„ç”¨æ³•æ˜¯åœ¨ plt.subplots ä¸­æŒ‡å®šï¼š</p>
<p><code>fig, axes = plt.subplots(2, 1, sharex=True)  # åˆ›å»º2è¡Œ1åˆ—å­å›¾ï¼Œçºµå‘æ’åˆ—ï¼Œå…±äº«Xè½´</code></p><p>è¿™æ ·ç”Ÿæˆçš„ä¸¤ä¸ªå­å›¾å°†å…±äº«åŒä¸€å¥— X è½´åˆ»åº¦ã€‚å¯¹äºä¸Šä¸‹æ’åˆ—çš„å­å›¾ï¼Œå…±äº« X è½´åï¼Œä¸Šæ–¹å­å›¾çš„æ¨ªè½´æ ‡ç­¾ä¼šè‡ªåŠ¨è¢«éšè—ï¼Œåªåœ¨æœ€ä¸‹æ–¹å­å›¾æ˜¾ç¤º X è½´åˆ»åº¦ï¼Œä»è€Œé¿å…é‡å¤ã€‚å®ƒä»¬çš„ X è½´èŒƒå›´ä¹Ÿä¿æŒä¸€è‡´ï¼Œè¿™æ ·åœ¨æ¯”è¾ƒæ¯”å¦‚æ­£å¼¦å’Œä½™å¼¦å‘¨æœŸæ—¶å°±å¯¹é½äº†ã€‚åŒç†ï¼Œsharey=True åˆ™ä¼šè®©å­å›¾å…±äº« Y è½´åˆ»åº¦å’ŒèŒƒå›´ï¼Œé€šå¸¸ç”¨äºå·¦å³å¹¶æ’çš„å­å›¾å…·æœ‰ç›¸åŒé‡çº²æ—¶ï¼Œæ¯”å¦‚æ¯”è¾ƒä¸¤ç§æ•°æ®åˆ†å¸ƒçš„å·®å¼‚ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“ä¾‹å­ï¼ŒåŠ æ·±ç†è§£å…±äº«åæ ‡è½´çš„æ•ˆæœã€‚å‡è®¾æˆ‘ä»¬æ¨ªå‘å¹¶æ’ç»˜åˆ¶ä¸¤æ¡æ­£å¼¦æ›²çº¿ï¼šå·¦è¾¹ç»˜åˆ¶ $\sin(x)$ï¼Œå³è¾¹ç»˜åˆ¶ $2\sin(x)$ï¼ˆæŒ¯å¹…æ˜¯å‰è€…çš„ä¸¤å€ï¼‰ã€‚æˆ‘ä»¬è®©å®ƒä»¬å…±äº«Yè½´ï¼Œä»¥æ–¹ä¾¿å¯¹æ¯”æŒ¯å¹…å·®å¼‚ï¼š</p>
<blockquote><code>x = np.linspace(0, 2*np.pi, 100)</code><br>
<code>y1 = np.sin(x)</code><br>
<code>y2 = 2 * np.sin(x)</code><br>
<code></code><br>
<code>fig, axes = plt.subplots(1, 2, sharey=True)   # åˆ›å»º1è¡Œ2åˆ—çš„å­å›¾ï¼Œå·¦å³å¹¶æ’ï¼Œå…±äº«Yè½´</code><br>
<code>axes[0].plot(x, y1, label=&#039;sin(x)&#039;)</code><br>
<code>axes[0].set_title(&quot;sin(x)&quot;)</code><br>
<code>axes[1].plot(x, y2, label=&#039;2 sin(x)&#039;, color=&#039;orange&#039;)</code><br>
<code>axes[1].set_title(&quot;2*sin(x)&quot;)</code><br>
<code></code><br>
<code>plt.tight_layout()</code><br>
<code>plt.show()</code></blockquote><p>ä»¥ä¸Šä»£ç ç”Ÿæˆäº†å·¦å³ä¸¤ä¸ªå­å›¾ã€‚ç”±äºè®¾ç½®äº† sharey=Trueï¼Œä¸¤å¹…å›¾å…±ç”¨ç›¸åŒçš„Yè½´åˆ»åº¦èŒƒå›´ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿å³ä¾§å‡½æ•°çš„æŒ¯å¹…æ˜¯å·¦ä¾§çš„ä¸¤å€ï¼Œä¸¤å¼ å›¾çš„Yè½´åˆ»åº¦å¯¹é½åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è§‚å¯Ÿåˆ°å³ä¾§æ›²çº¿åœ¨çºµå‘ä¸Šæ˜¯å·¦ä¾§çš„ä¸¤å€é«˜ã€‚åŒæ—¶ï¼ŒMatplotlib ä¼šè‡ªåŠ¨éšè—å³ä¾§å­å›¾å¤šä½™çš„Yåˆ»åº¦æ ‡ç­¾ï¼ˆåªåœ¨å·¦ä¾§å­å›¾æ˜¾ç¤ºYè½´åˆ»åº¦ï¼‰ï¼Œä½¿å›¾è¡¨çœ‹èµ·æ¥æ›´ç®€æ´ã€‚è‹¥æ²¡æœ‰å…±äº«Yè½´ï¼Œæ¯ä¸ªå­å›¾ä¼šæ ¹æ®è‡ªèº«æ•°æ®è‡ªåŠ¨ç¼©æ”¾YèŒƒå›´ï¼Œå·¦å›¾Yè½´å¯èƒ½æ˜¯[-1,1]ï¼Œå³å›¾æ˜¯[-2,2]ï¼Œè¿™æ ·åˆ»åº¦ä¸ç»Ÿä¸€å¯¹æ¯”èµ·æ¥å°±ä¸ç›´è§‚ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-194628DinFkT.png" alt="image-20250424194536755"></p>
<p>é™¤äº†ç®€å•çš„å¸ƒå°”å€¼ True/Falseï¼Œsharex/sharey è¿˜æ”¯æŒæ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œä¾‹å¦‚ &#39;row&#39; æˆ– &#39;col&#39;ï¼Œå…è®¸åœ¨åŒä¸€è¡Œæˆ–åŒä¸€åˆ—çš„å­å›¾é—´å…±äº«åæ ‡è½´ï¼Œä»¥åŠ &#39;all&#39;ï¼ˆç­‰ä»·äº Trueï¼‰åœ¨æ‰€æœ‰å­å›¾é—´å…±äº«ã€‚å¯¹äºå¤§éƒ¨åˆ†åœºæ™¯ï¼Œç›´æ¥ä½¿ç”¨ True å°±è¶³å¤Ÿäº†ï¼ŒMatplotlib ä¼šå¸®åŠ©æˆ‘ä»¬å¤„ç†æ ‡ç­¾çš„æ˜¾ç¤ºã€‚å½“ç„¶ï¼Œå¦‚æœä½ éœ€è¦å¯¹å­å›¾çš„åˆ»åº¦è¿›è¡Œæ›´å¤šè‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒæ•´å“ªäº›åˆ»åº¦æ ‡ç­¾å¯è§ï¼Œä¾‹å¦‚é€šè¿‡ axes[i].xaxis.set_visible() ç­‰é«˜çº§ç”¨æ³•ï¼Œä½†è¿™è¶…å‡ºäº†æœ¬ç¯‡è®¨è®ºèŒƒå›´ã€‚</p>
<p>å°è´´å£«ï¼šå…±äº«åæ ‡è½´åœ¨æ•°æ®äº¤äº’åˆ†æä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚ä¾‹å¦‚åœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼ˆå¦‚Jupyter Notebookä¸­ï¼‰ï¼Œå½“æˆ‘ä»¬ç¼©æ”¾æˆ–ç§»åŠ¨å…¶ä¸­ä¸€ä¸ªå…±äº«è½´çš„å­å›¾ï¼Œå…¶ä»–ç›¸å…³å­å›¾ä¼šåŒæ­¥ç¼©æ”¾/ç§»åŠ¨ï¼Œä¿æŒå¯¹é½çŠ¶æ€ï¼Œä»è€Œæ–¹ä¾¿æˆ‘ä»¬åŒæ—¶è§‚å¯Ÿå¤šå¤„ç»†èŠ‚ã€‚</p>
<h3>3. ç¾åŒ–å­å›¾ï¼šæ ‡é¢˜ã€æ ‡ç­¾ã€å›¾ä¾‹å’Œå¸ƒå±€</h3>
<p>æœ‰äº†å¤šå­å›¾å¸ƒå±€å’Œå…±äº«åæ ‡è½´çš„æŠ€å·§ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹æ¯ä¸ªå­å›¾è¿›è¡Œé€‚å½“çš„ç¾åŒ–å’Œæ³¨é‡Šï¼Œè®©è¯»è€…å®¹æ˜“ç†è§£æ¯å¼ å›¾ä¼ é€’çš„ä¿¡æ¯ã€‚ç¾åŒ–ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>å­å›¾æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾ï¼šä¸ºæ¯ä¸ªå­å›¾æ·»åŠ æè¿°æ€§çš„æ ‡é¢˜ï¼ˆtitleï¼‰ï¼Œå¹¶ä¸ºXè½´ã€Yè½´æ³¨æ˜å«ä¹‰ï¼ˆxlabel, ylabelï¼‰ã€‚è¿™å°±åƒæ¯å¼ â€œå°ç”»â€ä¸‹é¢çš„æ ‡é¢˜è¯´æ˜ï¼Œå‘Šè¯‰è¯»è€…è¿™å¹…å›¾å±•ç¤ºçš„æ˜¯ä»€ä¹ˆã€‚å¦‚æœæ‰€æœ‰å­å›¾çš„Xæˆ–Yè½´è¡¨ç¤ºçš„éƒ½æ˜¯ç›¸åŒçš„é‡ï¼ˆä¾‹å¦‚æ—¶é—´ã€é¢‘ç‡ç­‰ï¼‰ï¼Œå¯ä»¥åªåœ¨æœ€ä¸‹æ–¹æˆ–æœ€å·¦ä¾§çš„å­å›¾æ³¨æ˜å³å¯ï¼Œé¿å…é‡å¤æ ‡æ³¨ã€‚</li>
<li>åˆ»åº¦ç¾åŒ–ï¼šæ ¹æ®éœ€è¦è°ƒæ•´åˆ»åº¦æ ‡ç­¾çš„æ ¼å¼å’Œå¯†åº¦ã€‚ä¾‹å¦‚å¤šä¸ªå­å›¾å…±äº«Xè½´æ—¶ï¼Œä¸Šé¢çš„å­å›¾æˆ‘ä»¬é€šå¸¸å»æ‰Xè½´åˆ»åº¦æ ‡ç­¾ï¼Œåªä¿ç•™åº•éƒ¨ï¼Œä»¥å…æ‹¥æŒ¤ã€‚Matplotlibå·²ç»åœ¨ sharex/sharey æ—¶ä¸ºæˆ‘ä»¬åšäº†è¿™äº›è‡ªåŠ¨å¤„ç†ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ Axes.set_xticksã€Axes.set_xticklabels ç­‰å‡½æ•°è‡ªå®šä¹‰åˆ»åº¦ã€‚</li>
<li>å›¾ä¾‹ï¼ˆLegendï¼‰ï¼šå¦‚æœæŸä¸ªå­å›¾ä¸­ç»˜åˆ¶äº†å¤šæ¡æ›²çº¿æˆ–å¤šç§æ•°æ®ï¼Œå¯¹åº”çš„å›¾ä¾‹èƒ½å¸®åŠ©åŒºåˆ†ä¸åŒé¢œè‰²/æ ·å¼ä»£è¡¨çš„å«ä¹‰ã€‚ä½¿ç”¨ ax.legend() å¯ä»¥è‡ªåŠ¨æ ¹æ®å‰é¢ plot æ—¶ä¼ å…¥çš„ label æ˜¾ç¤ºå›¾ä¾‹ã€‚å¦‚æœæ¯ä¸ªå­å›¾åªæœ‰ä¸€æ¡çº¿ï¼Œå›¾ä¾‹ä¸æ˜¯å¿…é¡»çš„ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡æ ‡é¢˜æˆ–æ³¨é‡Šç›´æ¥è¯´æ˜ã€‚ä½†åœ¨æ¼”ç¤ºä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶ä¼šç¤ºèŒƒå¦‚ä½•æ·»åŠ å›¾ä¾‹ï¼Œä»¥å¤‡è¯»è€…åœ¨éœ€è¦æ—¶å‚è€ƒã€‚</li>
<li>æ•´ä½“æ ‡é¢˜å’Œå¸ƒå±€è°ƒæ•´ï¼šå½“æ•´å¼ å›¾åŒ…å«å¤šä¸ªå­å›¾æ—¶ï¼Œå¾€å¾€è¿˜éœ€è¦ä¸€ä¸ªæ€»æ ‡é¢˜æ¥æ¦‚æ‹¬è¯´æ˜æ•´ä¸ªå›¾è¡¨çš„ä¸»é¢˜ã€‚è¿™å¯ä»¥ä½¿ç”¨ plt.suptitle æˆ– fig.suptitle() æ¥æ·»åŠ ã€‚æ­¤å¤–ï¼Œä¸ºäº†é˜²æ­¢å­å›¾ä¹‹é—´çš„å…ƒç´ é‡å ã€ä¿è¯æ•´ä½“ç¾è§‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ plt.tight_layout() æˆ– plt.subplots_adjust() æ¥è°ƒæ•´å­å›¾é—´çš„é—´è·ã€‚tight_layout ä¼šè‡ªåŠ¨è°ƒæ•´é—´è·ä»¥é€‚åº”æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æœ‰æ—¶æ€»æ ‡é¢˜å¯èƒ½ä¸å­å›¾é‡å ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥åœ¨è°ƒç”¨ tight_layout() æ—¶ç•™å‡ºä¸€ç‚¹é¡¶éƒ¨ç©ºéš™ï¼Œä¾‹å¦‚ plt.tight_layout(rect=[0, 0, 1, 0.95])ï¼Œç¡®ä¿ rect åŒºåŸŸå†…çš„æ˜¯å­å›¾ï¼Œç©ºå‡ºçš„ 5% é«˜åº¦ç”¨äºæ”¾æ€»æ ‡é¢˜ã€‚</li>
</ul>
<p>ä»¥ä¸Šè¿™äº›ç¾åŒ–ç»†èŠ‚ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚çµæ´»è¿ç”¨ã€‚æ€»çš„åŸåˆ™æ˜¯ï¼šæ¸…æ™°æ˜“è¯»ã€‚æ ‡é¢˜è¦å‡†ç¡®ï¼Œæ ‡ç­¾è¦æ¸…æ¥šï¼Œå›¾ä¾‹å¿…è¦æ—¶ç»™å‡ºï¼Œåˆ»åº¦ç®€æ´ä¸é‡å¤ï¼Œå¸ƒå±€ç´§å‡‘ä¸æ‹¥æŒ¤ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç»¼åˆç¤ºä¾‹æ¥å®æˆ˜æ¼”ç»ƒè¿™äº›æŠ€å·§ã€‚</p>
<h4>3.1 çŸ©é˜µå¼å¸ƒå±€ï¼ˆsubplotsï¼‰</h4>
<p>åœ¨ Matplotlib ä¸­ï¼Œæœ€å¸¸ç”¨ä¹Ÿæœ€ç®€å•çš„å¤šå­å›¾å¸ƒå±€æ–¹å¼å°±æ˜¯â€œçŸ©é˜µå¼â€ç½‘æ ¼å¸ƒå±€ã€‚æ‰€è°“çŸ©é˜µå¼å¸ƒå±€ï¼Œå°±æ˜¯æŠŠæ•´å¼ å›¾åƒåˆ’åˆ†æˆè‹¥å¹²è¡ŒÃ—åˆ—çš„ç½‘æ ¼ï¼Œæ¯ä¸ªç½‘æ ¼åŒºåŸŸæ”¾ç½®ä¸€ä¸ªå­å›¾ï¼Œæ’åˆ—æ–¹å¼å°±åƒçŸ©é˜µä¸€æ ·æ•´é½å¯¹é½ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ plt.subplots() å‡½æ•°ä¸€æ¬¡æ€§åˆ›å»ºä¸€ä¸ªçŸ©é˜µå¸ƒå±€çš„å­å›¾ç½‘æ ¼ã€‚è¿™ä¸ªå‡½æ•°ä¼šæ ¹æ®æŒ‡å®šçš„è¡Œåˆ—æ•°é‡ï¼Œåœ¨åŒä¸€ Figure å†…ç”Ÿæˆå¯¹åº”æ•°é‡çš„ Axes å¯¹è±¡ï¼Œå¹¶ä»¥å‡åŒ€å¤§å°æ’åˆ—ã€‚ä¾‹å¦‚ plt.subplots(2, 3) å°†åˆ›å»º2è¡Œ3åˆ—ï¼ˆå…±6ä¸ªï¼‰ç­‰å¤§å°çš„å­å›¾ã€‚çŸ©é˜µå¸ƒå±€é€‚åˆéœ€è¦å±•ç¤ºå¤šä¸ªå†…å®¹ç›¸ä¼¼çš„å›¾è¡¨è¿›è¡Œå¹¶æ’å¯¹æ¯”çš„åœºæ™¯ï¼Œæ¯”å¦‚åŒä¸€ç»„æ•°æ®çš„ä¸åŒå˜æ¢ç»“æœç­‰ã€‚</p>
<p>ä½¿ç”¨ plt.subplots() éå¸¸æ–¹ä¾¿ï¼šå®ƒä¼šè¿”å›ä¸€ä¸ª Figure å¯¹è±¡å’ŒåŒ…å«å¤šä¸ª Axes å­å›¾çš„æ•°ç»„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç´¢å¼•è¿™ä¸ª Axes æ•°ç»„æ¥æ“ä½œå„ä¸ªå­å›¾ï¼Œä¾‹å¦‚è®¾ç½®æ¯ä¸ªå­å›¾çš„æ ‡é¢˜ã€ç»˜åˆ¶æ›²çº¿ç­‰ã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†åˆ›å»ºä¸€ä¸ª2Ã—2çŸ©é˜µå­å›¾å¸ƒå±€ï¼Œå¹¶åœ¨æ¯ä¸ªå­å›¾ä¸Šç»˜åˆ¶ä¸€æ¡ç®€å•çš„ç›´çº¿ï¼ˆæ–œç‡å„ä¸ç›¸åŒï¼‰ï¼š</p>
<blockquote><code>import matplotlib.pyplot as plt</code><br>
<code>import numpy as np</code><br>
<code></code><br>
<code>fig, axes = plt.subplots(nrows=2, ncols=2, figsize=(6,4))  # åˆ›å»º2è¡Œ2åˆ—çš„å­å›¾ç½‘æ ¼</code><br>
<code># é€ä¸€ç»˜åˆ¶æ¯ä¸ªå­å›¾</code><br>
<code>x = np.linspace(0, 5, 100)</code><br>
<code>for i, ax in enumerate(axes.flat):  # axes.flat å°†2x2çš„AxesçŸ©é˜µå±•å¹³æˆä¸€ç»´è¿­ä»£</code><br>
<code>    ax.plot(x, (i+1)*x, label=f&#039;y={i+1}x&#039;)        # åœ¨ç¬¬ i ä¸ªå­å›¾ç»˜åˆ¶çº¿æ€§å‡½æ•° y=(i+1)x</code><br>
<code>    ax.set_title(f&quot;å­å›¾ {i+1}&quot;)                   # è®¾ç½®å­å›¾æ ‡é¢˜ï¼Œä¾‹å¦‚ &quot;å­å›¾ 1&quot;</code><br>
<code>    ax.legend(fontsize=8)                        # æ·»åŠ å›¾ä¾‹</code><br>
<code>plt.tight_layout()                               # è‡ªåŠ¨è°ƒæ•´å¸ƒå±€ä»¥é˜²æ­¢æ ‡ç­¾é‡å </code><br>
<code>plt.show()</code></blockquote><p><img src="/blog/images/legacy/2025-04-24-201557w3nCnH.png" alt="image-20250424201555252"></p>
<p>ä¸Šå›¾æ¼”ç¤ºäº†ä¸€ä¸ª2Ã—2çš„çŸ©é˜µå¼å­å›¾å¸ƒå±€ã€‚å…¶ä¸­æ¯ä¸ªå­å›¾å¤§å°ç›¸ç­‰ï¼Œå½¼æ­¤ä¹‹é—´è‡ªåŠ¨ç•™æœ‰é»˜è®¤é—´è·ã€‚æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„ axes æ•°ç»„æ¥é€ä¸ªè®¿é—®å’Œæ§åˆ¶å„å­å›¾ï¼Œä¾‹å¦‚ç»™æ¯ä¸ªå­å›¾è®¾ç½®äº†æ ‡é¢˜â€œå­å›¾ 1/2/3/4â€ã€‚åƒè¿™æ ·çŸ©é˜µç½‘æ ¼æ’åˆ—çš„æ–¹å¼ä¼˜ç‚¹æ˜¯éå¸¸å¿«æ·æ˜äº†ï¼šåªéœ€ä¸€è¡Œä»£ç å°±ç”Ÿæˆæ‰€éœ€å¸ƒå±€ï¼Œæ¯ä¸ªå­å›¾é»˜è®¤å¯¹é½ç¾è§‚ï¼Œé€‚åˆå¿«é€Ÿç»˜åˆ¶è§„æ•´å¯¹æ¯”çš„å¤šå›¾æƒ…æ™¯ã€‚æ­¤å¤–ï¼Œplt.subplots() è¿˜æä¾›äº† sharexã€sharey ç­‰å‚æ•°æ–¹ä¾¿å­å›¾å…±äº«åæ ‡è½´ï¼Œä»¥åŠ constrained_layout=True æˆ–åç»­è°ƒç”¨ plt.tight_layout() æ¥è‡ªåŠ¨è°ƒæ•´å­å›¾é—´è·ï¼Œé¿å…æ ‡ç­¾é‡å ã€‚</p>
<p>å½“ç„¶ï¼ŒçŸ©é˜µå¼å¸ƒå±€ä¹Ÿæœ‰å±€é™ã€‚å®ƒçš„ç¼ºç‚¹åœ¨äºå­å›¾å¤§å°å’Œæ’åˆ—æ–¹å¼ç›¸å¯¹å›ºå®šï¼Œæ‰€æœ‰ç½‘æ ¼å•å…ƒå¤§å°ç›¸åŒï¼Œéš¾ä»¥æ»¡è¶³ä¸è§„åˆ™å¸ƒå±€éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è®©æŸä¸ªå­å›¾å æ®æ›´å¤§çš„åŒºåŸŸï¼ˆè·¨è¡Œè·¨åˆ—ï¼‰æˆ–è€…å„å­å›¾å°ºå¯¸æ¯”ä¾‹ä¸ä¸€è‡´ï¼Œplt.subplots() å°±æ— æ³•ç›´æ¥å®ç°ã€‚æ­¤å¤–ï¼Œå½“å­å›¾æ•°é‡è¾ƒå¤šæ—¶ï¼ŒçŸ©é˜µå¸ƒå±€å¯èƒ½ä¼šæ˜¾å¾—æ‹¥æŒ¤ï¼Œè°ƒèŠ‚å­å›¾é—´çš„é—´è·éœ€è¦æ‰‹åŠ¨è°ƒç”¨ plt.subplots_adjust() ç­‰æ–¹æ³•ã€‚ä¸è¿‡ï¼Œå¯¹äºå¤§å¤šæ•°å¸¸è§„ç”¨é€”ï¼ŒçŸ©é˜µå¼å¸ƒå±€å·²ç»è¶³å¤Ÿç®€æ´å®ç”¨ï¼Œæ˜¯ç»˜åˆ¶å¤šå­å›¾æ—¶çš„é¦–é€‰æ–¹æ¡ˆã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šçŸ©é˜µå¼å¸ƒå±€é€‚åˆç”¨äºç®€å•è§„æ•´çš„å¤šå›¾å¯¹æ¯”åœºæ™¯ï¼Œä¾‹å¦‚åŒç±»æŒ‡æ ‡åœ¨ä¸åŒæ¡ä»¶ä¸‹çš„æ›²çº¿æ¯”è¾ƒã€ä¸åŒæ•°æ®é›†çš„ç›¸ä¼¼å›¾å½¢å±•ç¤ºç­‰ã€‚æ€»ä¹‹ï¼Œå½“å­å›¾æ•°é‡ä¸å¤šä¸”å¸ƒå±€è¦æ±‚å‡åŒ€å¯¹é½æ—¶ï¼Œä½¿ç”¨ subplots èƒ½å¤§å¤§ç®€åŒ–ç»˜å›¾æµç¨‹ã€‚</p>
<p>**å°ç»“ï¼š**çŸ©é˜µå¼å¸ƒå±€é€šè¿‡ plt.subplots å¿«é€Ÿåˆ›å»ºè§„åˆ™ç½‘æ ¼ä¸­çš„å­å›¾ï¼Œèƒœåœ¨ç®€å•æ˜“ç”¨ï¼›ä½†å¦‚æœéœ€è¦æ›´å¤æ‚çš„å¸ƒå±€ï¼ˆä¸ç­‰å¤§å°çš„å­å›¾æˆ–éå‡åŒ€æ’åˆ—ï¼‰ï¼Œå°±éœ€è¦è€ƒè™‘ä¸‹é¢å°†ä»‹ç»çš„æ›´çµæ´»æ–¹æ³•äº†ã€‚</p>
<h4>3.2 ç½‘æ ¼å¸ƒå±€ï¼ˆGridSpecï¼‰</h4>
<p>å½“çŸ©é˜µå¼çš„å‡åŒ€ç½‘æ ¼æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Matplotlib æä¾›çš„ GridSpec ç½‘æ ¼å¸ƒå±€æ¥è‡ªå®šä¹‰æ›´çµæ´»çš„å­å›¾æ’åˆ—ã€‚GridSpec æ˜¯ matplotlib.gridspec æ¨¡å—ä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºç»†ç²’åº¦åœ°æ§åˆ¶å­å›¾æ‰€åœ¨ç½‘æ ¼çš„ä½ç½®å’Œè·¨è¶ŠèŒƒå›´ã€‚å®ƒçš„åŸç†æ˜¯å…ˆå°†æ•´ä¸ªå›¾å½¢æŒ‰ç…§æŒ‡å®šçš„è¡Œåˆ—æ•°åˆ’åˆ†æˆæ›´ç»†çš„ç½‘æ ¼å•å…ƒï¼Œç„¶åé€šè¿‡æŒ‡å®šæŸä¸ªå­å›¾å ç”¨å“ªäº›å•å…ƒæ ¼ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç›¸é‚»å•å…ƒæ ¼ï¼‰æ¥å®ç°å„ç§ä¸è§„åˆ™å¸ƒå±€ã€‚ç®€å•æ¥è¯´ï¼ŒGridSpec å°±åƒåœ¨å›¾å½¢ä¸Šæ­å»ºäº†ä¸€ä¸ª**â€œç½‘æ ¼æ¿â€**ï¼Œä½ å¯ä»¥ä»»æ„æŒ‡å®šæ¯å¼ å­å›¾åœ¨è¿™å—ç½‘æ ¼æ¿ä¸Šè¦†ç›–çš„åŒºåŸŸå¤§å°ã€‚</p>
<p>ä½¿ç”¨ GridSpec ä¸€èˆ¬éœ€è¦ä¸¤æ­¥ï¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ª GridSpec å®ä¾‹ï¼Œè®¾å®šæ€»çš„è¡Œæ•° nrows å’Œåˆ—æ•° ncolsï¼ˆä»¥åŠå¯é€‰çš„å®½é«˜æ¯”ã€é—´è·ç­‰å‚æ•°ï¼‰ï¼›ç„¶åç”¨è¿™ä¸ª GridSpec æ¥æ·»åŠ å­å›¾ï¼ŒæŒ‡å®šæ¯ä¸ªå­å›¾å æ®çš„ç½‘æ ¼ä½ç½®ã€‚å¯ä»¥ä½¿ç”¨ Figure.add_subplot(GridSpec[pos]) æˆ– plt.subplot(GridSpec[pos]) æ¥åˆ›å»ºå­å›¾ï¼Œå…¶ä¸­ pos å¯ä»¥æ˜¯ç±»ä¼¼åˆ‡ç‰‡çš„ç´¢å¼•ï¼ˆæ¯”å¦‚ spec[0, :] è¡¨ç¤ºç¬¬0è¡Œæ‰€æœ‰åˆ—ï¼‰ã€‚GridSpec å…è®¸é€šè¿‡åˆ‡ç‰‡è¯­æ³•è®©ä¸€ä¸ªå­å›¾è·¨è¶Šå¤šè¡Œæˆ–å¤šåˆ—ï¼Œä»è€Œå®ç°å¤§å°ä¸ä¸€çš„å¤æ‚å¸ƒå±€ã€‚ä¸‹é¢é€šè¿‡ä»£ç ç¤ºä¾‹å±•ç¤º GridSpec çš„ç”¨æ³•ï¼š</p>
<blockquote><code>import matplotlib.pyplot as plt</code><br>
<code>import matplotlib.gridspec as gridspec</code><br>
<code>import numpy as np</code><br>
<code></code><br>
<code>fig = plt.figure(figsize=(6,4))</code><br>
<code># åˆ›å»ºä¸€ä¸ª3è¡Œ4åˆ—çš„GridSpecç½‘æ ¼å¸ƒå±€</code><br>
<code>spec = gridspec.GridSpec(nrows=3, ncols=4, figure=fig)</code><br>
<code></code><br>
<code># ... (24 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p><img src="./image-20250424201716238.png" alt="image-20250424201716238"></p>
<p>ä¸Šå›¾å±•ç¤ºäº†ä½¿ç”¨ GridSpec åˆ›å»ºçš„ä¸€ä¸ªå¤æ‚å¸ƒå±€ç¤ºä¾‹ã€‚å…¶ä¸­ï¼Œax1 å æ®é¡¶ä¸Šä¸€æ•´è¡Œï¼Œæ˜¯ä¸€ä¸ªæ¨ªè·¨4åˆ—çš„é•¿æ¡å½¢å­å›¾ï¼›ä¸­é—´ä¸€è¡Œè¢«æ‹†åˆ†æˆä¸¤ä¸ªå­å›¾ ax2 å’Œ ax3ï¼Œå„å æ®è¯¥è¡Œçš„ä¸€åŠç©ºé—´ï¼›æœ€åä¸€è¡Œå·¦ä¸‹è§’ ax4 å æ®å•ç‹¬ä¸€ä¸ªå°ç½‘æ ¼ï¼Œå¹¶è¢«è®¾ç½®ä¸ºæåæ ‡æŠ•å½±ï¼ˆç»˜åˆ¶äº†ä¸€ä¸ªæåæ ‡å›¾ï¼‰ï¼›æœ€åä¸€è¡Œçš„å…¶ä½™ä¸‰æ ¼è¢« ax5 åˆå¹¶æˆä¸€ä¸ªå®½å¹…å­å›¾ã€‚å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡çµæ´»åœ°æŒ‡å®š GridSpec ç´¢å¼•ï¼ŒåŒä¸€å¼ å›¾ä¸­å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤§å°ä¸åŒçš„å¤šä¸ªå­å›¾ã€‚GridSpec å¹•åå®é™…ä¸Šä¹Ÿæ˜¯ç»†åˆ†ç½‘æ ¼ï¼Œåªä¸è¿‡å…è®¸æˆ‘ä»¬è‡ªç”±ç»„åˆè¿™äº›ç½‘æ ¼å•å…ƒï¼Œä»è€Œçªç ´äº†çŸ©é˜µå¼å¸ƒå±€â€œæ¯ä¸ªå­å›¾åŒå°ºå¯¸â€çš„é™åˆ¶ã€‚</p>
<p>GridSpec ä¼˜åŠ¿åœ¨äºé«˜åº¦çš„çµæ´»æ€§ï¼šæˆ‘ä»¬å¯ä»¥å®šåˆ¶å­å›¾çš„ç›¸å¯¹å¤§å°ï¼ˆé€šè¿‡è®¾å®š width_ratios å’Œ height_ratios å‚æ•°æ¥è°ƒæ•´æ¯åˆ—æ¯è¡Œçš„å®½åº¦æ¯”ä¾‹ï¼‰ï¼Œä¹Ÿå¯ä»¥ç²¾ç¡®æ§åˆ¶å­å›¾é—´çš„é—´éš”ï¼ˆé€šè¿‡ wspaceã€hspace æˆ– leftã€right ç­‰å‚æ•°è°ƒæ•´è¾¹è·ï¼‰ã€‚å®ƒéå¸¸é€‚åˆå¸ƒå±€è¦æ±‚ä¸å‡åŒ€çš„æƒ…å½¢ï¼Œä¾‹å¦‚æŸä¸ªå­å›¾éœ€è¦æ¯”å…¶ä»–å­å›¾å®½ä¸¤å€ï¼Œæˆ–æƒ³åœ¨ä¸€æ—æ”¾ç½®å‡ ä¸ªå°å›¾è¾…åŠ©ä¸»å›¾ç­‰ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œå¦‚æœç”¨æ™®é€šçš„ subplots æ˜¯å¾ˆéš¾ç›´æ¥å®ç°è¿™ç§å¸ƒå±€çš„ï¼Œè€Œ GridSpec åˆ™è½»æ¾å®Œæˆã€‚</p>
<p>GridSpec çš„åŠ£åŠ¿ä¸»è¦æ˜¯ä½¿ç”¨ç¨æ˜¾å¤æ‚ã€‚ç›¸è¾ƒäº subplots ä¸€è¡Œä»£ç ç”Ÿæˆç½‘æ ¼ï¼ŒGridSpec éœ€è¦å…ˆåˆ›å»ºç½‘æ ¼è§„æ ¼å†é€ä¸ªæ·»åŠ å­å›¾ï¼Œä»£ç é‡å¢åŠ çš„åŒæ—¶ä¹Ÿéœ€è¦å¯¹å¸ƒå±€æœ‰æ›´æ¸…æ™°çš„è§„åˆ’ã€‚æ­¤å¤–ï¼ŒGridSpec çš„å¸ƒå±€ä»ç„¶å—é™äºç½‘æ ¼åˆ’åˆ†æœ¬èº«ï¼šè™½ç„¶ä½ å¯ä»¥é€šè¿‡å¢åŠ æ€»è¡Œåˆ—æ•°æ¥æé«˜å¸ƒå±€ç²¾åº¦ï¼Œä½†æœ¬è´¨ä¸Šå­å›¾è¾¹ç•Œä»å¯¹é½äºæŸä¸ªç½‘æ ¼çº¿ã€‚å¦‚æœéœ€è¦å®Œå…¨è‡ªç”±çš„ä½ç½®ï¼ˆæ¯”å¦‚ä¸è§„åˆ™åç§»ã€ä¸å¯¹é½äºç»Ÿä¸€ç½‘æ ¼ï¼‰ï¼Œé‚£ GridSpec ä¹Ÿæ— èƒ½ä¸ºåŠ›ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨åˆ°æ›´åº•å±‚çš„è‡ªç”±å¸ƒå±€æ–¹æ³•ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šå½“å­å›¾å¤§å°ä¸ç»Ÿä¸€æˆ–è€…éœ€è¦å­å›¾è·¨è¶Šå¤šè¡Œå¤šåˆ—æ—¶ï¼Œåº”è€ƒè™‘ GridSpecã€‚ä¾‹å¦‚åˆ¶ä½œå­¦æœ¯è®ºæ–‡ä¸­çš„å¤æ‚åˆ†æ ¼å›¾ã€ä¸€å¼ å›¾é‡ŒåŒ…å«ä¸»å›¾å’Œæ•°ä¸ªå°å›¾æ‹¼åˆçš„æƒ…å†µï¼ŒGridSpec èƒ½è®©å¸ƒå±€è¿‡ç¨‹æ›´åŠ é¡ºæ‰‹ã€‚å¦å¤–ï¼Œå¦‚æœåªæ˜¯ç•¥å¾®è°ƒæ•´éƒ¨åˆ†å­å›¾å¤§å°ï¼Œå…¶å®ä¹Ÿå¯ä»¥é€šè¿‡ plt.subplots() çš„ gridspec_kw å‚æ•°ä¼ é€’ width_ratios ç­‰æ¥å®ç°ï¼Œä½†å¸ƒå±€ä¸€å¤æ‚è¿˜æ˜¯ç›´æ¥ä½¿ç”¨ GridSpec æ›´ç›´è§‚æ˜äº†ã€‚</p>
<h4>3.3 è‡ªç”±å¸ƒå±€ï¼ˆadd_axesï¼‰</h4>
<p>é™¤äº†ä»¥ä¸ŠæŒ‰ç½‘æ ¼åˆ’åˆ†åŒºåŸŸçš„æ–¹å¼ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯¹å­å›¾çš„ä½ç½®å’Œå¤§å°è¿›è¡Œå®Œå…¨è‡ªç”±åœ°æ§åˆ¶ã€‚Matplotlib æä¾›çš„åº•å±‚æ–¹æ³• Figure.add_axes()ï¼ˆæˆ–è€…ç­‰ä»·çš„ plt.axes() å‡½æ•°ï¼‰å…è®¸æˆ‘ä»¬é€šè¿‡æŒ‡å®šå½’ä¸€åŒ–åæ ‡ç›´æ¥åœ¨å›¾å½¢ä¸Šæ”¾ç½®å­å›¾ï¼Œè¿™è¢«ç§°ä¸ºè‡ªç”±å¸ƒå±€ã€‚è‡ªç”±å¸ƒå±€å¹¶ä¸ä¾èµ–ç»Ÿä¸€çš„ç½‘æ ¼åˆ’åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›¾è¡¨çš„ä»»æ„ä½ç½®æ’å…¥ä¸€ä¸ªæ–°çš„ Axesã€‚add_axes éœ€è¦ä¸€ä¸ª [left, bottom, width, height] åˆ—è¡¨å‚æ•°ï¼Œè¿™å››ä¸ªå€¼éƒ½æ˜¯ç›¸å¯¹äºå›¾å½¢ Figure çš„æ¯”ä¾‹ï¼ˆ0~1èŒƒå›´çš„å°æ•°ï¼‰ï¼Œè¡¨ç¤ºå­å›¾ç›¸å¯¹äºæ•´å¹…å›¾å½¢å·¦ä¸‹è§’çš„ä½ç½®å’Œå®½é«˜ã€‚ä¾‹å¦‚ [0.1, 0.1, 0.8, 0.8] å°±è¡¨ç¤ºåœ¨è·ç¦»å›¾å½¢å·¦è¾¹10%ã€ä¸‹è¾¹10%çš„ä½ç½®æ”¾ç½®ä¸€ä¸ªå®½80%ã€é«˜80%çš„å­å›¾ã€‚</p>
<p>è‡ªç”±å¸ƒå±€çš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯çµæ´»æ€§ï¼šä¸æ‹˜æ³¥äºä»»ä½•ç½‘æ ¼ï¼Œä½ æƒ³æŠŠå­å›¾æ”¾åœ¨å“ªå„¿ã€å¤šå¤§ï¼Œéƒ½ç”±ä½ æ¥å†³å®šã€‚å¸¸è§ç”¨æ³•ä¹‹ä¸€æ˜¯åœ¨ä¸»å›¾ä¸­åµŒå…¥å°å›¾ï¼ˆinsetï¼‰ä»¥å±•ç¤ºå±€éƒ¨æ”¾å¤§ç»†èŠ‚ã€‚è¿™ç§æƒ…å½¢ä¸‹ï¼Œå°å›¾å¾€å¾€éœ€è¦ç²¾ç¡®åœ°æ”¾ç½®åœ¨ä¸»å›¾æŸä¸ªè§’è½ä¸Šï¼Œè€Œå…·ä½“çš„ä½ç½®å¤§å°å¯èƒ½æ˜¯ä»»æ„çš„ï¼Œå°±å¯ä»¥ç”¨ add_axes æ‰‹åŠ¨è°ƒæ•´ã€‚ä¸‹é¢ä»£ç æ¼”ç¤ºäº†åˆ›å»ºä¸€ä¸ªä¸»å­å›¾å’Œä¸€ä¸ªåµŒå…¥çš„å°å­å›¾ï¼š</p>
<blockquote><code>import matplotlib.pyplot as plt</code><br>
<code>import numpy as np</code><br>
<code></code><br>
<code>x = np.linspace(0, 2*np.pi, 400)</code><br>
<code>y_main = np.sin(x)</code><br>
<code>y_inset = y_main + 0.1*np.random.randn(len(x))  # å¸¦ä¸€ç‚¹å™ªå£°çš„æ­£å¼¦ï¼Œä½œä¸ºæ’å…¥å›¾çš„æ•°æ®</code><br>
<code></code><br>
<code>fig = plt.figure(figsize=(6,4))</code><br>
<code># ... (13 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p><img src="/blog/images/legacy/2025-04-24-201843lmadt0.png" alt="image-20250424201842221"></p>
<p>ä»¥ä¸Šçš„è¾“å‡ºå›¾ä¸­ï¼Œå¤§çš„æ­£å¼¦æ³¢æ›²çº¿æ˜¯ä¸» Axesï¼ˆax_mainï¼‰ï¼Œå æ®äº†å›¾å½¢ç»å¤§éƒ¨åˆ†åŒºåŸŸï¼›å³ä¸Šè§’åµŒå…¥äº†ä¸€ä¸ªå°çš„ Axesï¼ˆax_insetï¼‰ï¼Œæ˜¾ç¤ºäº†ä¸»å›¾å‰åŠæ®µæ­£å¼¦æ³¢åŠ å™ªå£°çš„ç»†èŠ‚ã€‚é€šè¿‡æ‰‹åŠ¨è°ƒæ•´ add_axes çš„å‚æ•°ï¼Œæˆ‘ä»¬å°†å°å›¾ç²¾ç¡®åœ°å®šä½åœ¨ä¸»å›¾å†…éƒ¨ã€‚è‡ªç”±å¸ƒå±€è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨åŒä¸€å¼  Figure ä¸­ä»»æ„å åŠ å¤šä¸ªåæ ‡ç³»ï¼šä¸ä»…å¯ä»¥å¹¶æ’æ”¾ç½®ï¼Œè¿˜å¯ä»¥ç›¸äº’é‡å ï¼ˆæ¯”å¦‚åœ¨ä¸»å›¾ä¸Šå åŠ ä¸€ä¸ªå±€éƒ¨æ”¾å¤§å›¾ï¼Œå°±åƒä¸Šä¾‹ä¸€æ ·ï¼‰ã€‚è¿™ç§æ–¹æ³•åœ¨éœ€è¦æ·»åŠ æ•°æ®ç»†èŠ‚æ”¾å¤§å›¾ã€å±€éƒ¨åŒºåŸŸå¯¹æ¯”å›¾ï¼Œæˆ–è€…åœ¨å›¾ä¸­æŸå¤„æ·»åŠ ç‰¹æ®Šçš„è¾…åŠ©åæ ‡ç³»ï¼ˆå¦‚è‰²å½©æ¡ã€ç¤ºæ„å›¾ç­‰ï¼‰æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<p>è‡ªç”±å¸ƒå±€ç»™äºˆäº†æœ€å¤§é™åº¦çš„æ§åˆ¶ï¼Œä½†ä¹Ÿæ„å‘³ç€éœ€è¦å¼€å‘è€…è‡ªå·±è®¡ç®—å’Œè°ƒæ•´ä½ç½®ï¼Œå› æ­¤æœ‰ä¸€äº›æ³¨æ„ç‚¹å’Œä¸è¶³ï¼šé¦–å…ˆï¼Œæ‰€æœ‰æ•°å€¼éƒ½æ˜¯ç›¸å¯¹æ¯”ä¾‹ï¼Œå¦‚æœæ—¥åæ›´æ”¹å›¾å½¢å°ºå¯¸æˆ–è€…ä¿å­˜ä¸ºä¸åŒå¤§å°ï¼Œå¯èƒ½éœ€è¦é‡æ–°è°ƒæ•´è¿™äº›å‚æ•°ä»¥è¾¾åˆ°ç†æƒ³å¸ƒå±€ã€‚å…¶æ¬¡ï¼Œç”±äºä¸å†æœ‰ç½‘æ ¼å‚è€ƒï¼Œå¯¹é½å¤šä¸ªè‡ªç”±æ”¾ç½®çš„å­å›¾ä¼šæ¯”è¾ƒè€—è´¹ç²¾åŠ›â€”â€”æ¯”å¦‚æƒ³è®©ä¸¤ä¸ªè½´çš„å®½åº¦ç²¾ç¡®ç›¸ç­‰ã€æ°´å¹³å¯¹é½ï¼Œå°±éœ€è¦æ‰‹åŠ¨ä¿è¯å®ƒä»¬çš„åæ ‡å‚æ•°ä¸€è‡´ã€‚ç›¸å¯¹äºå‰é¢çš„è‡ªåŠ¨ç½‘æ ¼å¸ƒå±€ï¼Œadd_axes ç¼ºå°‘è‡ªåŠ¨æ’ç‰ˆåŠŸèƒ½ï¼Œå¦‚æœæœ‰é‡å ä¹Ÿä¸ä¼šå‘å‡ºè­¦å‘Šï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶è¦ç‰¹åˆ«ä»”ç»†ã€‚ä¸è¿‡ï¼Œåªè¦å¸ƒå±€éœ€æ±‚æ˜ç¡®ï¼Œé€šè¿‡åå¤è°ƒæ•´ [left, bottom, width, height] å‚æ•°ï¼Œä¹Ÿå¯ä»¥å®ç°éå¸¸ç²¾ç¾çš„ç»„åˆå›¾å½¢ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šè‡ªç”±å¸ƒå±€é€‚ç”¨äºé‚£äº›å¸¸è§„ç½‘æ ¼éš¾ä»¥è¦†ç›–çš„ç‰¹æ®Šè®¾è®¡ã€‚ä¾‹å¦‚ï¼šåœ¨ä¸»è¦å›¾è¡¨ä¸­åµŒå…¥æ”¾å¤§å›¾ã€åœ¨è§’è½æ·»åŠ é¢å¤–çš„ä¿¡æ¯å›¾è¡¨ã€ç»˜åˆ¶ä¸è§„åˆ™æ’ç‰ˆçš„å¯è§†åŒ–ä½œå“ç­‰ã€‚å½“éœ€è¦å®Œå…¨è‡ªå®šä¹‰å­å›¾çš„ä½ç½®ï¼ˆç”šè‡³å…è®¸å­å›¾åŒºåŸŸå½¼æ­¤é‡å ï¼‰æ—¶ï¼Œfig.add_axes() æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚æ­¤å¤–ï¼Œä¸€äº›Matplotlibé™„åŠ åŠŸèƒ½ï¼ˆå¦‚åŒYè½´ã€æåæ ‡ä¸ç¬›å¡å°”åæ ‡æ··åˆç­‰ï¼‰èƒŒåä¹Ÿæ˜¯é€šè¿‡è‡ªç”±å¸ƒå±€åŸç†å®ç°çš„ã€‚</p>
<p>**ä¼˜ç‚¹ï¼š**æœ€å¤§ç¨‹åº¦çš„çµæ´»ï¼Œæƒ³æ”¾å“ªå°±æ”¾å“ªï¼Œèƒ½å¤Ÿå®ç°æœ€å¤æ‚çš„å¸ƒå±€éœ€æ±‚ï¼›å¯¹äºç²¾ç»†æ’ç‰ˆæˆ–ç‰¹æ®Šå›¾å½¢ï¼ˆæ¯”å¦‚Insetå°å›¾ï¼‰æ¥è¯´ï¼Œè¿™æ˜¯å”¯ä¸€èƒ½ç²¾ç¡®å®šä½çš„æ–¹æ³•ã€‚</p>
<p>**ç¼ºç‚¹ï¼š**éœ€è¦æ‰‹åŠ¨è®¡ç®—åæ ‡ï¼Œä½¿ç”¨æˆæœ¬è¾ƒé«˜ã€‚ä¸å½“ä½¿ç”¨å¯èƒ½å¯¼è‡´å­å›¾äº’ç›¸é‡å æˆ–å¸ƒå±€å¤±è°ƒï¼›å½“å­å›¾å¾ˆå¤šæ—¶ï¼Œæ‰‹åŠ¨è°ƒæ•´æ¯ä¸ªçš„å‚æ•°ä¹Ÿæ¯”è¾ƒç¹çã€‚å¦å¤–ï¼Œè‡ªç”±å¸ƒå±€æ–¹å¼åŸºæœ¬æ— æ³•äº«å— Matplotlib æä¾›çš„è‡ªåŠ¨å¸ƒå±€è°ƒæ•´åŠŸèƒ½ï¼ˆå¦‚ tight_layout å¯¹æ‰‹åŠ¨æ·»åŠ çš„è½´ä½œç”¨æœ‰é™ï¼‰ï¼Œéœ€è¦ç”¨æˆ·è‡ªè¡Œä¿è¯ç¾è§‚å¯¹é½ã€‚</p>
<p>ä»¥ä¸Šæˆ‘ä»¬ä»‹ç»äº†ä¸‰ç§ Matplotlib ä¸­å¸¸è§çš„å­å›¾å¸ƒå±€æ–¹å¼ï¼šä»ç®€å•æ˜“ç”¨çš„çŸ©é˜µå¼å¸ƒå±€ï¼Œåˆ°çµæ´»å¼ºå¤§çš„ç½‘æ ¼å¸ƒå±€ï¼Œå†åˆ°å®Œå…¨è‡ªå®šä¹‰ä½ç½®çš„è‡ªç”±å¸ƒå±€ã€‚åœ¨å®é™…ç»˜å›¾ä¸­ï¼Œåº”æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ³•ï¼šè§„åˆ™æ’åˆ—çš„å¤šå­å›¾ä¼˜å…ˆç”¨ subplotsï¼Œéè§„åˆ™æ’ç‰ˆç”¨ GridSpecï¼Œè€Œéœ€è¦ç²¾ç¡®å®šä½æ—¶æ‰è€ƒè™‘ add_axesã€‚çµæ´»è¿ç”¨è¿™äº›å¸ƒå±€æŠ€å·§ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ¶ä½œå‡ºä¸°å¯Œå¤šæ ·çš„å¤åˆå›¾å½¢ï¼Œæ›´æœ‰æ•ˆåœ°ä¼ è¾¾æ•°æ®æ•…äº‹ã€‚</p>
<h3>4. å®æˆ˜ç¤ºä¾‹ï¼šç»¼åˆæ¡ˆä¾‹åˆ†æ</h3>
<p>å‡è®¾æˆ‘ä»¬æƒ³è¦ç»¼åˆå±•ç¤ºå¤šæ¡æ­£å¼¦/ä½™å¼¦å‡½æ•°æ›²çº¿çš„ç‰¹æ€§ã€‚æˆ‘ä»¬æ‰“ç®—åœ¨ä¸€å¼ å›¾çš„2è¡Œ2åˆ—ç½‘æ ¼ä¸­å±•ç¤º4ä¸ªå­å›¾ï¼ŒåŒ…æ‹¬ $\sin(x)$ã€$\cos(x)$ã€$\sin(2x)$ ä»¥åŠ $\sin(x)+\cos(x)$ å››æ¡æ›²çº¿ï¼Œå„å ä¸€ä¸ªå­å›¾ã€‚ä¸ºäº†ä¾¿äºæ¯”è¾ƒï¼Œæ‰€æœ‰å­å›¾å…±äº«ç›¸åŒçš„Xè½´åˆ»åº¦èŒƒå›´ã€‚æˆ‘ä»¬å°†ä¸ºæ¯ä¸ªå­å›¾æ·»åŠ æ ‡é¢˜ã€å›¾ä¾‹ç­‰ï¼Œå¹¶ç»™æ•´å¼ å›¾åŠ ä¸€ä¸ªæ€»æ ‡é¢˜ã€‚ä»¥ä¸‹æ˜¯ç¤ºä¾‹ä»£ç ï¼ˆå¯¹åº” 02_figure.py æ–‡ä»¶çš„åŠŸèƒ½ï¼‰ï¼š</p>
<p><img src="/blog/images/legacy/2025-04-24-193901EAZH1W.png" alt="image-20250424193859186"></p>
<p>ç”Ÿæˆçš„2x2å­å›¾å¸ƒå±€ç¤ºä¾‹ï¼šåˆ†åˆ«ç»˜åˆ¶ $\sin(x)$ã€$\cos(x)$ã€$\sin(2x)$ å’Œ $\sin(x)+\cos(x)$ æ›²çº¿ï¼Œæ¯ä¸ªå­å›¾éƒ½æœ‰è‡ªå·±çš„æ ‡é¢˜å’Œå›¾ä¾‹ï¼Œä¸”å…±äº«æ¨ªè½´ã€‚æ€»æ ‡é¢˜æ˜¾ç¤ºåœ¨é¡¶éƒ¨ã€‚</p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code># 1. å‡†å¤‡æ•°æ®</code><br>
<code>x = np.linspace(-np.pi, np.pi, 400)       # åœ¨[-Ï€, Ï€]èŒƒå›´å†…ç”Ÿæˆ400ä¸ªç‚¹</code><br>
<code>y_sin   = np.sin(x)</code><br>
<code>y_cos   = np.cos(x)</code><br>
<code>y_sin2  = np.sin(2 * x)</code><br>
<code># ... (30 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä¸Šè¿°ä»£ç ä¸€æ­¥ä¸€æ­¥åœ°å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ªç»¼åˆå›¾è¡¨ï¼š</p>
<ul>
<li>æ•°æ®å‡†å¤‡ï¼šç”Ÿæˆäº† x ä»¥åŠå¯¹åº”çš„4ç»„ y æ•°æ®ã€‚å…¶ä¸­ y_sum æ˜¯å°†æ­£å¼¦å’Œä½™å¼¦ç›¸åŠ ï¼Œä½œä¸ºç¬¬å››ä¸ªå­å›¾çš„æ•°æ®ã€‚è¿™éƒ¨åˆ†åœ¨å®é™…åº”ç”¨ä¸­å¯ä»¥æ›¿æ¢ä¸ºä»»ä½•ä½ éœ€è¦å¯¹æ¯”å±•ç¤ºçš„å¤šä¸ªæ•°æ®ç³»åˆ—ã€‚</li>
<li>åˆ›å»ºå­å›¾ç½‘æ ¼ï¼šæˆ‘ä»¬ä½¿ç”¨ plt.subplots(2, 2, sharex=True, figsize=(8,6)) åˆ›å»ºäº†2è¡Œ2åˆ—çš„ç½‘æ ¼å­å›¾ï¼Œä¸€æ¬¡æ€§è¿”å› fig å’Œ axesã€‚è¿™é‡Œè®¾ç½®äº† sharex=Trueï¼Œå› æ­¤4ä¸ªå­å›¾å…±äº«Xè½´åˆ»åº¦ã€‚æ­¤å¤–é€šè¿‡ figsize å‚æ•°è°ƒæ•´æ•´å¼ å›¾çš„å°ºå¯¸ï¼ˆ8x6è‹±å¯¸ï¼‰ï¼Œä»¥è·å¾—åˆé€‚çš„å®½é«˜æ¯”ã€‚</li>
<li>æ·»åŠ æ€»æ ‡é¢˜ï¼šè°ƒç”¨ fig.suptitle(&quot;Subplots Demo&quot;, ...) å¢åŠ äº†æ•´ä¸ªå›¾çš„æ ‡é¢˜ã€‚åœ¨æœ¬ä¾‹ä¸­æˆ‘ä»¬ç”¨äº†è‹±æ–‡ï¼Œä¸ºçš„æ˜¯é¿å…ä¸­æ–‡æ˜¾ç¤ºå¯èƒ½é‡åˆ°çš„å­—ä½“é—®é¢˜ã€‚å¦‚æœéœ€è¦ä¸­æ–‡æ ‡é¢˜ï¼ˆä¾‹å¦‚â€œå¤šä¸ªå­å›¾ç»¼åˆç¤ºä¾‹â€ï¼‰ï¼Œå¯ä»¥åœ¨ä»£ç å¼€å¤´é€šè¿‡ matplotlib.rcParams è®¾ç½®ä¸­æ–‡å­—ä½“ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨æ”¯æŒä¸­æ–‡çš„å­—ä½“åº“ï¼Œè¿™é‡Œä¸å±•å¼€ç»†è¿°ã€‚</li>
<li>ç»˜åˆ¶å„å­å›¾å†…å®¹ï¼šæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹ axes æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ä¾æ¬¡è°ƒç”¨ plot ç»˜åˆ¶æ›²çº¿ï¼Œå¹¶è®¾ç½®æ ‡é¢˜å’Œæ ‡ç­¾ã€‚æ¯”å¦‚ axes[0,0] ä»£è¡¨ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„å­å›¾ï¼Œç»˜åˆ¶çš„æ˜¯ y_sin æ•°æ®å¹¶æ ‡æ³¨æ ‡é¢˜â€œsin(x) æ›²çº¿â€ã€‚æˆ‘ä»¬è¿˜è®¾ç½®äº†è¯¥å­å›¾çš„Yè½´æ ‡ç­¾ä¸ºâ€Amplitudeâ€ï¼ˆå¹…åº¦ï¼‰ï¼Œå¹¶è°ƒç”¨ legend æ˜¾ç¤ºå›¾ä¾‹ã€‚åŒæ ·çš„æ–¹æ³•åº”ç”¨åˆ°å…¶ä½™ä¸‰ä¸ªå­å›¾ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è®¾ç½®å­å›¾ç½‘æ ¼æ ‡é¢˜æ—¶ï¼Œæˆ‘ä»¬åœ¨ä¸­æ–‡ååŠ äº†â€œæ›²çº¿â€äºŒå­—ï¼Œä»¥ç¤ºè¯¥å›¾æ‰€è¡¨ç¤ºçš„æ˜¯å‡½æ•°æ›²çº¿ï¼›ä½ ä¹Ÿå¯ä»¥æ ¹æ®å®é™…å†…å®¹èµ·æ›´æœ‰æ„ä¹‰çš„æ ‡é¢˜ã€‚</li>
<li>å›¾ä¾‹è¯´æ˜ï¼šæ¯ä¸ªå­å›¾æˆ‘ä»¬éƒ½è°ƒç”¨äº† legend(loc=&#39;best&#39;)ã€‚ç”±äºæˆ‘ä»¬åœ¨ plot æ—¶ä¼ å…¥äº† label å‚æ•°ï¼ŒMatplotlib ä¼šè‡ªåŠ¨åˆ›å»ºç›¸åº”çš„å›¾ä¾‹æ¡ç›®ã€‚å¯¹äºåªæœ‰ä¸€æ¡çº¿çš„å­å›¾ï¼Œå›¾ä¾‹å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºæ ‡é¢˜å·²ç»è¯´æ˜äº†ä¸€åˆ‡ï¼›è¿™é‡Œæ·»åŠ å›¾ä¾‹ä¸»è¦æ˜¯æ¼”ç¤ºç”¨æ³•ã€‚å¦‚æœæŸä¸ªå­å›¾ä¸­æœ‰å¤šæ¡æ›²çº¿ï¼Œå›¾ä¾‹å°±éå¸¸é‡è¦ï¼Œå¯ä»¥ä½¿ç”¨ loc=&#39;best&#39; è®© Matplotlib è‡ªåŠ¨é€‰æ‹©æœ€ä½³ä½ç½®ï¼Œæˆ–æ‰‹åŠ¨æŒ‡å®šä½ç½®é¿å…é®æŒ¡å…³é”®å†…å®¹ã€‚</li>
<li>å¸ƒå±€è°ƒæ•´ï¼šæœ€åï¼Œæˆ‘ä»¬è°ƒç”¨äº† plt.tight_layout(rect=[0, 0, 1, 0.95]) æ¥ä¼˜åŒ–å­å›¾çš„å¸ƒå±€ã€‚tight_layout ä¼šè‡ªåŠ¨è°ƒæ•´å­å›¾ä¹‹é—´çš„ç©ºç™½ä»¥é˜²æ­¢å†…å®¹é‡å ã€‚è¿™é‡Œç‰¹åˆ«ä¼ å…¥äº† rect=[0, 0, 1, 0.95]ï¼Œæ„æ€æ˜¯å°†ç»˜å›¾åŒºåŸŸé™å®šåœ¨ç”»å¸ƒçš„0%åˆ°95%é«˜åº¦ä¹‹é—´ï¼Œç•™å‡ºä¸Šæ–¹5%çš„ç©ºç™½ç”¨äºæ”¾ç½®æ€»æ ‡é¢˜ï¼ˆå¦åˆ™æ€»æ ‡é¢˜å¯èƒ½ä¼šè¢«å‹ç¼©åˆ°çœ‹ä¸è§ï¼‰ã€‚ç´§æ¥ç€ plt.show() æ˜¾ç¤ºæœ€ç»ˆæ•ˆæœã€‚</li>
</ul>
<p>è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ å°†å¾—åˆ°ä¸€ä¸ªåŒ…å«4ä¸ªå­å›¾çš„ç»¼åˆå›¾è¡¨ã€‚æ¯ä¸ªå­å›¾éƒ½æœ‰æ¸…æ™°çš„æ ‡é¢˜å’Œåˆ»åº¦ï¼Œåº•éƒ¨å…±äº«çš„Xè½´åˆ»åº¦ä¸º -3.14ï¼ˆ-Ï€ï¼‰åˆ° 3.14ï¼ˆÏ€ï¼‰ï¼Œæ•´ä½“æ ‡é¢˜ä½äºé¡¶éƒ¨ä¸­å¤®ã€‚é€šè¿‡è¿™æ ·çš„å¸ƒå±€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å¼ å›¾ä¸­æ–¹ä¾¿åœ°å¯¹æ¯” $\sin(x)$ã€$\cos(x)$ åŠå…¶å˜ä½“çš„å·®å¼‚ã€‚ä¾‹å¦‚ï¼Œä»å›¾ä¸­å¯ä»¥è§‚å¯Ÿåˆ° $\sin(2x)$ ç›¸å¯¹äº $\sin(x)$ å‘¨æœŸç¼©çŸ­äº†ä¸€åŠï¼Œè€Œ $\sin(x)+\cos(x)$ æ›²çº¿åˆ™è¡¨ç°ä¸ºç›¸ä½ç›¸å·®90åº¦çš„æ­£å¼¦æ³¢å åŠ ã€‚</p>
<p>åœ¨å®é™…ç»˜å›¾æ—¶ï¼Œå­å›¾çš„æ•°é‡å’Œæ’åˆ—åº”æ ¹æ®è¦è¡¨è¾¾çš„å†…å®¹æ¥å†³å®šã€‚ä¸è¦ä¸ºäº†è¿½æ±‚â€œä¸€é¡µå±•ç¤ºæ‰€æœ‰â€è€ŒæŠŠè¿‡å¤šçš„å­å›¾æŒ¤åœ¨ä¸€èµ·ï¼Œè¿™ä¼šä½¿æ¯ä¸ªå­å›¾è¿‡äºè¢–çï¼Œéš¾ä»¥çœ‹æ¸…ç»†èŠ‚ã€‚å¯¹äºå­å›¾è¾ƒå¤šçš„æƒ…å†µï¼Œå¯ä»¥é€‚å½“å¢å¤§ figsizeï¼Œæˆ–æ‹†åˆ†æˆå¤šå¼ å›¾ã€‚æ­¤å¤–ï¼Œç¡®ä¿åŒä¸€ç»„å­å›¾ä½¿ç”¨ä¸€è‡´çš„æ ·å¼å’Œæ¯”ä¾‹å°ºï¼Œå¦‚æœéœ€è¦æ¯”è¾ƒä¸åŒæ•°æ®é›†ï¼Œå…±äº«åæ ‡è½´èƒ½å¤Ÿé¿å…è§‚ä¼—è¢«ä¸åŒçš„åˆ»åº¦è¿·æƒ‘ã€‚æœ€åï¼Œå–„ç”¨æ ‡é¢˜å’Œæ³¨é‡Šï¼Œè®©è¯»è€…ä¸€çœ¼å°±èƒ½æŠ“ä½é‡ç‚¹ã€‚</p>
<h2>å…­ã€ç»Ÿè®¡å›¾å½¢</h2>
<p>åœ¨æ•°æ®å¯è§†åŒ–ä¸­ï¼Œç»Ÿè®¡å›¾å½¢ç”¨äºå±•ç¤ºæ•°æ®çš„åˆ†å¸ƒã€æ¯”è¾ƒåŠå…³ç³»ã€‚æœ¬èŠ‚å°†ä»‹ç» Matplotlib ä¸­å‡ ç§å¸¸ç”¨çš„ç»Ÿè®¡å›¾å½¢ï¼ŒåŒ…æ‹¬æ•£ç‚¹å›¾ã€å¡«å……å›¾ã€æ¡å½¢å›¾å’Œç›´æ–¹å›¾çš„ç”¨æ³•ã€‚æˆ‘ä»¬å°†é€šè¿‡ç¤ºä¾‹ä»£ç æ¼”ç¤ºå¦‚ä½•ç»˜åˆ¶è¿™äº›å›¾å½¢ï¼Œå¹¶ç»“åˆå·¥ç¨‹åº”ç”¨åœºæ™¯ç»™å‡ºä¸€äº›å®ç”¨å»ºè®®å’Œå¸¸è§çš„å‚æ•°è°ƒä¼˜æŠ€å·§ã€‚</p>
<h3>1 æ•£ç‚¹å›¾</h3>
<p>æ•£ç‚¹å›¾ï¼ˆScatter Plotï¼‰ç”¨äºæ˜¾ç¤ºäºŒç»´æ•°æ®åˆ†å¸ƒåŠå…¶ç‰¹å¾ï¼Œå¸¸ç”¨æ¥è§‚å¯Ÿæ•°æ®ç‚¹åœ¨å¹³é¢ä¸Šçš„åˆ†å¸ƒå½¢æ€ã€‚é€šè¿‡ plt.scatter å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶å‡ºæ•°æ®ç‚¹äº‘ï¼Œå¹¶åˆ©ç”¨é¢œè‰²ã€å¤§å°ã€å½¢çŠ¶ç­‰è§†è§‰å…ƒç´ æ˜ å°„æ•°æ®çš„ä¸åŒç‰¹å¾å€¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨æ•£ç‚¹å›¾ä¸­åŒæ—¶ä½“ç°æ¯ä¸ªç‚¹çš„ç±»åˆ«ï¼ˆç”¨ä¸åŒå½¢çŠ¶åŒºåˆ†ï¼‰ã€æŸè¿ç»­å±æ€§çš„å¤§å°ï¼ˆç”¨é¢œè‰²æ·±æµ…æˆ–å¤§å°è¡¨ç¤ºï¼‰ç­‰ã€‚æ•£ç‚¹å›¾å¹¿æ³›åº”ç”¨äºèšç±»ç»“æœå¯è§†åŒ–ã€å¼‚å¸¸æ£€æµ‹ç­‰åœºæ™¯ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿç›´è§‚å±•ç¤ºä¸åŒç»„æ•°æ®çš„èšé›†ç¨‹åº¦å’Œç¦»æ•£æƒ…å†µã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ¨¡æ‹Ÿäº†ä¸¤ä¸ªç±»åˆ«çš„äººç¾¤æ ·æœ¬æ•°æ®ã€‚æˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªæ­£æ€åˆ†å¸ƒé›†ç¾¤ï¼ˆGroup A å’Œ Group Bï¼‰ï¼Œå¹¶å‡è®¾æ¯ä¸ªæ ·æœ¬ç‚¹æœ‰ä¸‰ä¸ªç‰¹å¾ï¼šäºŒç»´å¹³é¢åæ ‡ (x, y)ã€å¹´é¾„å€¼ ageï¼ˆç”¨äºæ˜ å°„é¢œè‰²ï¼‰ã€ä»¥åŠä¸€ä¸ªéšæœºå¤§å°ç‰¹å¾ï¼ˆç”¨äºæ˜ å°„ç‚¹çš„å¤§å°ï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„æ•£ç‚¹å½¢çŠ¶å’Œé¢œè‰²æ¥åŒºåˆ†è¿™ä¸¤ç±»æ ·æœ¬ï¼Œå¹¶é€šè¿‡é¢œè‰²æ¸å˜è¡¨ç¤ºå¹´é¾„ç‰¹å¾ã€‚</p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code># 1. æ¨¡æ‹Ÿä¸¤ç±»äººç¾¤çš„äºŒç»´æ­£æ€åˆ†å¸ƒæ•°æ®</code><br>
<code>np.random.seed(0)  # è®¾ç½®éšæœºç§å­ï¼Œä¿è¯ç»“æœå¯é‡å¤</code><br>
<code>n = 50</code><br>
<code># Group A: å‡å€¼åœ¨(0,0)é™„è¿‘çš„æ­£æ€åˆ†å¸ƒç‚¹</code><br>
<code>x1 = np.random.normal(0, 1, n)</code><br>
<code># ... (27 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«ç”¨ plt.scatter ç»˜åˆ¶äº†ä¸¤ç»„æ•°æ®ï¼šGroup A ä½¿ç”¨åœ†å½¢ç‚¹ï¼ˆmarker=&#39;o&#39;ï¼‰ç»˜åˆ¶ï¼ŒGroup B ä½¿ç”¨ä¸‰è§’å½¢ç‚¹ï¼ˆmarker=&#39;^&#39;ï¼‰ç»˜åˆ¶ã€‚å‚æ•° c ä¼ å…¥æ¯ä¸ªç‚¹çš„å¹´é¾„æ•°ç»„ï¼Œå¹¶æŒ‡å®šäº† cmap=&#39;viridis&#39; é¢œè‰²æ˜ å°„ï¼Œè¿™æ ·æ•£ç‚¹çš„é¢œè‰²ä¼šéšå¹´é¾„å€¼å˜åŒ–ï¼ˆå¹´é¾„å°çš„ç‚¹åè“ç´«è‰²ï¼Œå¹´é¾„å¤§çš„ç‚¹åé»„ç»¿è‰²ï¼‰ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨å‚æ•° s è®¾ç½®äº†æ•£ç‚¹å°ºå¯¸ï¼Œä½¿å¾—æ¯ä¸ªç‚¹å¤§å°æœ‰æ‰€åŒºåˆ«ã€‚é€šè¿‡ plt.colorbar() æ·»åŠ çš„é¢œè‰²æ ï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°é¢œè‰²ä¸å¹´é¾„æ•°å€¼çš„å¯¹åº”å…³ç³»ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-2115543qQJiE.png" alt="image-20250424211551349"></p>
<p>å›¾4.1ï¼šä½¿ç”¨ plt.scatter ç»˜åˆ¶çš„æ•£ç‚¹å›¾ç¤ºä¾‹ã€‚å›¾ä¸­è“è‰²åœ†ç‚¹å’Œç»¿è‰²ä¸‰è§’åˆ†åˆ«ä»£è¡¨ä¸¤ç±»ä¸åŒäººç¾¤æ ·æœ¬ï¼ˆGroup A å’Œ Group Bï¼‰ï¼Œé¢œè‰²ç”±å¹´é¾„ç‰¹å¾æ˜ å°„ï¼ˆå³ä¾§é¢œè‰²æ è¡¨ç¤ºå¹´é¾„å¤§å°ï¼‰ï¼Œç‚¹çš„é¢ç§¯å¤§å°ä¹Ÿæœ‰æ‰€åŒºåˆ«ã€‚å¯ä»¥çœ‹å‡ºï¼Œä¸¤ç»„æ•°æ®åœ¨äºŒç»´ç©ºé—´ä¸­æ˜æ˜¾åˆ†å¼€ï¼Œå½¢æˆå„è‡ªçš„èšç±»ï¼Œä¸­é—´å‡ ä¹æ²¡æœ‰é‡å ã€‚è¿™ç§å¯è§†åŒ–æœ‰åŠ©äºæˆ‘ä»¬ç›´è§‚äº†è§£èšç±»ç»“æœå’Œç±»åˆ«åˆ†å¸ƒç‰¹å¾ï¼ŒåŒæ—¶é€šè¿‡é¢œè‰²æ·±æµ…ä¹Ÿèƒ½è§‚å¯Ÿå¦ä¸€ä¸ªç»´åº¦ï¼ˆå¹´é¾„ï¼‰çš„å–å€¼èŒƒå›´ã€‚</p>
<p>åœ¨ç»˜åˆ¶æ•£ç‚¹å›¾æ—¶ï¼Œè¿˜æœ‰ä¸€äº›å¸¸ç”¨å‚æ•°å’ŒæŠ€å·§éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>é¢œè‰²æ˜ å°„ (cmap)ï¼š cmap ç”¨äºæŒ‡å®šé¢œè‰²å›¾è°±ï¼Œä¾‹å¦‚ &#39;viridis&#39;ã€&#39;plasma&#39;ã€&#39;rainbow&#39; ç­‰ã€‚å½“æ•£ç‚¹é¢œè‰²ç”¨äºè¡¨ç¤ºè¿ç»­æ•°å€¼æ—¶ï¼Œåº”é€‰æ‹©æ„ŸçŸ¥çº¿æ€§çš„è‰²è°±ï¼ˆå¦‚ Viridisï¼‰ï¼Œä¿è¯é¢œè‰²å˜åŒ–ä¸æ•°å€¼å˜åŒ–å¯¹åº”åˆç†ï¼Œé¿å…è¿‡äº®æˆ–è¿‡æš—éš¾ä»¥åˆ†è¾¨ã€‚ã€æ³¨æ„ã€‘å¦‚æœç±»åˆ«æ˜¯ç¦»æ•£çš„ï¼Œå¯ä»¥é¢„å…ˆå°†ä¸åŒç±»åˆ«æ˜ å°„ä¸ºå›ºå®šé¢œè‰²ï¼Œè€Œä¸ä½¿ç”¨è¿ç»­è‰²è°±ã€‚</li>
<li>æ ‡è®°æ ·å¼ (marker)ï¼š å¸¸ç”¨çš„ marker å½¢çŠ¶æœ‰åœ†åœˆ &#39;o&#39;ã€ä¸‰è§’å½¢ &#39;^&#39;ã€æ–¹å½¢ &#39;s&#39; ç­‰ã€‚é€‰æ‹©ä¸åŒçš„æ ‡è®°å¯ä»¥åŒºåˆ†ä¸åŒç±»åˆ«ï¼Œä½†æ ‡è®°ç§ç±»ä¸å®œè¿‡å¤šï¼Œé¿å…å›¾å½¢è¿‡äºæ‚ä¹±ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸¤ä¸‰ç§å½¢çŠ¶å·²ç»è¶³å¤ŸåŒºåˆ†ç±»åˆ«ï¼Œæ›´å¤šç±»åˆ«æ—¶æ›´å¸¸ç”¨é¢œè‰²åŒºåˆ†ã€‚</li>
<li>å æ”¾æ¬¡åº (zorder)ï¼š å½“ä¸€ä¸ªå›¾ä¸­æœ‰å¤šå±‚ç»˜å›¾å…ƒç´ æ—¶ï¼Œzorder å‚æ•°å†³å®šäº†å®ƒä»¬çš„å æ”¾é¡ºåºï¼Œæ•°å€¼å¤§çš„ä¼šè¦†ç›–æ•°å€¼å°çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåç»˜åˆ¶çš„å…ƒç´ åœ¨ä¸Šå±‚ã€‚ä½†å¦‚æœæˆ‘ä»¬å¸Œæœ›å…ˆç»˜åˆ¶çš„æ•£ç‚¹ä¸è¢«åç»˜åˆ¶çš„é®æŒ¡ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® zorder å®ç°ã€‚ä¾‹å¦‚ï¼Œplt.scatter(x1, y1, ..., zorder=2) å’Œ plt.scatter(x2, y2, ..., zorder=1) ä¼šè®©ç¬¬ä¸€ç»„æ•£ç‚¹å§‹ç»ˆè¦†ç›–åœ¨ç¬¬äºŒç»„ä¹‹ä¸Šã€‚ã€å°è´´å£«ã€‘åœ¨æ•£ç‚¹å¾ˆå¤šä¸”å¯èƒ½é‡å æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é™ä½ç‚¹çš„é€æ˜åº¦ï¼ˆå‚æ•°å¦‚ alpha=0.7ï¼‰æ¥ç¼“è§£é®æŒ¡é—®é¢˜ï¼Œä½¿å¯†é›†åŒºåŸŸçš„é¢œè‰²æ›´æ·±ï¼Œä»è€Œè¾¨è¯†åˆ†å¸ƒå¯†åº¦ã€‚</li>
</ul>
<p>æ•£ç‚¹å›¾åœ¨å·¥ç¨‹ä¸Šéå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨èšç±»åˆ†æä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸åŒç°‡çš„æ ·æœ¬ç”¨ä¸åŒé¢œè‰²æˆ–å½¢çŠ¶çš„æ•£ç‚¹è¡¨ç¤ºå‡ºæ¥ï¼Œè§‚å¯Ÿç°‡é—´çš„åˆ†ç¦»æƒ…å†µï¼›åœ¨å¼‚å¸¸æ£€æµ‹ä¸­ï¼Œæ•£ç‚¹å›¾èƒ½å¸®åŠ©å‘ç°è¿œç¦»ä¸»è¦ç°‡çš„ç¦»ç¾¤ç‚¹ï¼ˆoutliersï¼‰ã€‚æ€»ä¹‹ï¼Œå½“æˆ‘ä»¬éœ€è¦ç ”ç©¶ä¸¤ä¸ªè¿ç»­ç‰¹å¾çš„å…³ç³»ï¼Œå¹¶è¾…ä»¥å…¶ä»–ç‰¹å¾è¿›è¡Œæ ‡æ³¨æ—¶ï¼Œæ•£ç‚¹å›¾æä¾›äº†ä¸€ç§ç›´è§‚æœ‰æ•ˆçš„æ‰‹æ®µã€‚</p>
<h3>2 å¡«å……å›¾</h3>
<p>å¡«å……å›¾æ˜¯é€šè¿‡å¡«å……ä¸¤æ¡æ›²çº¿ä¹‹é—´çš„åŒºåŸŸæ¥è¡¨ç¤ºæ•°æ®èŒƒå›´æˆ–ä¸ç­‰å¼å…³ç³»çš„å›¾å½¢ã€‚åœ¨ Matplotlib ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ plt.fill_between å‡½æ•°å¯¹ä¸¤æ¡æ›²çº¿ï¼ˆæˆ–ä¸€æ¡æ›²çº¿ä¸åæ ‡è½´ä¹‹é—´ï¼‰è¿›è¡ŒåŒºåŸŸå¡«å……ã€‚è¿™ç§å›¾å½¢å¸¸ç”¨äºè¡¨ç¤ºä¸Šä¸‹è¾¹ç•Œï¼ˆå¦‚æœ€å¤§å€¼æœ€å°å€¼èŒƒå›´ï¼‰ã€ç½®ä¿¡åŒºé—´å¸¦ã€ä»¥åŠæ»¡è¶³æŸç§æ¡ä»¶çš„åŒºåŸŸç­‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¡«å……å›¾ç›´è§‚å±•ç¤ºä¸¤ä¸ªå‡½æ•°æ›²çº¿ä¹‹é—´çš„åŒºåŸŸå·®å¼‚ï¼Œæˆ–å¼ºè°ƒæŸæŒ‡æ ‡åœ¨é˜ˆå€¼ä»¥ä¸Šçš„åŒºåŸŸèŒƒå›´ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ç»˜åˆ¶ä¸¤æ¡æ­£å¼¦æ›²çº¿ä¹‹é—´çš„å¡«å……åŒºåŸŸã€‚æˆ‘ä»¬ä½¿ç”¨ y1 = sin(x) å’Œ y2 = cos(x/2)/2 ä¸¤æ¡æ›²çº¿ä½œä¸ºä¸Šã€ä¸‹è¾¹ç•Œï¼Œé€šè¿‡ plt.fill_between å°†ä¸¤æ›²çº¿å›´æˆçš„åŒºåŸŸå¡«å……é¢œè‰²ï¼Œå¹¶åŒºåˆ†å‡ºå“ªæ¡æ›²çº¿åœ¨ä¸Šã€å“ªæ¡åœ¨ä¸‹ï¼š</p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code># 1. ç”Ÿæˆæ•°æ®</code><br>
<code>x = np.linspace(0, 10, 500)      # å®šä¹‰æ›²çº¿çš„è‡ªå˜é‡èŒƒå›´ [0, 10]</code><br>
<code>y1 = np.sin(x)                   # æ›²çº¿1: sin(x)</code><br>
<code>y2 = np.cos(x/2) / 2             # æ›²çº¿2: cos(x/2)/2</code><br>
<code></code><br>
<code># ... (15 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¸¤æ¬¡è°ƒç”¨ plt.fill_betweenï¼Œåˆ†åˆ«å¡«å……äº† y1 åœ¨ä¸Šæ–¹å’Œ y2 åœ¨ä¸Šæ–¹è¿™ä¸¤ç§æƒ…å†µå¯¹åº”çš„åŒºåŸŸï¼šå½“ y1 &gt;= y2 æ—¶å¡«å……æ·¡è“è‰²ï¼Œå½“ y1 &lt; y2 æ—¶å¡«å……æ·¡ç»¿è‰²ã€‚where å‚æ•°æ¥å—ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œç”¨äºæŒ‡ç¤ºåœ¨å“ªäº› x èŒƒå›´æ»¡è¶³æ¡ä»¶ï¼Œä»è€Œåªåœ¨æ»¡è¶³æ¡ä»¶çš„åŒºé—´è¿›è¡Œå¡«å……ã€‚æˆ‘ä»¬è¿˜è®¾ç½®äº† alpha=0.5 ä½¿å¡«å……é¢œè‰²åŠé€æ˜ï¼Œè¿™æ ·æ—¢èƒ½çªå‡ºæ˜¾ç¤ºå¡«å……åŒºåŸŸï¼Œåˆä¸è‡³äºå®Œå…¨é®ç›–ä½ç½‘æ ¼çº¿æˆ–ä¸‹é¢çš„æ›²çº¿ã€‚ã€å°è´´å£«ã€‘plt.fill_between é»˜è®¤å¯¹æ•´ä¸ªåŒºåŸŸå¡«å……é¢œè‰²ï¼Œå¦‚æœä¸ä½¿ç”¨ whereï¼Œå½“ä¸¤æ›²çº¿äº¤å‰æ—¶å¡«å……åŒºåŸŸä¼šè´¯é€šæ‰€æœ‰xèŒƒå›´ã€‚åˆç†ä½¿ç”¨ where å¯ä»¥è®©æˆ‘ä»¬å¯¹ä¸åŒæƒ…å†µçš„åŒºåŸŸä½¿ç”¨ä¸åŒé¢œè‰²ï¼Œæ›´åŠ æ¸…æ™°åœ°è¡¨è¾¾ä¸Šä¸‹è¾¹ç•Œå…³ç³»ã€‚æ­¤å¤–ï¼Œå¦‚æœå¸Œæœ›åœ¨æ›²çº¿äº¤å‰å¤„ç²¾ç¡®åœ°åˆ†å‰²å¡«å……åŒºåŸŸï¼Œå¯ä»¥å°† interpolate=True å‚æ•°è®¾ä¸º Trueï¼Œä»¥ç¡®ä¿åœ¨äº¤ç‚¹å¤„é¢œè‰²æ­£ç¡®è¡”æ¥ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-211725SA6uRL.png" alt="image-20250424211723235"></p>
<p>å›¾4.2ï¼šä½¿ç”¨ plt.fill_between ç»˜åˆ¶ä¸¤æ¡æ›²çº¿ä¹‹é—´çš„å¡«å……å›¾ç¤ºä¾‹ã€‚é»„è‰²æ›²çº¿ä¸º $y=\sin(x)$ï¼Œæ©™çº¢è‰²æ›²çº¿ä¸º $y=\cos(x/2)/2$ã€‚æ·¡è“è‰²åŒºåŸŸè¡¨ç¤ºåœ¨è¯¥åŒºåŸŸå†… $\sin(x)$ æ›²çº¿é«˜äº $\cos(x/2)/2$ æ›²çº¿ï¼›æ·¡ç»¿è‰²åŒºåŸŸè¡¨ç¤º $\cos(x/2)/2$ é«˜äº $\sin(x)$ çš„éƒ¨åˆ†ã€‚é€šè¿‡è¿™ç§é¢œè‰²åŒºåˆ†ï¼Œæˆ‘ä»¬æ¸…æ™°åœ°çœ‹å‡ºä¸¤æ¡æ›²çº¿çš„ä¸Šä¸‹åŒ…ç»œæƒ…å†µï¼šä¾‹å¦‚åœ¨ $x\approx [0,2]$ åŒºé—´å†…æ©™çº¢è‰²æ›²çº¿åœ¨ä¸Šï¼ˆç»¿è‰²å¡«å……åŒºï¼‰ï¼Œè€Œåœ¨ $x\approx [2,7]$ åŒºé—´å†…é»„è‰²æ›²çº¿åœ¨ä¸Šï¼ˆè“è‰²å¡«å……åŒºï¼‰ã€‚å¡«å……å›¾æœ‰æ•ˆåœ°å±•ç¤ºäº†ä¸¤æ›²çº¿ä¹‹é—´çš„å·®å¼‚åŒºåŸŸå’Œè¾¹ç•Œå…³ç³»ã€‚</p>
<p>å¡«å……å›¾åœ¨å®é™…å·¥ç¨‹ä¸­æœ‰å¤šç§ç”¨é€”ï¼š</p>
<ul>
<li>å½“æˆ‘ä»¬æœ‰ä¸€ç»„æ•°æ®çš„ä¸Šä¸‹é™æ›²çº¿æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¡«å……å›¾å°†ä¸Šä¸‹è¾¹ç•Œä¹‹é—´çš„åŒºåŸŸæ¶‚è‰²ï¼Œç›´è§‚è¡¨ç¤ºå‡ºå¯èƒ½çš„å˜åŒ–èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œä¼ æ„Ÿå™¨è¯»æ•°çš„æœ€å¤§å€¼-æœ€å°å€¼åŒºé—´ã€ç®—æ³•é¢„æµ‹çš„ç½®ä¿¡åŒºé—´å¸¦ç­‰ã€‚</li>
<li>åœ¨æ¯”è¾ƒä¸¤æ¡æ›²çº¿æ—¶ï¼Œå¡«å……å®ƒä»¬ä¹‹é—´çš„åŒºåŸŸå¯ä»¥çªå‡ºæ˜¾ç¤ºå®ƒä»¬çš„å·®å¼‚ã€‚æ­£å¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œä¸åŒé¢œè‰²çš„å¡«å……æ¸…æ¥šåœ°å‘Šè¯‰è¯»è€…åœ¨å“ªäº›åŒºé—´å“ªæ¡æ›²çº¿å æ®æ›´é«˜çš„å€¼ã€‚</li>
<li>å¯ä»¥ç”¨äºè¡¨ç¤ºä¸ç­‰å¼è§£é›†ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæ»¡è¶³ $f(x) &gt; g(x)$ çš„åŒºåŸŸè¿›è¡Œé¢œè‰²å¡«å……ï¼Œä»è€Œå°†æ»¡è¶³æ¡ä»¶çš„åŒºåŸŸä¸€ç›®äº†ç„¶åœ°æ ‡ç¤ºå‡ºæ¥ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong> å¡«å……å›¾é€šå¸¸éœ€è¦æ­é…é€æ˜åº¦ (alpha) è°ƒèŠ‚æ•ˆæœã€‚å¦‚æœå¡«å……é¢œè‰²ä¸é€æ˜ï¼Œå¯èƒ½ä¼šé®æŒ¡ç½‘æ ¼çº¿ã€æ•°æ®æ›²çº¿ç­‰èƒŒæ™¯ä¿¡æ¯ï¼Œä½¿å›¾è¡¨éš¾ä»¥é˜…è¯»ã€‚ä¸€èˆ¬å¯å°† alpha è®¾ç½®ä¸º 0.2~0.5 ä¹‹é—´ï¼Œå…·ä½“å€¼éœ€æ ¹æ®é¢œè‰²æ·±æµ…å’ŒèƒŒæ™¯å¯¹æ¯”åº¦æ¥è°ƒæ•´ã€‚æ­¤å¤–ï¼Œè‹¥å¡«å……åŒºåŸŸæœ¬èº«ä¹Ÿéœ€è¦åœ¨å¤šä¸ªå›¾å±‚ä¸‹å±•ç¤ºï¼ˆæ¯”å¦‚å¤šä¸ªä¸åŒåŒºé—´çš„å¡«å……ï¼‰ï¼Œè¦æ³¨æ„å›¾å±‚æ¬¡åºï¼Œå¿…è¦æ—¶å¯ä»¥é€šè¿‡å‰é¢æåˆ°çš„ zorder å‚æ•°æ§åˆ¶å¡«å……å±‚åœ¨æ›²çº¿çš„ä¸‹æ–¹æˆ–ä¸Šæ–¹ã€‚</p>
<h3>3 æ¡å½¢å›¾ï¼ˆæŸ±çŠ¶å›¾ï¼‰</h3>
<p>æ¡å½¢å›¾ï¼ˆBar Chartï¼Œä¹Ÿç§°æŸ±çŠ¶å›¾ï¼‰é€‚åˆç”¨äºæ¯”è¾ƒä¸åŒç±»åˆ«ï¼ˆç¦»æ•£åˆ†ç±»ï¼‰çš„æ•°æ®å¤§å°ã€‚ä¾‹å¦‚ï¼Œä¸åŒäº§å“çš„é”€é‡æ¯”è¾ƒï¼Œä¸åŒæ—¶æ®µçš„ç»Ÿè®¡å€¼æ¯”è¾ƒç­‰ã€‚Matplotlib æä¾›äº† plt.bar å‡½æ•°æ¥ç»˜åˆ¶æ¡å½¢å›¾ï¼Œé€šè¿‡ä¼ å…¥ç±»åˆ«çš„ä½ç½®å’Œå¯¹åº”çš„å€¼å³å¯ç»˜åˆ¶å‡ºç«–ç›´çš„æŸ±å½¢ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦æ¯”è¾ƒå¤šç»„æ•°æ®åœ¨ç›¸åŒç±»åˆ«ä¸‹çš„å·®å¼‚ï¼Œä¾‹å¦‚ä¸åŒå¹´ä»½ã€ä¸åŒç±»åˆ«ä¸‹è‹¥å¹²æŒ‡æ ‡çš„å¹¶åˆ—æ¯”è¾ƒã€‚è¿™æ—¶ï¼Œå¯ä»¥é‡‡ç”¨åˆ†ç»„æ¡å½¢å›¾çš„æ–¹å¼ï¼šåœ¨åŒä¸€ç±»åˆ«ä½ç½®ä¸Šå¹¶æ’æ”¾ç½®å¤šä¸ªæŸ±å­ï¼Œä»¥ä¸åŒé¢œè‰²æˆ–çº¹ç†åŠ ä»¥åŒºåˆ†ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªåˆ†ç»„æ¡å½¢å›¾ï¼Œæ¯”è¾ƒä¸¤ä¸ªç³»åˆ—çš„æ•°æ®ã€‚æˆ‘ä»¬ä»¥â€œè‹¹æœâ€å’Œâ€œæ©˜å­â€çš„æœˆé”€é‡ä¸ºä¾‹è¿›è¡Œå¯¹æ¯”ã€‚åœ¨åŒä¸€ä¸ªæœˆä»½ä¸‹ï¼Œæˆ‘ä»¬å°†è‹¹æœå’Œæ©˜å­çš„é”€é‡æŸ±çŠ¶æ¡å¹¶æ’ç»˜åˆ¶ï¼š</p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code># 1. å®šä¹‰ç±»åˆ«ï¼ˆä¾‹å¦‚æœˆä»½ï¼‰åŠä¸¤ç»„æ•°æ®</code><br>
<code>categories = [&#039;Jan&#039;, &#039;Feb&#039;, &#039;Mar&#039;, &#039;Apr&#039;, &#039;May&#039;]   # æœˆä»½ç±»åˆ«</code><br>
<code>apple_sales = np.array([30, 35, 40, 45, 50])       # è‹¹æœé”€é‡ï¼ˆå•ä½ï¼šå¨ï¼‰</code><br>
<code>orange_sales = np.array([25, 30, 35, 30, 40])      # æ©˜å­é”€é‡ï¼ˆå•ä½ï¼šå¨ï¼‰</code><br>
<code></code><br>
<code># ... (16 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ np.arange ç”Ÿæˆäº†æ¯ä¸ªæœˆä»½å¯¹åº”çš„åŸºæœ¬ x ä½ç½®ç´¢å¼•ï¼ˆä¾‹å¦‚ Jan å¯¹åº”0ï¼ŒFebå¯¹åº”1ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚ç„¶åï¼Œé€šè¿‡å°†è‹¹æœé”€é‡çš„æŸ±å­ç»˜åˆ¶åœ¨ x - width/2 ä½ç½®ã€æ©˜å­é”€é‡çš„æŸ±å­ç»˜åˆ¶åœ¨ x + width/2 ä½ç½®ï¼Œå®ç°äº†åœ¨æ¯ä¸ªç±»åˆ«å¤„å¹¶æ’æ”¾ç½®ä¸¤æ ¹æŸ±å­ã€‚è¿™æ ·ï¼Œå®½åº¦ä¸º width çš„ä¸¤ä¸ªæŸ±å­æ­£å¥½ä»¥ç±»åˆ«ä¸­å¿ƒä¸ºå¯¹ç§°åˆ†å¸ƒã€‚æˆ‘ä»¬é€‰æ‹© width = 0.4ï¼ˆæ„å‘³ç€æ¯ä¸ªæŸ±å­å 0.4çš„å•ä½å®½åº¦ï¼‰ï¼ŒæŸ±å­ä¹‹é—´ä¼šç•™æœ‰ä¸€å®šé—´éš”ï¼Œè§†è§‰ä¸Šæ›´æ¸…æ™°ã€‚plt.xticks ç”¨äºå°†æ•°å€¼å‹çš„ x è½´åˆ»åº¦æ›¿æ¢ä¸ºæˆ‘ä»¬å®šä¹‰çš„æœˆä»½å­—ç¬¦ä¸²ï¼Œä½¿è¯»è€…èƒ½å¤Ÿçœ‹æ‡‚æ¯ä¸ªæŸ±å­å¯¹åº”çš„ç±»åˆ«ã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-211851Zty9fr.png" alt="image-20250424211849199"></p>
<p>å›¾4.3ï¼šåˆ†ç»„æ¡å½¢å›¾ç¤ºä¾‹ã€‚æ¯ä¸ªæœˆä»½æœ‰ä¸¤æ ¹å¹¶åˆ—çš„æŸ±å­ï¼Œè“è‰²è¡¨ç¤ºè‹¹æœé”€é‡ï¼Œæ©™è‰²è¡¨ç¤ºæ©˜å­é”€é‡ã€‚é€šè¿‡åœ¨ç»˜åˆ¶æ—¶å¯¹ x åæ ‡åŠ å‡å›ºå®šåç§»ï¼Œæˆ‘ä»¬å°†ä¸¤ç»„æŸ±çŠ¶æ•°æ®åœ¨æ°´å¹³æ–¹å‘å¹¶æ’å±•ç¤ºï¼Œæ–¹ä¾¿æ¯”è¾ƒåŒä¸€æœˆä»½ä¸¤ç§æ°´æœçš„é”€å”®æƒ…å†µã€‚ä»å›¾ä¸­å¯ä»¥ç›´è§‚åœ°æ¯”è¾ƒæ¯ä¸ªæœˆè‹¹æœå’Œæ©˜å­çš„é”€å”®å·®å¼‚ï¼Œä¾‹å¦‚4æœˆè‹¹æœé”€é‡é«˜äºæ©˜å­ï¼Œè€ŒæŸäº›æœˆä»½ä¸¤è€…æ¥è¿‘ã€‚æŸ±çŠ¶å›¾é€‚åˆç”¨äºè¿™ç§ç¦»æ•£ç±»åˆ«ä¸‹ä¸åŒç»„æ•°æ®çš„å¯¹æ¯”åˆ†æã€‚</p>
<p>åœ¨ä½¿ç”¨æ¡å½¢å›¾è¿›è¡Œå¤šç»„æ•°æ®å¯¹æ¯”æ—¶ï¼Œæœ‰ä»¥ä¸‹æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li><strong>åˆ†ç»„æŸ±çŠ¶å›¾çš„åç§»è®¡ç®—ï¼š</strong> å¦‚æœæœ‰æ›´å¤šç»„æ•°æ®ï¼Œéœ€è¦å°†å®ƒä»¬å‡åŒ€åœ°åˆ†å¸ƒåœ¨è¯¥ç±»åˆ«ä½ç½®é™„è¿‘ã€‚æ¯”å¦‚æœ‰3ç»„æ•°æ®æ—¶ï¼Œå¯ä»¥ç”¨ x - width, x, x + width ä¸‰ä¸ªä½ç½®ï¼ˆæˆ– x - width, x, x + width çš„é€‚å½“ç¼©æ”¾ï¼‰æ”¾ç½®ä¸‰æ ¹æŸ±å­ã€‚æ€»ä¹‹ï¼Œåç§»é‡ä¹˜ä»¥ç»„æ•°éœ€è¦ä¸æŸ±å®½ç›¸åŒ¹é…ï¼Œç¡®ä¿æŸ±å­æ—¢ä¸é‡å ä¹Ÿä¸ç¦»æ•£è¿‡è¿œã€‚ä¸€ä¸ªé€šç”¨åšæ³•æ˜¯ï¼šå¯¹äºç¬¬ i ç»„æ•°æ®ï¼Œç”¨ x + (i - (n_groups-1)/2) * width è®¡ç®—åç§»ï¼Œè¿™æ ·æŸ±ç¾¤ä»¥ç±»åˆ«åˆ»åº¦ä¸ºä¸­å¿ƒå¯¹ç§°åˆ†å¸ƒã€‚</li>
<li><strong>é¢œè‰²å’Œå›¾ä¾‹ï¼š</strong> ä¸ºäº†ä¾¿äºåŒºåˆ†ä¸åŒæ•°æ®ç³»åˆ—ï¼Œåº”è¯¥ä¸ºæ¯ç»„æŸ±å­é€‰æ‹©æ˜æ˜¾ä¸åŒçš„é¢œè‰²ï¼Œå¹¶ä½¿ç”¨ label å‚æ•°æ·»åŠ å›¾ä¾‹è¯´æ˜é¢œè‰²ä¸ç³»åˆ—çš„å¯¹åº”å…³ç³»ï¼ˆå¦‚â€œè“è‰²ä»£è¡¨è‹¹æœï¼Œæ©™è‰²ä»£è¡¨æ©˜å­â€ï¼‰ã€‚é¢œè‰²é€‰æ‹©ä¸Šå°½é‡ä¿æŒä¸€è‡´çš„é£æ ¼ï¼Œæ¯”å¦‚éƒ½ç”¨é¥±å’Œåº¦ç›¸è¿‘ä½†è‰²è°ƒä¸åŒçš„é¢œè‰²ï¼Œé¿å…è¿‡äºèŠ±å“¨å½±å“é˜…è¯»ã€‚</li>
<li><strong>æŸ±å­æ ·å¼ï¼š</strong> å¯ä»¥é€šè¿‡å‚æ•°æ§åˆ¶æŸ±å­çš„å¤–è§‚ï¼Œä¾‹å¦‚ edgecolor=&#39;black&#39; ç»™æŸ±å­åŠ é»‘è‰²è¾¹æ¡†ï¼Œè®©ä¸åŒæŸ±å­ä¹‹é—´ç•Œçº¿æ›´æ¸…æ™°ï¼›alpha å‚æ•°å¯ä»¥è°ƒæ•´é€æ˜åº¦ï¼Œå¦‚æœæŸ±å­æœ‰é‡å ï¼ˆå¦‚å †å æŸ±çŠ¶å›¾çš„æƒ…å†µï¼‰å¯ä»¥ç”¨é€æ˜åº¦åŒºåˆ†ã€‚è¿˜æœ‰ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨ hatch å‚æ•°å¡«å……æŸ±å­çº¹ç†ï¼Œå½“æ‰“å°æˆé»‘ç™½æ–‡æ¡£æ—¶ï¼Œä¸åŒçº¹ç†å¯ä»¥åŒºåˆ†ç³»åˆ—ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šæ¡å½¢å›¾é€‚åˆç”¨äºç¦»æ•£åˆ†ç±»çš„æ•°æ®æ¯”è¾ƒï¼Œä¾‹å¦‚ä¸åŒéƒ¨é—¨çš„ä¸šç»©ã€ä¸åŒäº§å“çš„é”€é‡ã€ä¸åŒå®éªŒç»„çš„ç»“æœæ¯”è¾ƒç­‰ã€‚å®ƒç›´è§‚åœ°ä»¥æŸ±å­çš„é•¿åº¦è¡¨ç¤ºæ•°å€¼å¤§å°ï¼Œå¯¹æ¯”ä¸åŒç±»åˆ«å¾ˆæ–¹ä¾¿ã€‚ä½†éœ€è¦æ³¨æ„ï¼Œè‹¥ç±»åˆ«è¿‡å¤šï¼Œæ¨ªè½´ä¼šå˜å¾—æ‹¥æŒ¤ï¼Œå¯èƒ½éœ€è¦æ—‹è½¬åˆ»åº¦æ ‡ç­¾æˆ–ç¼©å°æŸ±å®½ã€‚æ­¤å¤–ï¼Œæ¡å½¢å›¾ä¸€èˆ¬ç”¨äºç¦»æ•£æ•°æ®ï¼Œä¸é€‚åˆè¡¨ç¤ºè¿ç»­æ•°æ®çš„åˆ†å¸ƒï¼ˆè¿™æ—¶åº”ä½¿ç”¨ç›´æ–¹å›¾ï¼Œè§4.4èŠ‚ï¼‰ã€‚</li>
</ul>
<p> Matplotlib é»˜è®¤ä½¿ç”¨è‹±æ–‡å­—ä½“ï¼Œç›´æ¥ä½¿ç”¨ä¸­æ–‡æ ‡ç­¾ï¼ˆå¦‚ä¸Šä¾‹çš„â€œè‹¹æœâ€ã€â€œæ©˜å­â€ï¼‰å¯èƒ½å‡ºç°ä¹±ç æˆ–æ–¹å—ã€‚å¦‚æœå¸Œæœ›åœ¨å›¾è¡¨ä¸­æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡ï¼Œéœ€è¦é…ç½®æ”¯æŒä¸­æ–‡çš„å­—ä½“ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ä»£ç æœ€å‰è®¾ç½® plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;] æ¥æŒ‡å®šä½¿ç”¨é»‘ä½“å­—ä½“ï¼ˆéœ€ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨ matplotlib.font_manager æ‰¾åˆ°å¯ç”¨çš„ä¸­æ–‡å­—ä½“ã€‚é…ç½®å¥½å­—ä½“åï¼Œå†è®¾ç½®ä¸­æ–‡æ ‡ç­¾ï¼Œå°±èƒ½æ­£å¸¸æ˜¾ç¤ºäº†ã€‚</p>
<h3>4 ç›´æ–¹å›¾</h3>
<p>ç›´æ–¹å›¾ï¼ˆHistogramï¼‰ç”¨äºå±•ç¤ºè¿ç»­å‹æ•°æ®çš„åˆ†å¸ƒæƒ…å†µã€‚å®ƒé€šè¿‡å°†æ•°æ®æŒ‰æ•°å€¼å¤§å°åˆ†ç»„ï¼ˆbinningï¼‰ï¼Œç»Ÿè®¡æ¯ä¸ªåŒºé—´å†…çš„æ•°æ®é¢‘æ•°ï¼Œç„¶åä»¥çŸ©å½¢æ¡çš„é«˜åº¦è¡¨ç¤ºé¢‘æ•°å¤šå°‘ã€‚ç›´æ–¹å›¾èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç›´è§‚åœ°è§‚å¯Ÿæ•°æ®åˆ†å¸ƒçš„å½¢çŠ¶ï¼Œä¾‹å¦‚æ˜¯å¦å¯¹ç§°ã€æ˜¯å¦åæ–œã€æœ‰æ— å¤šå³°ï¼ˆbimodalï¼‰ï¼Œä»¥åŠæ•°æ®çš„ç¦»æ•£æˆ–é›†ä¸­ç¨‹åº¦ç­‰ã€‚è¿™å¯¹äºæ•°æ®åˆ†æéå¸¸é‡è¦ï¼Œåœ¨å·¥ç¨‹ä¸Šç»å¸¸ç”¨æ¥åˆ¤æ–­æ•°æ®æ˜¯å¦æ»¡è¶³æŸç§åˆ†å¸ƒå‡è®¾ï¼ˆå¦‚æ­£æ€åˆ†å¸ƒï¼‰ã€æ£€æµ‹å¼‚å¸¸å€¼ã€æˆ–ä¸ºåç»­å¤„ç†ï¼ˆå¦‚é˜ˆå€¼é€‰æ‹©ã€åˆ†ç®±å†³ç­–ï¼‰æä¾›ä¾æ®ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå›¾åƒåƒç´ äº®åº¦åˆ†å¸ƒçš„ä¾‹å­æ¥è¯´æ˜ç›´æ–¹å›¾çš„ç»˜åˆ¶å’Œå‚æ•°è°ƒèŠ‚ã€‚å‡è®¾æœ‰ä¸€å¹…ç°åº¦å›¾åƒï¼Œæˆ‘ä»¬æƒ³äº†è§£å…¶åƒç´ å¼ºåº¦å€¼çš„åˆ†å¸ƒæƒ…å†µã€‚ä¸‹é¢çš„ä»£ç é¦–å…ˆæ„é€ äº†ä¸€å¹…100Ã—100çš„äººå·¥å›¾åƒï¼šå·¦åŠéƒ¨åˆ†åƒç´ åæš—ï¼ˆæ¥è¿‘ç°åº¦å€¼50ï¼‰ï¼Œå³åŠéƒ¨åˆ†åƒç´ åäº®ï¼ˆæ¥è¿‘ç°åº¦å€¼200ï¼‰ã€‚ç„¶åï¼Œæˆ‘ä»¬è®¡ç®—æ‰€æœ‰åƒç´ çš„ç°åº¦å€¼åˆ†å¸ƒï¼Œå¹¶ç»˜åˆ¶ç›´æ–¹å›¾ï¼š</p>
<blockquote><code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code></code><br>
<code># 1. æ„é€ ç¤ºä¾‹ç°åº¦å›¾åƒï¼ˆå·¦åŠéƒ¨åˆ†æš—ï¼Œå³åŠéƒ¨åˆ†äº®ï¼‰</code><br>
<code>left_half = np.clip(np.random.normal(50, 5, (100, 50)), 0, 255)    # å·¦ä¾§åƒç´ å€¼çº¦ ~50Â±5</code><br>
<code>right_half = np.clip(np.random.normal(200, 5, (100, 50)), 0, 255)  # å³ä¾§åƒç´ å€¼çº¦ ~200Â±5</code><br>
<code>image = np.concatenate([left_half, right_half], axis=1)            # åˆå¹¶å·¦å³ä¸¤åŠ</code><br>
<code>image = image.astype(np.uint8)  # è½¬ä¸º0-255èŒƒå›´å†…çš„æ•´æ•°ç°åº¦å€¼</code><br>
<code># ... (9 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä»£ç è§£é‡Šï¼šæˆ‘ä»¬ä½¿ç”¨ np.random.normal åˆ†åˆ«ç”Ÿæˆäº†å·¦ã€å³ä¸¤åŠåŒºåŸŸçš„åƒç´ å€¼ï¼Œleft_half ä»¥å‡å€¼50ã€æ ‡å‡†å·®5ç”Ÿæˆï¼ˆåæš—ï¼‰ï¼Œright_half ä»¥å‡å€¼200ã€æ ‡å‡†å·®5ç”Ÿæˆï¼ˆåäº®ï¼‰ï¼Œå¹¶ç”¨ np.clip ç¡®ä¿å€¼åœ¨0-255æœ‰æ•ˆç°åº¦èŒƒå›´å†…ã€‚åˆå¹¶æˆå®Œæ•´å›¾åƒåï¼Œä½¿ç”¨ image.flatten() è·å–æ‰€æœ‰åƒç´ çš„å€¼åˆ—è¡¨ï¼Œç„¶åè°ƒç”¨ plt.hist ç»˜åˆ¶ç›´æ–¹å›¾ã€‚å…¶ä¸­ bins=50 å°†åƒç´ å€¼èŒƒå›´åˆ†æˆ50ä¸ªåŒºé—´ï¼ˆæ¡¶ï¼‰ï¼Œæ¯ä¸ªçŸ©å½¢æ¡è¡¨ç¤ºä¸€ä¸ªåŒºé—´å†…çš„åƒç´ æ•°é‡é¢‘æ•°ã€‚æˆ‘ä»¬å°†æŸ±å­å¡«å……è‰²è®¾ä¸ºæµ…ç°è‰²ï¼Œå¹¶ä½¿ç”¨ edgecolor=&#39;black&#39; ç»™æ¯ä¸ªæŸ±åŠ é»‘è‰²è¾¹æ¡†ï¼Œä»¥ä¾¿åœ¨ç›¸é‚»æŸ±å­ç´§è´´æ—¶ä»èƒ½åˆ†è¾¨è¾¹ç•Œã€‚</p>
<p><img src="/blog/images/legacy/2025-04-24-212006vCRB1M.png" alt="image-20250424212004757"></p>
<p>å›¾4.4ï¼šå›¾åƒåƒç´ äº®åº¦å€¼çš„ç›´æ–¹å›¾ã€‚å¯ä»¥çœ‹åˆ°ç›´æ–¹å›¾å‘ˆç°å‡ºåŒå³°ç‰¹å¾ï¼šä¸€å¤„å³°å€¼åœ¨å¤§çº¦50é™„è¿‘ï¼ˆå¯¹åº”å›¾åƒä¸­åæš—çš„å·¦åŠéƒ¨åˆ†åƒç´ å¼ºåº¦ï¼‰ï¼Œå¦ä¸€å¤„å³°å€¼åœ¨å¤§çº¦200é™„è¿‘ï¼ˆå¯¹åº”åäº®çš„å³åŠéƒ¨åˆ†ï¼‰ã€‚Yè½´ä¸Šçš„é«˜åº¦è¡¨ç¤ºæ‹¥æœ‰è¯¥ç°åº¦å€¼çš„åƒç´ æ•°é‡ã€‚é€šè¿‡ç›´æ–¹å›¾ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåˆ¤æ–­å‡ºè¿™å¹…å›¾åƒåŒ…å«ä¸¤ç§ä¸»è¦äº®åº¦åŒºåŸŸï¼Œè€Œä¸”äº®åº¦åˆ†å¸ƒç›¸å¯¹é›†ä¸­åœ¨è¿™ä¸¤ä¸ªå³°å€¼é™„è¿‘ã€‚è¿™å¯¹äºå›¾åƒåˆ†æå¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨ç°åº¦å€¼çº¦125é™„è¿‘ä½œä¸ºé˜ˆå€¼ï¼Œå°†å›¾åƒåˆ†ä¸ºäº®æš—ä¸¤éƒ¨åˆ†ã€‚</p>
<p>åœ¨ç»˜åˆ¶å’Œè§£é‡Šç›´æ–¹å›¾æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹äº‹é¡¹ï¼š</p>
<ul>
<li>é€‰æ‹©åˆé€‚çš„åˆ†ç®±æ•°é‡ (bins)ï¼š bins å†³å®šäº†å°†æ•°æ®åˆ’åˆ†ä¸ºå¤šå°‘ä¸ªåŒºé—´ã€‚åˆ†ç®±å¤ªå°‘å¯èƒ½ä¼šæ©ç›–æ•°æ®åˆ†å¸ƒçš„ç»†èŠ‚ï¼Œè€Œåˆ†ç®±è¿‡å¤šåˆ™ä¼šä½¿ç›´æ–¹å›¾æ˜¾å¾—è¿‡äºæ¯›ç³™éš¾ä»¥çœ‹æ¸…è¶‹åŠ¿ã€‚ä¸€èˆ¬å¯ä»¥æ ¹æ®æ•°æ®é‡å’Œåˆ†å¸ƒæƒ…å†µè°ƒæ•´ binsï¼ˆé»˜è®¤æ˜¯10ï¼‰ï¼›ä¹Ÿå¯ä½¿ç”¨è¯¸å¦‚ &#39;auto&#39;ã€&#39;fd&#39; ç­‰è§„åˆ™è®© Matplotlib è‡ªåŠ¨å†³å®šåˆ†ç®±æ•°ã€‚
å¯ä»¥å¤šå°è¯•å‡ ä¸ªä¸åŒçš„åˆ†ç®±æ•°ï¼Œé€‰æ‹©èƒ½å¤Ÿæ¸…æ™°åæ˜ åˆ†å¸ƒç‰¹å¾çš„é‚£ä¸€ä¸ªã€‚åŒæ—¶ç¡®ä¿æ‰€é€‰çš„ bins è¦†ç›–äº†æ•°æ®çš„å®Œæ•´èŒƒå›´ï¼Œå¿…è¦æ—¶å¯ä»¥ç”¨ range=(min, max) æ˜ç¡®æŒ‡å®šåŒºé—´èŒƒå›´ã€‚</li>
<li>é¢œè‰²ä¸è¾¹æ¡†ï¼šä¸ºäº†ç¾è§‚å’Œæ¸…æ™°åº¦ï¼Œç›´æ–¹å›¾çš„æŸ±å­é¢œè‰²é€šå¸¸ä½¿ç”¨å•ä¸€çš„æµ…è‰²å¡«å……ï¼ˆå¦‚ä¸Šä¾‹çš„æµ…ç°ï¼‰ä¸”é…åˆæ·±è‰²è¾¹æ¡†ï¼Œè¿™æ ·æ—¢èƒ½åæ˜ é¢‘æ•°é«˜ä½ï¼Œåˆä¸ä¼šå› ä¸ºé¢œè‰²è¿‡å¤šåˆ†æ•£æ³¨æ„åŠ›ã€‚edgecolor=&#39;black&#39; æˆ– edgecolor=&#39;white&#39; æ˜¯å¸¸è§é€‰æ‹©ï¼Œçœ‹èƒŒæ™¯é…è‰²è€Œå®šã€‚å¦‚æœèƒŒæ™¯æ˜¯ç™½è‰²ï¼Œé»‘è‰²è¾¹æ¡†èƒ½æ¸…æ¥šç•Œå®šæŸ±å­è¾¹ç¼˜ï¼›å¦‚æœèƒŒæ™¯æ˜¯æ·±è‰²ï¼Œåˆ™å¯ä»¥ç”¨ç™½è‰²è¾¹æ¡†ã€‚</li>
<li>é¢‘æ•°è¿˜æ˜¯å¯†åº¦ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œplt.hist ç»˜åˆ¶çš„æ˜¯é¢‘æ•°ï¼ˆæ¯ä¸ªåŒºé—´çš„æ•°æ®ç‚¹ä¸ªæ•°ï¼‰ã€‚å¦‚æœéœ€è¦ç»˜åˆ¶æ¦‚ç‡å¯†åº¦ï¼ˆä½¿ç›´æ–¹å›¾é¢ç§¯ä¸º1ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•° density=Trueã€‚åœ¨ç»Ÿè®¡åˆ†æä¸­æŸ¥çœ‹åˆ†å¸ƒå½¢çŠ¶æ—¶ï¼Œæœ‰æ—¶ä½¿ç”¨å¯†åº¦æ›´ç›´è§‚ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¸æ¦‚ç‡å¯†åº¦å‡½æ•°è¿›è¡Œæ¯”è¾ƒã€‚</li>
<li>æ•°æ®åˆ†å¸ƒå½¢çŠ¶åˆ†æï¼šç»˜åˆ¶ç›´æ–¹å›¾åï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…¶å½¢çŠ¶æ¥åˆ¤æ–­æ•°æ®åˆ†å¸ƒçš„ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œå•å³°ä¸”å¯¹ç§°çš„ç›´æ–¹å›¾å¯èƒ½è¡¨ç¤ºæ•°æ®æ¥è¿‘æ­£æ€åˆ†å¸ƒï¼›è‹¥å³°åå‘ä¸€ä¾§ä¸”å°¾éƒ¨æ‹–é•¿ï¼Œè¡¨ç¤ºåˆ†å¸ƒå­˜åœ¨åæ€ï¼ˆskewnessï¼‰ï¼›ç›´æ–¹å›¾çš„å³°çš„å°–é”æˆ–å¹³å¦ç¨‹åº¦åæ˜ äº†å³°åº¦ï¼ˆkurtosisï¼‰ã€‚åœ¨å·¥ç¨‹åº”ç”¨ä¸­ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬é€‰æ‹©åˆé€‚çš„æ¨¡å‹æˆ–å˜æ¢ã€‚ä¾‹å¦‚ï¼Œå‘ç°æ•°æ®å³åé•¿å°¾ï¼Œå¯ä»¥è€ƒè™‘å¯¹æ•°æ®å–å¯¹æ•°ä»¥æ­£æ€åŒ–ï¼›å‘ç°æ•°æ®æœ‰åŒå³°ï¼Œå¯èƒ½æ„å‘³ç€æ¥è‡ªä¸¤ç§ä¸åŒæˆåˆ†ï¼Œéœ€è¦åˆ†åˆ«åˆ†æã€‚</li>
<li>åº”ç”¨åœºæ™¯ï¼šç›´æ–¹å›¾åœ¨å„è¡Œä¸šéƒ½æœ‰åº”ç”¨ï¼Œå¦‚åˆ†æä¼ æ„Ÿå™¨è¯»æ•°çš„å™ªå£°åˆ†å¸ƒã€æµ‹é‡äº§å“å°ºå¯¸è¯¯å·®çš„é¢‘ç‡ã€ç»Ÿè®¡å®éªŒç»“æœçš„åˆ†å¸ƒç­‰ã€‚ä»¥å›¾åƒå¤„ç†ä¸ºä¾‹ï¼Œç›´æ–¹å›¾å¯ä»¥ç”¨äºè‡ªåŠ¨ç¡®å®šå›¾åƒé˜ˆå€¼ï¼ˆOTSUç®—æ³•æ­£æ˜¯åˆ©ç”¨ç›´æ–¹å›¾çš„åˆ†å¸ƒå¯»æ‰¾æœ€ä½³é˜ˆå€¼ï¼‰ï¼Œæˆ–å‡è¡¡åŒ–å›¾åƒï¼ˆç›´æ–¹å›¾å‡è¡¡ä¹Ÿæ˜¯åŸºäºäº®åº¦åˆ†å¸ƒè¿›è¡Œåƒç´ å€¼æ˜ å°„ï¼‰ã€‚é€šè¿‡ç›´æ–¹å›¾äº†è§£æ•°æ®çš„åˆ†å¸ƒå½¢æ€ï¼Œå¾€å¾€æ˜¯æ•°æ®åˆ†æå’Œç‰¹å¾å·¥ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚</li>
</ul>
<p>æœ€åéœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œæ¡å½¢å›¾ï¼ˆæŸ±çŠ¶å›¾ï¼‰å’Œç›´æ–¹å›¾è™½ç„¶å¤–è§‚ç›¸ä¼¼ï¼Œä½†ç”¨é€”ä¸åŒï¼šæ¡å½¢å›¾é’ˆå¯¹åˆ†ç±»æ•°æ®ï¼Œæ¯æ ¹æŸ±å­ç‹¬ç«‹è¡¨ç¤ºä¸€ä¸ªç±»åˆ«çš„æ•°å€¼ï¼›ç›´æ–¹å›¾é’ˆå¯¹è¿ç»­æ•°æ®ï¼Œæ¯æ ¹æŸ±å­è¡¨ç¤ºä¸€ä¸ªåŒºé—´çš„é¢‘æ•°ã€‚ç»˜åˆ¶ç›´æ–¹å›¾å‰é€šå¸¸éœ€è¦æœ‰å¤§é‡æ ·æœ¬æ•°æ®ï¼Œå¦åˆ™å¦‚æœæ•°æ®å¤ªå°‘ï¼Œç›´æ–¹å›¾çš„å½¢çŠ¶å¯èƒ½æ²¡æœ‰æ„ä¹‰ã€‚æ€»ä¹‹ï¼Œåˆç†åœ°ä½¿ç”¨ç›´æ–¹å›¾èƒ½å¸®åŠ©æˆ‘ä»¬æ·±å…¥ç†è§£æ•°æ®ï¼Œä¸ºåç»­çš„æ•°æ®å¤„ç†å’Œå»ºæ¨¡å¥ å®šåŸºç¡€ã€‚</p>

    </article>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
<script>
Prism.highlightAll();
document.querySelectorAll('article pre').forEach(pre => {
    const code = pre.querySelector('code');
    if (!code) return;
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.onclick = () => {
        navigator.clipboard.writeText(code.textContent).then(() => {
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    };
    toolbar.appendChild(btn);
    pre.parentNode.insertBefore(toolbar, pre);
});
</script>
</body>
</html>