<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java RAG å¼€å‘ç¯å¢ƒå‡†å¤‡ | Yuxu Ge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --black: #111;
            --dark-grey: #444;
            --off-white: #f4f4f4;
            --vermilion: #C41E3A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--black);
            background-color: var(--off-white);
        }

        a {
            color: var(--vermilion);
            text-decoration: none;
        }

        a:hover {
            opacity: 0.75;
        }

        .layout {
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 320px;
            height: 100vh;
            background: var(--black);
            color: var(--off-white);
            padding: 3rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .avatar {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--vermilion);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .avatar:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .name-block {
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--off-white);
        }

        .title-role {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.25rem;
            font-weight: 400;
        }

        .contact-block {
            margin-top: 2.5rem;
            width: 100%;
        }

        .social-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 160px;
            color: var(--off-white);
            opacity: 0.7;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .social-links a:hover {
            color: var(--vermilion);
            opacity: 1;
            background: rgba(255, 255, 255, 0.05);
        }

        .social-links svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .social-links .orcid-link {
            font-size: 0.68rem;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .sidebar-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #555;
        }

        /* Content */
        .content {
            margin-left: 320px;
            padding: 3rem 4rem;
            max-width: calc(100vw - 320px - 8rem);
        }

        .back-link {
            display: inline-block;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            color: var(--dark-grey);
        }

        .back-link:hover {
            color: var(--vermilion);
        }

        /* Article */
        article h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            color: var(--black);
        }

        article h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--black);
        }

        article h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--black);
        }

        article p {
            margin-bottom: 1rem;
            color: var(--dark-grey);
        }

        article ul,
        article ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--dark-grey);
        }

        article li {
            margin-bottom: 0.5rem;
        }

        article strong {
            color: var(--black);
        }

        article code {
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            background: #e8e8e8;
            padding: 0.15em 0.4em;
            border-radius: 3px;
        }

        article pre {
            margin: 1rem 0;
            border-radius: 6px;
            overflow-x: auto;
            background: #2d2d2d;
            padding: 1rem;
        }

        article pre code {
            background: none;
            padding: 0;
            font-size: 0.75em;
            white-space: pre !important;
            counter-reset: line;
            display: block;
            color: #ccc;
        }

        article pre code .line {
            counter-increment: line;
        }

        article pre code .line::before {
            content: counter(line);
            display: inline-block;
            width: 2.5em;
            margin-right: 1em;
            text-align: right;
            color: #666;
            user-select: none;
        }

        .code-toolbar {
            display: flex;
            justify-content: flex-start;
            padding: 0.35rem 0.5rem;
            background: #3a3a3a;
            border-radius: 6px 6px 0 0;
        }

        .code-toolbar+pre {
            margin-top: 0;
            border-radius: 0 0 6px 6px;
        }

        .copy-btn {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
            background: #555;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover,
        .copy-btn:active {
            background: #777;
        }

        .copy-btn.copied {
            background: #2a2;
        }

        article blockquote {
            border-left: 3px solid var(--vermilion);
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            font-style: italic;
        }

        article hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 2rem 0;
        }

        article table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        article th,
        article td {
            border: 1px solid #ddd;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        article th {
            background: #e8e8e8;
            font-weight: 600;
        }

        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem 0;
            border-radius: 6px;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .error {
            color: var(--vermilion);
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .lang-selector-label {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .lang-selector-label svg {
            width: 16px;
            height: 16px;
        }

        .lang-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            min-width: 140px;
        }

        .lang-select:focus {
            outline: none;
            border-color: var(--vermilion);
        }

        .lang-status {
            font-size: 0.8rem;
            color: #888;
            margin-left: auto;
        }

        .lang-status.translating {
            color: var(--vermilion);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-status.translating::before {
            content: '';
            width: 14px;
            height: 14px;
            border: 2px solid #f0f0f0;
            border-top-color: var(--vermilion);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .lang-status.cached {
            color: #4CAF50;
        }

        .lang-original-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .lang-original-btn:hover {
            background: #e0e0e0;
            color: #333;
        }

        @media (max-width: 600px) {
            .lang-selector {
                flex-wrap: wrap;
            }
            .lang-status {
                width: 100%;
                margin-left: 0;
                margin-top: 0.5rem;
            }
        }

        /* KaTeX math styles */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Jupyter Notebook Styles */
        .notebook-container {
            margin-top: 1rem;
        }

        .notebook-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .notebook-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .notebook-download svg {
            width: 16px;
            height: 16px;
        }

        .nb-cell {
            margin-bottom: 1.5rem;
        }

        .nb-cell-code .nb-source {
            background: #2d2d2d;
            border-radius: 6px;
            overflow-x: auto;
        }

        .nb-cell-code .nb-source pre {
            margin: 0;
            padding: 1rem;
            color: #ccc;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
        }

        .nb-cell-code .nb-source code {
            background: none;
            padding: 0;
        }

        .nb-output {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 0.5rem;
        }

        .nb-output pre {
            margin: 0;
            padding: 0;
            background: transparent;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
            color: #222;
        }

        .nb-output img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0.5rem 0;
        }

        .nb-output table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .nb-output th,
        .nb-output td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }

        .nb-output th {
            background: #e8e8e8;
            font-weight: 600;
        }

        .nb-cell-markdown {
            padding: 0;
        }

        .nb-cell-markdown h1:first-child {
            margin-top: 0;
        }

        /* Document Download Button */
        .doc-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .doc-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .doc-download svg {
            width: 16px;
            height: 16px;
        }

        /* PDF Viewer */
        .pdf-container {
            margin-top: 1rem;
        }

        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* Text File Display */
        .text-container {
            margin-top: 1rem;
        }

        .text-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 1.5rem;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--dark-grey);
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Word Document Display */
        .word-container {
            margin-top: 1rem;
        }

        .word-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 2rem;
            line-height: 1.8;
            color: var(--dark-grey);
        }

        .word-content p {
            margin-bottom: 1rem;
        }

        .word-content h1,
        .word-content h2,
        .word-content h3 {
            color: var(--black);
            margin: 1.5rem 0 1rem;
        }

        .word-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .word-content th,
        .word-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
        }

        .word-content img {
            max-width: 100%;
            height: auto;
        }

        /* Excel Display */
        .excel-container {
            margin-top: 1rem;
        }

        .excel-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .excel-tab {
            padding: 0.5rem 1rem;
            background: #e8e8e8;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .excel-tab.active {
            background: #4CAF50;
            color: white;
        }

        .excel-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
        }

        .excel-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .excel-content th,
        .excel-content td {
            border: 1px solid #ddd;
            padding: 0.4rem 0.6rem;
            text-align: left;
            white-space: nowrap;
        }

        .excel-content th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .excel-content tr:nth-child(even) {
            background: #fafafa;
        }

        /* PowerPoint Display */
        .ppt-container {
            margin-top: 1rem;
        }

        .ppt-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* CSV Display (uses excel styles) */
        .csv-container {
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 2rem 1.5rem 1rem;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .social-links a,
            .social-links .orcid-link {
                width: auto;
                padding: 0.5rem;
                font-size: 0;
                gap: 0;
            }

            .social-links svg {
                width: 24px;
                height: 24px;
            }

            .social-links .hide-mobile {
                display: none;
            }

            .sidebar-footer {
                margin-top: 1rem;
            }

            .content {
                margin-left: 0;
                padding: 2rem 1rem;
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                padding: 1.5rem 1rem 1rem;
            }

            .avatar {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 1.4rem;
            }

            article h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>

    <div class="layout">
        <aside class="sidebar" id="sidebar-content"></aside>
        <script src="/components/sidebar.js?v=20260128"></script>

        <main class="content">
            <a href="/blog/" class="back-link">â† Back to Blog</a>

            <!-- Language Selector -->
            <div class="lang-selector" id="lang-selector" style="display: none;">
                <span class="lang-selector-label">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                    Language
                </span>
                <select class="lang-select" id="lang-select">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
                <button class="lang-original-btn" id="lang-original-btn" style="display: none;">Show Original</button>
                <span class="lang-status" id="lang-status"></span>
            </div>

            <article>
<hr>
<h2>date: 2025-04-30
tags: [ai]
legacy: true</h2>
<h1>Java RAG å¼€å‘ç¯å¢ƒå‡†å¤‡</h1>
<ul>
<li>ç¯å¢ƒéªŒè¯ï¼š æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œå‘½ä»¤ docker --version æ£€æŸ¥ Docker æ˜¯å¦å®‰è£…æˆåŠŸï¼Œä¼šè¾“å‡ºç‰ˆæœ¬ä¿¡æ¯ã€‚ç„¶åè¿è¡Œå®˜æ–¹æµ‹è¯•å®¹å™¨ï¼š</li>
</ul>
<p><code>docker run hello-world</code></p><p>æ­£å¸¸æƒ…å†µä¸‹è¯¥å‘½ä»¤ä¼šä» Docker Hub æ‹‰å–ä¸€ä¸ªæµ‹è¯•é•œåƒå¹¶è¿è¡Œï¼Œè¾“å‡ºç±»ä¼¼ â€œHello from Docker! This message shows that your installation appears to be working correctly.â€ çš„æç¤º ã€‚å¦‚æœçœ‹åˆ°è¯¥æ¶ˆæ¯åˆ™è¡¨ç¤º Docker å®‰è£…è¿è¡Œæ­£å¸¸ã€‚</p>
<h2>2. ä½¿ç”¨ Docker Compose æ­å»º Elasticsearch + Qdrant ç¯å¢ƒ</h2>
<p>æœ‰äº† Docker åŸºç¡€ç¯å¢ƒï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ Docker Compose ä¸€é”®å¯åŠ¨ Elasticsearch å’Œ Qdrant ä¸¤ä¸ªæœåŠ¡å®¹å™¨ï¼Œæä¾›æ–‡æœ¬æ£€ç´¢å’Œå‘é‡æ£€ç´¢åŠŸèƒ½ã€‚æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªç®€å•çš„ docker-compose.yml é…ç½®æ–‡ä»¶æ¥åŒæ—¶è¿è¡Œè¿™ä¸¤ä¸ªæœåŠ¡ã€‚</p>
<ul>
<li>åˆ›å»º Compose æ–‡ä»¶ï¼š åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ docker-compose.ymlï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</li>
</ul>
<blockquote><code>version: &#039;3.8&#039;</code><br>
<code>services:</code><br>
<code>  elasticsearch:</code><br>
<code>    image: docker.elastic.co/elasticsearch/elasticsearch:8.9.0  # æŒ‡å®šElasticsearché•œåƒç‰ˆæœ¬</code><br>
<code>    container_name: elasticsearch</code><br>
<code>    environment:</code><br>
<code>      - discovery.type=single-node           # å•èŠ‚ç‚¹æ¨¡å¼ï¼Œæ— éœ€é›†ç¾¤é…ç½®</code><br>
<code>      - xpack.security.enabled=false         # ç¦ç”¨å®‰å…¨è®¤è¯ï¼Œæ–¹ä¾¿æœ¬åœ°æµ‹è¯•</code><br>
<code># ... (14 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><ul>
<li>å¯åŠ¨æœåŠ¡ï¼š åœ¨ç»ˆç«¯æ‰§è¡Œ docker compose up -dï¼ˆæˆ– docker-compose up -dï¼‰å¯åŠ¨å®¹å™¨ã€‚ç¬¬ä¸€æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½æ‰€éœ€é•œåƒï¼Œè¯·è€å¿ƒç­‰å¾…å®Œæˆã€‚è¿è¡Œåå¯ç”¨ docker ps æŸ¥çœ‹å®¹å™¨çŠ¶æ€ï¼Œä¸¤é¡¹æœåŠ¡åº”å‡ä¸º Up çŠ¶æ€ã€‚</li>
<li>éªŒè¯ Elasticsearchï¼š æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://localhost:9200">http://localhost:9200</a> ï¼Œå¦‚æœElasticsearchå¯åŠ¨æ­£å¸¸ï¼Œåº”è¿”å›é›†ç¾¤çš„åŸºæœ¬ä¿¡æ¯ï¼ˆé»˜è®¤ {&quot;cluster_name&quot;:&quot;docker-cluster&quot;,...} çš„JSONï¼‰ã€‚ç”±äºæˆ‘ä»¬å·²ç¦ç”¨å®‰å…¨æ€§ï¼Œæ— éœ€è®¤è¯å³å¯è®¿é—®ã€‚</li>
<li>éªŒè¯ Qdrantï¼š Qdrant é»˜è®¤é€šè¿‡ç«¯å£ 6333 æä¾›HTTPæœåŠ¡ ã€‚åœ¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:6333">http://localhost:6333</a> å¯æŸ¥çœ‹æ¬¢è¿ä¿¡æ¯ï¼Œç¡®è®¤ Qdrant æ­£åœ¨è¿è¡Œï¼ˆQdrant é»˜è®¤ä½¿ç”¨6333ç«¯å£ï¼Œè®¿é—®è¯¥åœ°å€åº”æ˜¾ç¤ºæ¬¢è¿é¡µé¢ ï¼‰ã€‚å¦‚æœéœ€è¦è¿›ä¸€æ­¥éªŒè¯ï¼Œå¯ä½¿ç”¨å‘½ä»¤ï¼š</li>
</ul>
<p><code>curl http://localhost:6333/health</code></p><p>æ­£å¸¸æƒ…å†µä¸‹ä¼šè¿”å› Qdrant çš„å¥åº·æ£€æŸ¥çŠ¶æ€ä¿¡æ¯ JSONã€‚è‡³æ­¤ï¼Œå‘é‡æ•°æ®åº“ Qdrant å’Œå…¨æ–‡æ£€ç´¢å¼•æ“ Elasticsearch çš„ç¯å¢ƒå·²å°±ç»ªã€‚</p>
<h2>3. å®‰è£… Java JDKï¼ˆæ¨èç‰ˆæœ¬ï¼‰å’Œ Maven</h2>
<p>æ­å»º Java å¼€å‘ç¯å¢ƒéœ€è¦å®‰è£… JDK å’Œæ„å»ºå·¥å…· Mavenã€‚</p>
<ul>
<li>Java JDK å®‰è£…ï¼š å»ºè®®ä½¿ç”¨Java 17æˆ–æ›´é«˜ç‰ˆæœ¬çš„LTSç‰ˆæœ¬ï¼ˆå¦‚ Java 21ï¼‰ä½œä¸ºå¼€å‘JDKã€‚å¯ä» Oracle å®˜ç½‘ä¸‹è½½å¯¹åº”çš„ JDK å®‰è£…åŒ…å¹¶å®‰è£…ï¼Œæˆ–ä½¿ç”¨ Homebrew å®‰è£… OpenJDKï¼š</li>
</ul>
<p><code>brew install openjdk@17</code></p><p>å®‰è£…å®Œæˆåï¼Œå°† JDK çš„ bin ç›®å½•åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚å°†ä¸‹é¢ä¸€è¡Œæ·»åŠ åˆ° ~/.zshrcï¼š</p>
<p><code>export PATH=&quot;/usr/local/opt/openjdk@17/bin:$PATH&quot;</code></p><p>ç„¶åè¿è¡Œ java -version éªŒè¯å®‰è£…ï¼Œåº”è¯¥è¾“å‡ºå¯¹åº”ç‰ˆæœ¬çš„ Java ä¿¡æ¯ã€‚</p>
<ul>
<li>Maven å®‰è£…ï¼š Maven ç”¨äºæ„å»ºå’Œä¾èµ–ç®¡ç†ã€‚å¯ä»¥ä» Apache Maven å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶å‘è¡ŒåŒ…æ‰‹åŠ¨å®‰è£…ï¼Œæˆ–è€…ç»§ç»­ä½¿ç”¨ Homebrew å®‰è£…ï¼š</li>
</ul>
<p><code>brew install maven</code></p><p>éªŒè¯ Maven æ˜¯å¦å®‰è£…æˆåŠŸï¼Œè¿è¡Œ mvn -v å°†è¾“å‡º Maven ç‰ˆæœ¬åŠ Java ç¯å¢ƒç­‰ä¿¡æ¯ã€‚å¦‚æœèƒ½çœ‹åˆ°ç‰ˆæœ¬å·è¯´æ˜ Maven é…ç½®æˆåŠŸã€‚</p>
<p>æ³¨æ„ï¼š å®‰è£…å®Œæˆåï¼Œç¡®ä¿ java å’Œ mvn å‘½ä»¤åœ¨ç»ˆç«¯è·¯å¾„ä¸­å¯ç”¨ã€‚å¦‚æœå‡ºç°æ‰¾ä¸åˆ°å‘½ä»¤ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥ PATH é…ç½®æ˜¯å¦æ­£ç¡®ã€‚ä»¥ä¸Šç¯å¢ƒå°±ç»ªåï¼Œå³å¯è¿›è¡Œ Spring Boot é¡¹ç›®åˆ›å»ºã€‚</p>
<h2>4. åˆ›å»ºæœ€å° Spring Boot é¡¹ç›®ï¼ˆåŒ…å« Web å’Œ Qdrant å‘é‡åº“ä¾èµ–ï¼‰</h2>
<p>ä½¿ç”¨ IntelliJ IDEA æ¥åˆ›å»ºä¸€ä¸ªæœ€å°åŒ–çš„ Spring Boot é¡¹ç›®ï¼Œä»¥åŒ…å«æˆ‘ä»¬æ‰€éœ€çš„ Web å’Œ Qdrant Vector Store æ”¯æŒã€‚</p>
<ul>
<li>åˆå§‹åŒ–é¡¹ç›®ï¼š æ‰“å¼€ IntelliJ IDEAï¼Œé€‰æ‹© â€œCreate New Projectâ€ -&gt; Spring Initializrã€‚å¡«å†™é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå¦‚ Group å¡«å†™com.exampleï¼ŒArtifact å¡«å†™rag-demo ç­‰ï¼‰ã€‚é€‰æ‹©åˆé€‚çš„ Spring Boot ç‰ˆæœ¬ï¼ˆå»ºè®® 3.1+ æˆ–æœ€æ–°ç‰ˆæœ¬ï¼‰ï¼Œé¡¹ç›®ç±»å‹ä¸º Maven é¡¹ç›®ã€‚</li>
<li>æ·»åŠ ä¾èµ–ï¼š åœ¨ Initializr å‘å¯¼ä¸­ï¼Œæœç´¢æ·»åŠ  â€œSpring Webâ€ï¼ˆspring-boot-starter-webï¼‰ä¾èµ–ï¼Œä»¥åŒ…å«åŸºç¡€çš„ Web åŠŸèƒ½ï¼ˆå†…åµŒTomcatç”¨äºæä¾› REST æ¥å£ï¼‰ã€‚å¦å¤–ï¼Œç”±äº Spring Initializr å¯èƒ½å°šæœªæ”¶å½• Spring AI çš„ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”Ÿæˆé¡¹ç›®åå†æ‰‹åŠ¨æ·»åŠ  Qdrant çš„ä¾èµ–é…ç½®ã€‚</li>
<li>ç”Ÿæˆå¹¶å¯¼å…¥é¡¹ç›®ï¼š ç‚¹å‡» Finish å®Œæˆé¡¹ç›®åˆ›å»ºï¼ŒIDEA ä¼šè‡ªåŠ¨å¯¼å…¥ Maven é¡¹ç›®ã€‚é¡¹ç›®åˆ›å»ºå®Œæ¯•åï¼Œåœ¨é¡¹ç›®çš„ pom.xml ä¸­æ·»åŠ  Spring AI Qdrant å‘é‡åº“çš„ Starter ä¾èµ–ã€‚ä¾‹å¦‚ï¼Œåœ¨ <dependencies> èŠ‚ç‚¹ä¸­åŠ å…¥ï¼š</li>
</ul>
<blockquote><code>&lt;dependency&gt;</code><br>
<code>    &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;</code><br>
<code>    &lt;artifactId&gt;spring-ai-starter-vector-store-qdrant&lt;/artifactId&gt;</code><br>
<code>    &lt;version&gt;1.0.0-M7&lt;/version&gt;  &lt;!-- ä½¿ç”¨å½“å‰æœ€æ–°çš„ç‰ˆæœ¬å· --&gt;</code><br>
<code>&lt;/dependency&gt;</code></blockquote><p>æç¤ºï¼š Spring AI å¯èƒ½æä¾›äº† BOM (Bill of Materials) è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œå¦‚æœæœ‰éœ€è¦ä¹Ÿå¯ä»¥å¼•å…¥ Spring AI çš„ BOM æ¥ç®€åŒ–ä¾èµ–ç‰ˆæœ¬çš„ç®¡ç†ã€‚ä½†ä¸Šè¿°ç›´æ¥æŒ‡å®šä¾èµ–åæ ‡æ–¹å¼æ›´ç®€å•ç›´æ¥ã€‚</p>
<ul>
<li>é…ç½® Qdrant è¿æ¥å‚æ•°ï¼š æ‰“å¼€é¡¹ç›®çš„ src/main/resources/application.ymlï¼ˆæˆ– application.propertiesï¼‰æ–‡ä»¶ï¼Œæ·»åŠ  Qdrant è¿æ¥çš„åŸºæœ¬é…ç½®ï¼Œä½¿ Spring AI èƒ½å¤Ÿè‡ªåŠ¨é…ç½® Qdrant VectorStoreã€‚ç¤ºä¾‹é…ç½®å¦‚ä¸‹ï¼š</li>
</ul>
<blockquote><code>spring:</code><br>
<code>  ai:</code><br>
<code>    vectorstore:</code><br>
<code>      qdrant:</code><br>
<code>        host: localhost        # Qdrant æœåŠ¡ä¸»æœºåœ°å€ï¼ˆé»˜è®¤localhostï¼‰</code><br>
<code>        port: 6334             # Qdrant gRPCç«¯å£ [oai_citation:4â€¡docs.spring.io](https://docs.spring.io/spring-ai/reference/api/vectordbs/qdrant.html#:~:text=)</code><br>
<code>        collection-name: demo_vectors   # æŒ‡å®šå‘é‡é›†åˆåç§°</code><br>
<code>        initialize-schema: true        # è‡ªåŠ¨åˆå§‹åŒ–é›†åˆschemaï¼ˆå¦‚æœå°šæœªåˆ›å»ºé›†åˆï¼‰</code></blockquote><p>ä»¥ä¸Šé…ç½®é¡¹å‘ŠçŸ¥ Spring AI ï¼šQdrant æœåŠ¡è·‘åœ¨æœ¬æœº 6334 ç«¯å£ï¼ˆQdrant é»˜è®¤ gRPC ç«¯å£ä¸º6334 ï¼‰ï¼Œä½¿ç”¨åç§°ä¸º â€œdemo_vectorsâ€ çš„é›†åˆå­˜å‚¨å‘é‡ï¼Œå¹¶åœ¨é¦–æ¬¡è¿æ¥æ—¶è‡ªåŠ¨åˆ›å»ºé›†åˆï¼ˆä½¿ç”¨é»˜è®¤cosineç›¸ä¼¼åº¦ç­‰ï¼‰ã€‚ç”±äºé»˜è®¤å¼€å‘ç¯å¢ƒä¸‹ Qdrant æ²¡æœ‰å¯ç”¨APIç§˜é’¥è®¤è¯ï¼Œè¿™é‡Œæ— éœ€é…ç½® api-key å­—æ®µ ã€‚</p>
<ul>
<li>ï¼ˆå¯é€‰ï¼‰é…ç½® Embedding æ¨¡å‹ï¼š Spring AI çš„å‘é‡åº“ä½¿ç”¨éœ€è¦ä¸€ä¸ª EmbeddingModel æ¥å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ã€‚å¦‚æœåç»­éœ€è¦æ’å…¥æ–‡æœ¬å¹¶è¿›è¡Œç›¸ä¼¼åº¦æœç´¢ï¼Œå¿…é¡»é…ç½®ä¸€ä¸ªEmbeddingæ¨¡å‹ã€‚ç®€å•èµ·è§ï¼Œå¯ä½¿ç”¨ OpenAI çš„æ–‡æœ¬åµŒå…¥æ¨¡å‹ï¼ˆå¦‚ text-embedding-ada-002ï¼‰ä½œä¸ºEmbeddingæœåŠ¡ã€‚ä¸ºæ­¤ï¼Œéœ€è¦å†æ·»åŠ  OpenAI é›†æˆä¾èµ–ï¼Œå¹¶åœ¨é…ç½®ä¸­æä¾› OpenAI API Keyï¼š</li>
</ul>
<blockquote><code>&lt;!-- åœ¨ pom.xml ä¸­æ·»åŠ  OpenAI é›†æˆ --&gt;</code><br>
<code>&lt;dependency&gt;</code><br>
<code>    &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;</code><br>
<code>    &lt;artifactId&gt;spring-ai-starter-openai&lt;/artifactId&gt;</code><br>
<code>    &lt;version&gt;1.0.0-M7&lt;/version&gt;</code><br>
<code>&lt;/dependency&gt;</code></blockquote><p>ç„¶ååœ¨ application.yml ä¸­åŠ å…¥ï¼š</p>
<blockquote><code>spring:</code><br>
<code>  ai:</code><br>
<code>    model:</code><br>
<code>      openai:</code><br>
<code>        api-key: sk-xxx...    # OpenAI APIå¯†é’¥</code><br>
<code>        embedding-model: text-embedding-ada-002  # æŒ‡å®šä½¿ç”¨çš„åµŒå…¥æ¨¡å‹åç§°</code></blockquote><p>é…ç½®å¥½ä¸Šè¿°å†…å®¹ï¼ŒSpring AI ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª OpenAI EmbeddingModel Beanï¼Œç”¨äºå°†æ–‡æœ¬è½¬ä¸ºå‘é‡ï¼Œä¾› Qdrant VectorStore å­˜å‚¨å’Œæœç´¢ä½¿ç”¨ã€‚
å¦‚æœæ²¡æœ‰å¯ç”¨çš„ OpenAI Keyï¼Œä¹Ÿå¯ä»¥è·³è¿‡Embeddingæ¨¡å‹é…ç½®ï¼Œæ”¹ä¸ºè‡ªè¡Œå®ç°ä¸€ä¸ªç®€å•çš„ EmbeddingModel beanï¼ˆä¾‹å¦‚è¿”å›å›ºå®šå‘é‡ç”¨äºæµ‹è¯•ï¼‰ï¼Œæˆ–æš‚æ—¶ç›´æ¥è°ƒç”¨ Qdrant æ¥å£å­˜å‚¨è‡ªå®šä¹‰å‘é‡ã€‚ä¸è¿‡é€šå¸¸Embeddingæ¨¡å‹é…ç½®å¥½åï¼Œé€šè¿‡ Spring AI çš„ VectorStore æ¥å£æ“ä½œä¼šæ›´æ–¹ä¾¿ã€‚</p>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼Œé¡¹ç›®çš„åŸºç¡€ç»“æ„ä¸é…ç½®å°±å·²ç»å‡†å¤‡å¦¥å½“ã€‚æ¥ä¸‹æ¥ç¼–å†™ä»£ç æµ‹è¯•å‘é‡å­˜å‚¨ä¸æ£€ç´¢åŠŸèƒ½ã€‚</p>
<h2>5. ç¼–å†™æµ‹è¯• Controller è°ƒç”¨ Qdrant è¿›è¡Œå‘é‡å­˜å‚¨ä¸æ£€ç´¢</h2>
<p>åœ¨ Spring Boot é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªç®€å•çš„ REST æ§åˆ¶å™¨ï¼Œç”¨äºè°ƒç”¨ Qdrant å‘é‡åº“æ‰§è¡Œæ’å…¥å’Œæ£€ç´¢æ“ä½œã€‚æˆ‘ä»¬å°†æ’å…¥ä¸€ä¸ªç¤ºä¾‹å‘é‡ï¼ˆé€šè¿‡æ–‡æœ¬ç”Ÿæˆæˆ–ç›´æ¥ç»™å®šï¼‰ï¼Œç„¶åç«‹å³å°è¯•æ£€ç´¢ç›¸ä¼¼å‘é‡ï¼Œä»¥éªŒè¯åº”ç”¨ä¸ Qdrant çš„é›†æˆæ˜¯å¦æ­£å¸¸ã€‚</p>
<ul>
<li>åˆ›å»ºæ§åˆ¶å™¨ç±»ï¼š åœ¨ src/main/java ä¸‹æ–°å»ºåŒ…ï¼ˆå¦‚ com.example.ragdemo.controllerï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º VectorTestController çš„ç±»ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</li>
</ul>
<blockquote><code>import org.springframework.web.bind.annotation.*;</code><br>
<code>import org.springframework.beans.factory.annotation.Autowired;</code><br>
<code>import org.springframework.ai.embeddings.Document;</code><br>
<code>import org.springframework.ai.vectordb.VectorStore;</code><br>
<code>import org.springframework.ai.search.SearchRequest;</code><br>
<code>import java.util.List;</code><br>
<code>import java.util.Map;</code><br>
<code></code><br>
<code># ... (29 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ @Autowired æ³¨å…¥äº†å…ˆå‰é…ç½®çš„ VectorStoreï¼ˆSpring AI å·²æ ¹æ®é…ç½®è‡ªåŠ¨æ„å»ºäº† QdrantVectorStore å®ä¾‹ï¼‰ã€‚ç„¶ååœ¨ /test-vector GETæ¥å£ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª Document æ–‡æ¡£ï¼ˆåŒ…å«æ–‡æœ¬å†…å®¹å’Œä¸€äº›å…ƒæ•°æ®ï¼‰ï¼Œè°ƒç”¨ vectorStore.add() å°†å…¶æ·»åŠ åˆ° Qdrantã€‚æ¥ç€æ„é€ ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚ï¼Œè°ƒç”¨ vectorStore.similaritySearch() æ‰§è¡Œç›¸ä¼¼åº¦å‘é‡æ£€ç´¢ï¼Œè·å–ç›¸ä¼¼çš„ Document åˆ—è¡¨ï¼Œå¹¶è¿”å›å…¶ä¸­çš„æ–‡æœ¬å†…å®¹åˆ—è¡¨ä½œä¸ºæ¥å£å“åº”ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æŸ¥è¯¢è¯â€œå‘é‡æ£€ç´¢ç¤ºä¾‹â€ï¼Œå› ä¸ºå®ƒä¸æ’å…¥çš„ç¤ºä¾‹æ–‡æœ¬åœ¨è¯­ä¹‰ä¸Šæ¥è¿‘ï¼Œç†åº”æ£€ç´¢å‡ºæˆ‘ä»¬æ’å…¥çš„æ–‡æ¡£ã€‚
æ³¨æ„ï¼š è‹¥ä¹‹å‰æœªé…ç½® EmbeddingModelï¼Œè¿™ä¸€æ­¥åœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼ˆå› ä¸ºæ— æ³•å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ï¼‰ã€‚ç¡®ä¿å·²æŒ‰ç…§å‰è¿°æ­¥éª¤é…ç½® OpenAI æˆ–å…¶ä»– Embedding æ¨¡å‹ã€‚å¦‚æœä¸ä½¿ç”¨æ–‡æœ¬ç”Ÿæˆå‘é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ QdrantClientæ¥å£å­˜å‚¨è‡ªå®šä¹‰å‘é‡ï¼Œä¸è¿‡æ­¤å¤„ä¸ºéªŒè¯æµç¨‹ï¼Œä½¿ç”¨æ–‡æœ¬-&gt;å‘é‡çš„æµç¨‹æ›´è´´è¿‘å®é™… RAG åœºæ™¯ã€‚</p>
<ul>
<li>æ£€æŸ¥ä¾èµ–å¯¼å…¥ï¼š ç¡®è®¤ä»£ç é¡¶éƒ¨çš„ import èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”ç±»ã€‚å¦‚æœ Document, VectorStore, SearchRequest ç­‰ç±»æ— æ³•å¯¼å…¥ï¼Œå¯èƒ½æ˜¯ Spring AI ä¾èµ–æœªæ­£ç¡®æ·»åŠ æˆ–ç‰ˆæœ¬ä¸åŒ¹é…ã€‚è¯·æ£€æŸ¥ Maven æ˜¯å¦æˆåŠŸä¸‹è½½äº† Spring AI çš„ç›¸å…³åº“ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ Milestone ç‰ˆæœ¬ï¼Œç¡®ä¿åœ¨ Maven çš„ repositories ä¸­æ·»åŠ äº† Spring Milestones æˆ– Snapshots ä»“åº“æºï¼Œæˆ–è€…ç›´æ¥é€šè¿‡ Spring AI BOM ç®¡ç†ä¾èµ–ç‰ˆæœ¬ã€‚</li>
</ul>
<p>å®Œæˆæ§åˆ¶å™¨ç¼–å†™åï¼Œé¡¹ç›®ä»£ç æ–¹é¢çš„å‡†å¤‡å°±ç»ªã€‚æœ€åä¸€æ­¥æ˜¯å¯åŠ¨åº”ç”¨å¹¶éªŒè¯æ•´ä¸ªæµç¨‹ã€‚</p>
<h2>6. å¯åŠ¨åº”ç”¨å¹¶éªŒè¯æ•´æ¡é“¾è·¯</h2>
<p>ç°åœ¨æˆ‘ä»¬å¯åŠ¨ Spring Boot åº”ç”¨ç¨‹åºï¼Œä»¥åŠå·²ç»è¿è¡Œçš„ Elasticsearch å’Œ Qdrant æœåŠ¡ï¼Œä¸€èµ·æ¥éªŒè¯æ•´ä¸ªRAGç¯å¢ƒæ˜¯å¦é…ç½®æ­£ç¡®ã€‚</p>
<ul>
<li>å¯åŠ¨ Spring Boot åº”ç”¨ï¼š å¯ä»¥é€šè¿‡ IntelliJ IDEA ç›´æ¥è¿è¡Œåº”ç”¨ï¼ˆè¿è¡Œ RagDemoApplication.main()ï¼‰ï¼Œæˆ–åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ Maven å‘½ä»¤å¯åŠ¨ï¼š</li>
</ul>
<p><code>mvn spring-boot:run</code></p><p>åº”ç”¨å¯åŠ¨æ—¶ä¼šè¯»å–é…ç½®è¿æ¥ Qdrantï¼šå¦‚æœé…ç½®å’Œä¾èµ–æ­£ç¡®ï¼Œåº”èƒ½çœ‹åˆ°æ—¥å¿—æ˜¾ç¤ºæˆåŠŸè¿æ¥ Qdrantï¼ˆä»¥åŠå¯èƒ½çš„åµŒå…¥æ¨¡å‹åŠ è½½æ—¥å¿—ï¼‰ã€‚ç¡®ä¿æ§åˆ¶å°æ— å¼‚å¸¸é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œçœ‹åˆ° Started RagDemoApplication in [time] seconds åˆ™è¡¨ç¤ºæœåŠ¡å·²æˆåŠŸå¯åŠ¨ã€‚</p>
<ul>
<li>éªŒè¯æœåŠ¡æ¥å£ï¼š æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/test-vector">http://localhost:8080/test-vector</a> ï¼ˆå‡è®¾ Spring Boot é»˜è®¤ç«¯å£æœªä¿®æ”¹ä»ä¸º8080ï¼‰ã€‚è¯¥è¯·æ±‚ä¼šè§¦å‘æˆ‘ä»¬åœ¨ VectorTestController ä¸­çš„é€»è¾‘ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨å¯èƒ½ç¨æœ‰å»¶è¿Ÿï¼ˆå› ä¸ºå¯èƒ½éœ€è¦é€šè¿‡Embeddingæ¨¡å‹ç”Ÿæˆå‘é‡ï¼‰ã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæµè§ˆå™¨åº”è¿”å›ä¸€ä¸ªJSONæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬æ’å…¥çš„æ–‡æ¡£å†…å®¹å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<p><code>[&quot;Spring AI åœ¨å‘é‡æ£€ç´¢ä¸­çš„åº”ç”¨ç¤ºä¾‹&quot;]</code></p><p>è¿”å›çš„æ•°ç»„ä¸­åº”å«æœ‰æˆ‘ä»¬æ’å…¥çš„ç¤ºä¾‹æ–‡æœ¬ï¼Œè¡¨ç¤ºé€šè¿‡æŸ¥è¯¢æ‰¾åˆ°äº†è¯¥å‘é‡æ–‡æ¡£ã€‚è¿™è¡¨æ˜åº”ç”¨æˆåŠŸåœ°è°ƒç”¨äº† Qdrant å‘é‡æ•°æ®åº“å®Œæˆå­˜å‚¨å’Œæ£€ç´¢ï¼Œå…¨é“¾è·¯é€šç•…ã€‚</p>
<ul>
<li>æ£€æŸ¥å„ç»„ä»¶çŠ¶æ€ï¼š è‹¥æ¥å£æœªæ­£å¸¸è¿”å›ï¼Œéœ€æ£€æŸ¥ä»¥ä¸‹å‡ æ–¹é¢ï¼š<ul>
<li>åº”ç”¨æ—¥å¿—ï¼š æŸ¥çœ‹ Spring Boot æ§åˆ¶å°æ—¥å¿—ï¼Œæœ‰æ— è¿æ¥ Qdrant çš„é”™è¯¯ï¼ˆå¦‚æ‰¾ä¸åˆ°ä¸»æœºæˆ–ç«¯å£ï¼‰ã€‚è‹¥æœ‰ï¼Œç¡®è®¤ Docker Compose ä¸­ Qdrant å®¹å™¨æ˜¯å¦åœ¨è¿è¡Œï¼Œç«¯å£æ˜ å°„æ˜¯å¦æ­£ç¡®ï¼Œä»¥åŠåº”ç”¨é…ç½®çš„ host/port æ˜¯å¦å¯¹åº”ã€‚Mac ä¸‹ localhost æ˜ å°„å®¹å™¨é€šå¸¸æ²¡é—®é¢˜ï¼Œå¦‚æœ‰ç–‘é—®å¯å°† host æ”¹ä¸º host.docker.internal è¯•è¯•ã€‚</li>
<li>Qdrant å®¹å™¨ï¼š ä½¿ç”¨ docker compose ps æŸ¥çœ‹ Qdrant æ˜¯å¦å¥åº·è¿è¡Œï¼Œæˆ–è€… docker logs qdrant æŸ¥çœ‹å…¶æ—¥å¿—ã€‚æœ‰æ— æ”¶åˆ°è¯·æ±‚æˆ–æŠ¥é”™ã€‚</li>
<li>Embedding æ¨¡å‹ï¼š å¦‚æœæŠ¥æ¶‰åŠ EmbeddingModel çš„é”™è¯¯ï¼Œç¡®è®¤ OpenAI API Key æ˜¯å¦æ­£ç¡®é…ç½®ä¸”æœªè¿‡æœŸï¼›æˆ–è€…è‡ªå®šä¹‰çš„ EmbeddingModel å®ç°æ˜¯å¦æ³¨å…¥ã€‚</li>
<li>Elasticsearch å®¹å™¨ï¼š æœ¬ç¤ºä¾‹æœªç›´æ¥ä½¿ç”¨ ESï¼Œä½†åœ¨å®é™…RAGä¸­ESé€šå¸¸ç”¨äºå­˜å‚¨ç´¢å¼•æ–‡æœ¬ã€‚å¦‚æœéœ€è¦ä¹Ÿå¯ä»¥ç±»ä¼¼æ–¹å¼å†™ä¸€ä¸ªç®€å•æµ‹è¯•ï¼ˆå¦‚ä½¿ç”¨ RestHighLevelClient ç´¢å¼•ä¸€æ¡æ–‡æ¡£å†æœç´¢ï¼‰ã€‚è¿™é‡Œä¸»è¦ç¡®ä¿ ES å®¹å™¨æ­£å¸¸å¯åŠ¨å³å¯ï¼Œå¯é€šè¿‡è®¿é—®å…¶ API ç®€å•éªŒè¯ã€‚</li>
</ul>
</li>
</ul>
<p>ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œåº”å½“æˆåŠŸåœ¨æœ¬åœ°æ­å»ºäº†ä¸€ä¸ªåŸºæœ¬çš„ Java+Spring AI é¡¹ç›®ï¼Œå¹¶å®Œæˆäº†ä¸å‘é‡æ•°æ®åº“ Qdrant çš„è”é€šæ€§æµ‹è¯•ã€‚è¿™ä¸ªç¯å¢ƒä¸ºåç»­å¼€å‘ RAG æœç´¢æœåŠ¡å¥ å®šäº†åŸºç¡€â€”â€”å¯ä»¥åœ¨æ­¤ä¹‹ä¸Šè¿›ä¸€æ­¥é›†æˆå¤§è¯­è¨€æ¨¡å‹è°ƒç”¨ã€å®Œå–„å‘é‡æ£€ç´¢ä¸æ–‡æœ¬æ£€ç´¢çš„ç»“åˆç­–ç•¥ï¼Œå®ç°å®Œæ•´çš„æ£€ç´¢å¢å¼ºç”Ÿæˆåº”ç”¨ã€‚</p>

    </article>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
<script>
Prism.highlightAll();
document.querySelectorAll('article pre').forEach(pre => {
    const code = pre.querySelector('code');
    if (!code) return;
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.onclick = () => {
        navigator.clipboard.writeText(code.textContent).then(() => {
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    };
    toolbar.appendChild(btn);
    pre.parentNode.insertBefore(toolbar, pre);
});
</script>
</body>
</html>