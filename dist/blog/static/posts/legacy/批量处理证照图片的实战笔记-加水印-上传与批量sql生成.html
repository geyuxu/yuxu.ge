<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰¹é‡å¤„ç†è¯ç…§å›¾ç‰‡çš„å®æˆ˜ç¬”è®°ï¼šåŠ æ°´å°ã€ä¸Šä¼ ä¸æ‰¹é‡SQLç”Ÿæˆ | Yuxu Ge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --black: #111;
            --dark-grey: #444;
            --off-white: #f4f4f4;
            --vermilion: #C41E3A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--black);
            background-color: var(--off-white);
        }

        a {
            color: var(--vermilion);
            text-decoration: none;
        }

        a:hover {
            opacity: 0.75;
        }

        .layout {
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 320px;
            height: 100vh;
            background: var(--black);
            color: var(--off-white);
            padding: 3rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .avatar {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--vermilion);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .avatar:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .name-block {
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--off-white);
        }

        .title-role {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.25rem;
            font-weight: 400;
        }

        .contact-block {
            margin-top: 2.5rem;
            width: 100%;
        }

        .social-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 160px;
            color: var(--off-white);
            opacity: 0.7;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .social-links a:hover {
            color: var(--vermilion);
            opacity: 1;
            background: rgba(255, 255, 255, 0.05);
        }

        .social-links svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .social-links .orcid-link {
            font-size: 0.68rem;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .sidebar-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #555;
        }

        /* Content */
        .content {
            margin-left: 320px;
            padding: 3rem 4rem;
            max-width: calc(100vw - 320px - 8rem);
        }

        .back-link {
            display: inline-block;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            color: var(--dark-grey);
        }

        .back-link:hover {
            color: var(--vermilion);
        }

        /* Article */
        article h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            color: var(--black);
        }

        article h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--black);
        }

        article h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--black);
        }

        article p {
            margin-bottom: 1rem;
            color: var(--dark-grey);
        }

        article ul,
        article ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--dark-grey);
        }

        article li {
            margin-bottom: 0.5rem;
        }

        article strong {
            color: var(--black);
        }

        article code {
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            background: #e8e8e8;
            padding: 0.15em 0.4em;
            border-radius: 3px;
        }

        article pre {
            margin: 1rem 0;
            border-radius: 6px;
            overflow-x: auto;
            background: #2d2d2d;
            padding: 1rem;
        }

        article pre code {
            background: none;
            padding: 0;
            font-size: 0.75em;
            white-space: pre !important;
            counter-reset: line;
            display: block;
            color: #ccc;
        }

        article pre code .line {
            counter-increment: line;
        }

        article pre code .line::before {
            content: counter(line);
            display: inline-block;
            width: 2.5em;
            margin-right: 1em;
            text-align: right;
            color: #666;
            user-select: none;
        }

        .code-toolbar {
            display: flex;
            justify-content: flex-start;
            padding: 0.35rem 0.5rem;
            background: #3a3a3a;
            border-radius: 6px 6px 0 0;
        }

        .code-toolbar+pre {
            margin-top: 0;
            border-radius: 0 0 6px 6px;
        }

        .copy-btn {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
            background: #555;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover,
        .copy-btn:active {
            background: #777;
        }

        .copy-btn.copied {
            background: #2a2;
        }

        article blockquote {
            border-left: 3px solid var(--vermilion);
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            font-style: italic;
        }

        article hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 2rem 0;
        }

        article table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        article th,
        article td {
            border: 1px solid #ddd;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        article th {
            background: #e8e8e8;
            font-weight: 600;
        }

        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem 0;
            border-radius: 6px;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .error {
            color: var(--vermilion);
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .lang-selector-label {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .lang-selector-label svg {
            width: 16px;
            height: 16px;
        }

        .lang-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            min-width: 140px;
        }

        .lang-select:focus {
            outline: none;
            border-color: var(--vermilion);
        }

        .lang-status {
            font-size: 0.8rem;
            color: #888;
            margin-left: auto;
        }

        .lang-status.translating {
            color: var(--vermilion);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-status.translating::before {
            content: '';
            width: 14px;
            height: 14px;
            border: 2px solid #f0f0f0;
            border-top-color: var(--vermilion);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .lang-status.cached {
            color: #4CAF50;
        }

        .lang-original-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .lang-original-btn:hover {
            background: #e0e0e0;
            color: #333;
        }

        @media (max-width: 600px) {
            .lang-selector {
                flex-wrap: wrap;
            }
            .lang-status {
                width: 100%;
                margin-left: 0;
                margin-top: 0.5rem;
            }
        }

        /* KaTeX math styles */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Jupyter Notebook Styles */
        .notebook-container {
            margin-top: 1rem;
        }

        .notebook-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .notebook-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .notebook-download svg {
            width: 16px;
            height: 16px;
        }

        .nb-cell {
            margin-bottom: 1.5rem;
        }

        .nb-cell-code .nb-source {
            background: #2d2d2d;
            border-radius: 6px;
            overflow-x: auto;
        }

        .nb-cell-code .nb-source pre {
            margin: 0;
            padding: 1rem;
            color: #ccc;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
        }

        .nb-cell-code .nb-source code {
            background: none;
            padding: 0;
        }

        .nb-output {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 0.5rem;
        }

        .nb-output pre {
            margin: 0;
            padding: 0;
            background: transparent;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
            color: #222;
        }

        .nb-output img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0.5rem 0;
        }

        .nb-output table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .nb-output th,
        .nb-output td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }

        .nb-output th {
            background: #e8e8e8;
            font-weight: 600;
        }

        .nb-cell-markdown {
            padding: 0;
        }

        .nb-cell-markdown h1:first-child {
            margin-top: 0;
        }

        /* Document Download Button */
        .doc-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .doc-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .doc-download svg {
            width: 16px;
            height: 16px;
        }

        /* PDF Viewer */
        .pdf-container {
            margin-top: 1rem;
        }

        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* Text File Display */
        .text-container {
            margin-top: 1rem;
        }

        .text-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 1.5rem;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--dark-grey);
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Word Document Display */
        .word-container {
            margin-top: 1rem;
        }

        .word-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 2rem;
            line-height: 1.8;
            color: var(--dark-grey);
        }

        .word-content p {
            margin-bottom: 1rem;
        }

        .word-content h1,
        .word-content h2,
        .word-content h3 {
            color: var(--black);
            margin: 1.5rem 0 1rem;
        }

        .word-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .word-content th,
        .word-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
        }

        .word-content img {
            max-width: 100%;
            height: auto;
        }

        /* Excel Display */
        .excel-container {
            margin-top: 1rem;
        }

        .excel-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .excel-tab {
            padding: 0.5rem 1rem;
            background: #e8e8e8;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .excel-tab.active {
            background: #4CAF50;
            color: white;
        }

        .excel-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
        }

        .excel-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .excel-content th,
        .excel-content td {
            border: 1px solid #ddd;
            padding: 0.4rem 0.6rem;
            text-align: left;
            white-space: nowrap;
        }

        .excel-content th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .excel-content tr:nth-child(even) {
            background: #fafafa;
        }

        /* PowerPoint Display */
        .ppt-container {
            margin-top: 1rem;
        }

        .ppt-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* CSV Display (uses excel styles) */
        .csv-container {
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 2rem 1.5rem 1rem;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .social-links a,
            .social-links .orcid-link {
                width: auto;
                padding: 0.5rem;
                font-size: 0;
                gap: 0;
            }

            .social-links svg {
                width: 24px;
                height: 24px;
            }

            .social-links .hide-mobile {
                display: none;
            }

            .sidebar-footer {
                margin-top: 1rem;
            }

            .content {
                margin-left: 0;
                padding: 2rem 1rem;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                padding: 1.5rem 1rem 1rem;
            }

            .avatar {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 1.4rem;
            }

            article h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>

    <div class="layout">
        <aside class="sidebar" id="sidebar-content"></aside>
        <script src="/components/sidebar.js?v=20260128"></script>

        <main class="content">
            <a href="/blog/" class="back-link">â† Back to Blog</a>

            <!-- Language Selector -->
            <div class="lang-selector" id="lang-selector" style="display: none;">
                <span class="lang-selector-label">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                    Language
                </span>
                <select class="lang-select" id="lang-select">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
                <button class="lang-original-btn" id="lang-original-btn" style="display: none;">Show Original</button>
                <span class="lang-status" id="lang-status"></span>
            </div>

            <article>
<hr>
<h2>date: 2021-01-25
tags: [devops]
legacy: true</h2>
<h1>æ‰¹é‡å¤„ç†è¯ç…§å›¾ç‰‡çš„å®æˆ˜ç¬”è®°ï¼šåŠ æ°´å°ã€ä¸Šä¼ ä¸æ‰¹é‡SQLç”Ÿæˆ</h1>
<p>åœ¨å¤„ç†å‰ï¼Œéœ€ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£…ImageMagickï¼ˆå¦‚Ubuntuä¸‹æ‰§è¡Œapt-get install imagemagickï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„Shellè„šæœ¬batch_watermark.shï¼Œéå†ç›®æ ‡ç›®å½•ä¸‹çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶å¯¹æ¯ä¸ªæ–‡ä»¶æ‰§è¡ŒåŠ æ°´å°æ“ä½œã€‚ç¤ºä¾‹è„šæœ¬ä»£ç å¦‚ä¸‹ï¼š</p>
<blockquote><code>#!/bin/bash</code><br>
<code>WATERMARK=&quot;watermark.png&quot;               # é¢„å…ˆå‡†å¤‡å¥½çš„æ°´å°å›¾ç‰‡è·¯å¾„</code><br>
<code>SRC_DIR=&quot;./cert_images_original&quot;        # åŸå§‹è¯ç…§å›¾ç‰‡ç›®å½•</code><br>
<code>DST_DIR=&quot;./cert_images_watermarked&quot;     # åŠ æ°´å°åçš„è¾“å‡ºç›®å½•</code><br>
<code></code><br>
<code>mkdir -p &quot;$DST_DIR&quot;</code><br>
<code>for img in &quot;$SRC_DIR&quot;/*.jpg; do</code><br>
<code>  filename=$(basename &quot;$img&quot;)</code><br>
<code># ... (8 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä¸Šè¿°è„šæœ¬å¯¹æ¯å¼ å›¾ç‰‡è°ƒç”¨äº†ä¸€æ¬¡ImageMagickçš„compositeå‘½ä»¤è¿›è¡Œæ°´å°å åŠ ï¼š-gravity southeastæŒ‡å®šå°†æ°´å°æ”¾ç½®åœ¨åŸå›¾çš„å³ä¸‹è§’ï¼Œ-dissolve 80è¡¨ç¤ºæ°´å°çš„ä¸é€æ˜åº¦ä¸º80ï¼ˆæ•°å€¼è¶Šå°è¡¨ç¤ºæ°´å°è¶Šé€æ˜ï¼‰ ã€‚æˆ‘ä»¬å°†å¤„ç†åçš„å›¾ç‰‡è¾“å‡ºåˆ°æ–°çš„ç›®å½•ä»¥ä¿ç•™åŸå§‹æ–‡ä»¶ã€‚è„šæœ¬æ‰§è¡Œæ—¶ä¼šè¾“å‡ºæ¯ä¸ªæ–‡ä»¶çš„å¤„ç†ç»“æœï¼Œæ–¹ä¾¿è§‚å¯Ÿè¿›åº¦ã€‚</p>
<p>ç»éªŒæç¤ºï¼š æ‰¹é‡å¤„ç†å‰ï¼Œå…ˆç”¨å‡ å¼ æ ·ä¾‹å›¾ç‰‡æµ‹è¯•è„šæœ¬æ•ˆæœï¼Œæ£€æŸ¥æ°´å°ä½ç½®å’Œæ¸…æ™°åº¦æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚å¦‚æœéœ€è¦è°ƒæ•´æ°´å°å¤§å°æˆ–ä½ç½®ï¼Œå¯ä¿®æ”¹ImageMagickå‘½ä»¤å‚æ•°åå†æ‰¹é‡è¿è¡Œã€‚</p>
<h2>ç¦»çº¿å‹ç¼©ä¸SCPä¼ è¾“</h2>
<p>å®Œæˆæ°´å°æ·»åŠ åï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€æ‰¹å·²åŠ æ°´å°çš„å›¾ç‰‡æ–‡ä»¶ã€‚ä¸‹ä¸€æ­¥å‡†å¤‡å°†è¿™äº›æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹çš„å¯¹è±¡å­˜å‚¨æœåŠ¡å™¨ã€‚è€ƒè™‘åˆ°ç›´æ¥é€æ–‡ä»¶ä¼ è¾“æ•ˆç‡è¾ƒä½ï¼Œæˆ‘ä»¬é€‰æ‹©å…ˆåœ¨æœ¬åœ°å°†æ‰€æœ‰å›¾ç‰‡æ‰“åŒ…å‹ç¼©ï¼Œç„¶åé€šè¿‡scpä¸€æ¬¡æ€§ä¼ è¾“ã€‚åœ¨å‹ç¼©è¿‡ç¨‹ä¸­è¿˜é¡ºä¾¿è¿›ä¸€æ­¥å‡å°äº†æ–‡ä»¶ä½“ç§¯ï¼Œå‡å°‘ä¸Šä¼ è€—æ—¶ã€‚</p>
<p>å…·ä½“åšæ³•æ˜¯ä½¿ç”¨tarå‘½ä»¤å°†ç›®å½•æ‰“åŒ…å¹¶ä½¿ç”¨gzipå‹ç¼©ï¼š</p>
<blockquote><code># å°†åŠ æ°´å°åçš„å›¾ç‰‡ç›®å½•æ‰“åŒ…å‹ç¼©</code><br>
<code>tar -czvf cert_images_watermarked.tar.gz ./cert_images_watermarked</code></blockquote><p>å‹ç¼©å®Œæˆåï¼Œä¼šç”Ÿæˆä¸€ä¸ªcert_images_watermarked.tar.gzæ–‡ä»¶ã€‚æ¥ç€ï¼Œä½¿ç”¨scpå°†è¯¥æ–‡ä»¶ä¼ è¾“åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼ˆå‡è®¾ç›®æ ‡æœåŠ¡å™¨åŸŸåä¸ºyourserver.example.comï¼‰ï¼š</p>
<blockquote><code># å°†å‹ç¼©åŒ…é€šè¿‡scpä¼ è¾“åˆ°è¿œç¨‹æœåŠ¡å™¨</code><br>
<code>scp cert_images_watermarked.tar.gz user@yourserver.example.com:/tmp/</code></blockquote><p>scpä¼ è¾“å‰è¯·ç¡®ä¿ç½‘ç»œç•…é€šã€å¸¦å®½å……è¶³ã€‚å¦‚æœæ–‡ä»¶è¾ƒå¤§ï¼Œæ·»åŠ -Cå‚æ•°è¿˜èƒ½åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å¯ç”¨å‹ç¼©ã€‚ä¼ è¾“å®Œæˆåï¼Œåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨tar -xzvfè§£å‹å‡ºå›¾ç‰‡æ–‡ä»¶ï¼Œä»¥å‡†å¤‡åç»­çš„ä¸Šä¼ å…¥åº“æ­¥éª¤ã€‚</p>
<p>æ³¨æ„ï¼š scpæœ¬èº«ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¦‚æœç½‘ç»œä¸­æ–­ä¼ è¾“ä¼šä»å¤´å¼€å§‹ ã€‚å› æ­¤å¯¹äºå‡ åGBçš„å¤§æ–‡ä»¶ï¼Œæ¨èä½¿ç”¨æ”¯æŒæ–­ç‚¹ç»­ä¼ çš„rsyncå·¥å…·è¿›è¡Œä¼ è¾“ï¼Œä»¥é¿å…ä¸­é€”ä¸­æ–­é€ æˆé‡å¤è€—æ—¶ ã€‚</p>
<h2>å›¾ç‰‡ä¸Šä¼ è‡³å¯¹è±¡å­˜å‚¨ï¼ˆJava å·¥å…·ï¼‰</h2>
<p>å›¾ç‰‡æ–‡ä»¶æŠµè¾¾æœåŠ¡å™¨å¹¶è§£å‹åï¼Œéœ€è¦æ‰¹é‡ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨ï¼ˆå¦‚å…¬å¸å†…éƒ¨çš„äº‘å­˜å‚¨æœåŠ¡ï¼‰ã€‚åœ¨æœ¬æ¬¡å®è·µä¸­ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªç®€å•çš„Javaå°å·¥å…·æ¥å®Œæˆæ‰¹é‡ä¸Šä¼ ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨Javaï¼Œæ˜¯å› ä¸ºé¡¹ç›®ç°æœ‰çš„å¯¹è±¡å­˜å‚¨SDKå’Œæƒé™æ§åˆ¶å°è£…åœ¨Javaç¯å¢ƒä¸­ï¼Œåˆ©ç”¨ç°æœ‰æ¥å£å¯ä»¥ç¡®ä¿ä¸Šä¼ è¿‡ç¨‹å®‰å…¨å¯é ã€‚</p>
<p>ä¸Šä¼ æµç¨‹æ¦‚è¿°ï¼š Javaå·¥å…·ä¼šè¯»å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶ï¼Œé€ä¸€è°ƒç”¨å¯¹è±¡å­˜å‚¨çš„APIä¸Šä¼ ã€‚å¯¹äºæ¯ä¸ªä¸Šä¼ çš„æ–‡ä»¶ï¼Œå­˜å‚¨æœåŠ¡ä¼šè¿”å›ä¸€ä¸ªè®¿é—®URLæˆ–é”®å€¼ã€‚æˆ‘ä»¬å°†è¿™äº›URLä¸å¯¹åº”çš„å›¾ç‰‡ã€é—¨åº—ä¿¡æ¯å…³è”èµ·æ¥ï¼Œä¸ºç”Ÿæˆæ•°æ®åº“SQLåšå‡†å¤‡ã€‚ä¼ªä»£ç æµç¨‹å¦‚ä¸‹ï¼š</p>
<blockquote><code>List&lt;File&gt; files = listFiles(&quot;/tmp/cert_images_watermarked&quot;);</code><br>
<code>for (File file : files) {</code><br>
<code>    String key = file.getName();  // ä½¿ç”¨æ–‡ä»¶åä½œä¸ºå¯¹è±¡å­˜å‚¨ä¸­çš„é”®</code><br>
<code>    // è°ƒç”¨å¯¹è±¡å­˜å‚¨SDKä¸Šä¼ æ–‡ä»¶å¹¶è·å–URL</code><br>
<code>    String url = objectStorageClient.upload(file, key);</code><br>
<code>    // è®°å½•æ˜ å°„å…³ç³»ï¼Œåç»­ç”¨äºç”ŸæˆSQLï¼Œä¾‹å¦‚ä¿å­˜åœ¨åˆ—è¡¨æˆ–å†™å…¥æ–‡ä»¶</code><br>
<code>    recordMapping(file.getName(), url);</code><br>
<code>}</code></blockquote><p>å®é™…å®ç°ä¸­ï¼ŒobjectStorageClient.uploadå°è£…äº†å¯¹è±¡å­˜å‚¨æœåŠ¡çš„HTTPä¸Šä¼ è¿‡ç¨‹ï¼Œå¹¶è¿”å›æ–‡ä»¶çš„å…¬ç½‘è®¿é—®URLã€‚ä¸ºç®€åŒ–æµç¨‹ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨æ–‡ä»¶åä½œä¸ºå­˜å‚¨é”®ï¼Œè¿™æ ·URLå¾€å¾€å¯ä»¥ç”±å›ºå®šçš„åŸŸååŠ ä¸Šæ–‡ä»¶åæ‹¼æ¥å¾—åˆ°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯¹è±¡å­˜å‚¨çš„è®¿é—®åŸŸåä¸º<code>https://files.example.com/</code>, æŸå¼ å›¾ç‰‡æ–‡ä»¶<code>store001_license.jpg</code>ä¸Šä¼ åçš„è®¿é—®è·¯å¾„å¯èƒ½ä¸º<code>https://files.example.com/store001_license.jpg</code>ã€‚è¿™ç§å‘½åç­–ç•¥ä½¿æˆ‘ä»¬åœ¨ç”ŸæˆSQLæ—¶æ— éœ€é¢å¤–æŸ¥è¯¢æ˜ å°„ï¼Œå‡å°‘äº†å·¥ä½œé‡ã€‚</p>
<p>æ‰¹é‡ä¸Šä¼ æ—¶è¦è€ƒè™‘å¤±è´¥é‡è¯•æœºåˆ¶ã€‚ä¾‹å¦‚å¯ä»¥å¯¹æ¯ä¸ªæ–‡ä»¶ä¸Šä¼ è®¾ç½®é‡è¯•æ¬¡æ•°ï¼Œæˆ–å°†å¤±è´¥çš„æ–‡ä»¶è®°å½•ä¸‹æ¥ä»¥ä¾¿ç¨åæ‰‹å·¥æˆ–è„šæœ¬é‡æ–°ä¸Šä¼ ï¼Œç¡®ä¿æ‰€æœ‰æ–‡ä»¶æœ€ç»ˆéƒ½æˆåŠŸè¿›å…¥å¯¹è±¡å­˜å‚¨ã€‚</p>
<h2>æ‰¹é‡ç”ŸæˆSQLè„šæœ¬</h2>
<p>æœ€åä¸€é¡¹ä»»åŠ¡æ˜¯æ ¹æ®ä¸Šä¼ åçš„å›¾ç‰‡ä¿¡æ¯ç”Ÿæˆå¯¹åº”çš„SQLæ’å…¥è¯­å¥ï¼Œä»¥å°†å›¾ç‰‡å…³è”æ•°æ®å†™å…¥æ•°æ®åº“ä¸­ã€‚æˆ‘ä»¬éœ€è¦é’ˆå¯¹æ¯å¼ è¯ç…§å›¾ç‰‡ç”Ÿæˆä¸€æ¡INSERTè¯­å¥ï¼ŒåŒ…å«è¯¸å¦‚é—¨åº—IDã€è¯ç…§ç±»å‹ã€å›¾ç‰‡URLç­‰å­—æ®µã€‚ç”±äºå›¾ç‰‡æ•°é‡å¤šï¼Œæ‰‹å·¥ç¼–å†™SQLæ—¢ç¹çåˆå®¹æ˜“å‡ºé”™ï¼Œå› æ­¤å†åº¦å€ŸåŠ©è„šæœ¬æ¥æ‰¹é‡ç”Ÿæˆã€‚</p>
<p>å‡è®¾æˆ‘ä»¬çš„æ•°æ®åº“è¡¨ç»“æ„ä¸ºï¼šstore_certificates(store_id, cert_type, image_url, upload_date)ï¼Œæ¯æ¡è®°å½•å­˜å‚¨ä¸€ä¸ªé—¨åº—çš„ä¸€å¼ è¯ç…§å›¾ç‰‡åŠå…¶ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥ç¼–å†™Shellè„šæœ¬è¯»å–ä¹‹å‰è®°å½•çš„æ–‡ä»¶åå’ŒURLæ˜ å°„å…³ç³»ï¼Œç„¶åæ‹¼æ¥SQLè¯­å¥ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬generate_sql.shç‰‡æ®µï¼š</p>
<blockquote><code>#!/bin/bash</code><br>
<code>OUTPUT_FILE=&quot;insert_pics.sql&quot;</code><br>
<code>BASE_URL=&quot;https://files.example.com/&quot;  # å¯¹è±¡å­˜å‚¨è®¿é—®åŸŸå</code><br>
<code></code><br>
<code>&gt; $OUTPUT_FILE  # æ¸…ç©ºè¾“å‡ºæ–‡ä»¶</code><br>
<code>for file_path in ./cert_images_watermarked/*.jpg; do</code><br>
<code>  filename=$(basename &quot;$file_path&quot;)</code><br>
<code>  # å‡è®¾æ–‡ä»¶åæ ¼å¼ä¸º storeId_certCode.jpgï¼Œä¾‹å¦‚ &quot;001_yingye.jpg&quot;</code><br>
<code>  store_id=$(echo &quot;$filename&quot; | cut -d&#039;_&#039; -f1)</code><br>
<code>  cert_code=$(echo &quot;$filename&quot; | cut -d&#039;_&#039; -f2 | sed &#039;s/\..*//&#039;)</code><br>
<code>  image_url=&quot;${BASE_URL}${filename}&quot;</code><br>
<code>  echo &quot;INSERT INTO store_certificates (store_id, cert_type, image_url, upload_date) VALUES (&#039;$store_id&#039;, &#039;$cert_code&#039;, &#039;$image_url&#039;, NOW());&quot; &gt;&gt; $OUTPUT_FILE</code><br>
<code>done</code><br>
<code>echo &quot;ç”Ÿæˆå®Œæ¯•ï¼š`wc -l &lt; $OUTPUT_FILE` æ¡SQLè¯­å¥å·²å†™å…¥$OUTPUT_FILE&quot;</code></blockquote><p>è¿™ä¸ªè„šæœ¬å‡å®šæ–‡ä»¶åä¸­åŒ…å«é—¨åº—IDå’Œè¯ç…§ç±»å‹ç¼–ç ï¼ˆå¦‚001_yingye.jpgè¡¨ç¤ºé—¨åº—001çš„è¥ä¸šæ‰§ç…§ï¼‰ã€‚è„šæœ¬é€šè¿‡å­—ç¬¦ä¸²æˆªå–å¾—åˆ°æ‰€éœ€å­—æ®µï¼Œå¹¶æ‹¼æ¥ç”ŸæˆINSERTè¯­å¥ï¼Œæœ€ç»ˆå°†æ‰€æœ‰è¯­å¥è¾“å‡ºåˆ°insert_pics.sqlæ–‡ä»¶ä¸­ã€‚æœ€åä¸€è¡Œè¿˜ç®€å•æ‰“å°äº†ç”Ÿæˆçš„SQLæ•°é‡ï¼Œä¾¿äºæ ¸å¯¹ã€‚ç”Ÿæˆå®Œæˆåï¼Œåªéœ€å°†è¯¥SQLè„šæœ¬åœ¨ç›®æ ‡æ•°æ®åº“ä¸Šæ‰§è¡Œï¼Œå³å¯æ‰¹é‡æ’å…¥æ‰€æœ‰å›¾ç‰‡çš„è®°å½•ã€‚</p>
<p>æ³¨æ„ï¼š åœ¨ç”ŸæˆSQLæ—¶ï¼Œç¡®ä¿æ­£ç¡®è½¬ä¹‰å­—ç¬¦å’Œå¼•ç”¨å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²å€¼è¦ç”¨å¼•å·æ‹¬èµ·æ¥ï¼Œé¿å…æ–‡ä»¶åä¸­å¦‚æœå«ç‰¹æ®Šå­—ç¬¦å¯¼è‡´SQLè¯­æ³•é”™è¯¯ã€‚å¦å¤–ï¼Œå¤§æ‰¹é‡æ’å…¥æ“ä½œå»ºè®®åœ¨ä¸šåŠ¡ä½å³°æœŸè¿›è¡Œï¼Œå¹¶åšå¥½å¤‡ä»½ã€‚</p>
<h2>é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨å®é™…æ‰§è¡Œä¸Šè¿°æ‰¹å¤„ç†æµç¨‹æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä»¥ä¸‹åˆ—ä¸¾å‡ ä¸ªå…¸å‹é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>è„šæœ¬å…¼å®¹æ€§é—®é¢˜ï¼š èµ·åˆç¼–å†™çš„Shellè„šæœ¬åœ¨å¤„ç†æ–‡ä»¶ååŒ…å«ç©ºæ ¼æˆ–ç‰¹æ®Šç¬¦å·çš„å›¾ç‰‡æ—¶å¤±è´¥ã€‚è¿™æ˜¯å› ä¸ºforå¾ªç¯åˆ†éš”æ–‡ä»¶åæ—¶é‡åˆ°äº†ç©ºæ ¼ã€‚è§£å†³æ–¹æ¡ˆï¼š åœ¨è„šæœ¬ä¸­ä½¿ç”¨å¼•å·åŒ…è£¹æ–‡ä»¶è·¯å¾„å˜é‡ï¼ˆä¾‹å¦‚<code>for img in &quot;$SRC_DIR&quot;/*</code>å¹¶åœ¨åç»­å¼•ç”¨æ—¶ç”¨&quot;$img&quot;ï¼‰ï¼Œæˆ–æ”¹ç”¨<code>while read</code>é…åˆ<code>find -print0</code>å¤„ç†ï¼Œç¡®ä¿æ–‡ä»¶åä½œä¸ºæ•´ä½“è¢«è¯†åˆ«ã€‚</li>
<li>å›¾ç‰‡å¤„ç†é”™è¯¯ï¼š éƒ¨åˆ†å›¾ç‰‡ç”±äºæ ¼å¼ä¸ç¬¦åˆé¢„æœŸï¼ˆä¾‹å¦‚PNGæ ¼å¼æˆ–æŸåæ–‡ä»¶ï¼‰å¯¼è‡´ImageMagickæŠ¥é”™ä¸­æ­¢ã€‚è§£å†³æ–¹æ¡ˆï¼š åœ¨è„šæœ¬ä¸­å¢åŠ æ ¼å¼è¿‡æ»¤ï¼Œåªå¤„ç†.jpgæˆ–æŒ‡å®šæ ¼å¼æ–‡ä»¶ï¼›å¯¹äºæŸåæ–‡ä»¶æå‰ç­›é™¤ã€‚åŒæ—¶åœ¨compositeå‘½ä»¤ååŠ ä¸Šé”™è¯¯æ•è·ï¼ˆå¦‚ä¸Šè¿°è„šæœ¬ä¸­ç”¨$?åˆ¤æ–­ï¼‰ï¼Œå‡ºé”™æ—¶è®°å½•æ—¥å¿—è€Œä¸ä¸­æ–­æ•´ä¸ªæ‰¹å¤„ç†ã€‚</li>
<li>SCPä¸­æ–­ï¼š åœ¨ç¬¬ä¸€æ¬¡å°è¯•ä¼ è¾“æ—¶ï¼Œç”±äºç½‘ç»œæ³¢åŠ¨å¯¼è‡´scpä¸­é€”ä¸­æ–­ï¼Œéœ€é‡æ–°ä¼ è¾“æ•´ä¸ªå‹ç¼©åŒ…ã€‚æ­£å¦‚å‰æ–‡æ‰€è¿°ï¼Œscpæ— æ³•æ–­ç‚¹ç»­ä¼  ï¼Œè¿™ç§æƒ…å†µä¸‹åªèƒ½é‡æ–°å¼€å§‹æˆ–æ¢ç”¨å…¶ä»–å·¥å…·ã€‚è§£å†³æ–¹æ¡ˆï¼š æ”¹ç”¨rsyncæ›¿ä»£scpæ¥ä¼ è¾“å¤§æ–‡ä»¶ ã€‚rsyncæ”¯æŒæ–­ç‚¹ç»­ä¼ å’Œæ ¡éªŒï¼Œåœ¨ç½‘ç»œä¸ç¨³å®šæƒ…å†µä¸‹æ›´å¯é ã€‚æˆ‘ä»¬å®é™…é‡‡ç”¨rsyncé‡æ–°ä¼ è¾“ï¼Œé¡ºåˆ©å®Œæˆäº†å¤§æ–‡ä»¶çš„ç»­ä¼ ã€‚</li>
<li>ä¸Šä¼ è¶…æ—¶ï¼š æ‰¹é‡ä¸Šä¼ è¿‡ç¨‹ä¸­ï¼ŒæŸäº›æ–‡ä»¶ç”±äºç½‘ç»œåŸå› ä¸Šä¼ è€—æ—¶è¿‡é•¿ç”šè‡³è¶…æ—¶å¤±è´¥ã€‚è§£å†³æ–¹æ¡ˆï¼š åœ¨Javaä¸Šä¼ å·¥å…·ä¸­å®ç°é‡è¯•æœºåˆ¶ï¼Œä¾‹å¦‚å¯¹å¤±è´¥çš„ä¸Šä¼ é‡è¯•2-3æ¬¡ã€‚å¦‚æœä»å¤±è´¥åˆ™è·³è¿‡å¹¶åœ¨æœ€åæ±‡æ€»å¤±è´¥æ–‡ä»¶åå•ã€‚è¿™äº›å¤±è´¥æ–‡ä»¶ç¨åå¯é‡æ–°è¿è¡Œå·¥å…·ä¸“é—¨ä¸Šä¼ ï¼Œæˆ–äººå·¥æ£€æŸ¥ç½‘ç»œç¯å¢ƒåå†å¤„ç†ã€‚</li>
<li>SQLå¯¼å…¥é—®é¢˜ï¼š åœ¨å°†ç”Ÿæˆçš„SQLæ–‡ä»¶å¯¼å…¥æ•°æ®åº“æ—¶ï¼Œå‘ç°ä¸ªåˆ«è®°å½•æ’å…¥å¤±è´¥ã€‚æ£€æŸ¥å‘ç°æ˜¯ç”±äºå°‘æ•°å­—æ®µå†…å®¹è¶…é•¿æˆ–æ ¼å¼ä¸ç¬¦æ•°æ®åº“çº¦æŸï¼ˆæ¯”å¦‚è¯ç…§ç±»å‹å­—æ®µé•¿åº¦ä¸å¤Ÿï¼‰ã€‚è§£å†³æ–¹æ¡ˆï¼š æå‰åœ¨ç”ŸæˆSQLé˜¶æ®µæ ¡éªŒå­—æ®µé•¿åº¦æˆ–å†…å®¹åˆæ³•æ€§ï¼Œæˆ–è€…åœ¨æ•°æ®åº“æ’å…¥å‰å¯¹SQLè„šæœ¬åšä¸€æ¬¡å®¡æŸ¥æ¸…ç†ã€‚å¦å¤–ï¼Œè¶…å¤§SQLè„šæœ¬æ‰§è¡Œå¯èƒ½æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥è€ƒè™‘æ‹†åˆ†ä¸ºå¤šæ®µæ‰§è¡Œæˆ–ä½¿ç”¨æ•°æ®åº“æ‰¹é‡å¯¼å…¥å·¥å…·ã€‚</li>
</ul>
<h2>ä¼˜åŒ–æ€è€ƒ</h2>
<p>è™½ç„¶æ­¤æ¬¡æ‰¹å¤„ç†ä»»åŠ¡é¡ºåˆ©å®Œæˆï¼Œä½†å›é¡¾æ•´ä¸ªæµç¨‹ï¼Œä»æœ‰ä¸€äº›å¯ä»¥ä¼˜åŒ–æ”¹è¿›çš„åœ°æ–¹ï¼š</p>
<ul>
<li>æé«˜å›¾ç‰‡å¤„ç†å¹¶å‘åº¦ï¼š å½“å‰Shellè„šæœ¬æŒ‰é¡ºåºé€å¼ å¤„ç†å›¾ç‰‡ï¼Œåœ¨å›¾ç‰‡æ•°é‡éå¸¸å¤šæ—¶æ•ˆç‡ä¸é«˜ã€‚å¯ä»¥è€ƒè™‘åˆ©ç”¨GNU Parallelæˆ–Shellçš„åå°æ‰§è¡Œ (&amp;) å®ç°å¤šçº¿ç¨‹å¹¶å‘å¤„ç†ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸CPUã€‚åŒæ—¶ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨æ›´é«˜æ•ˆçš„å›¾åƒå¤„ç†åº“æˆ–å‘½ä»¤å‚æ•°ï¼ˆå¦‚ImageMagickçš„mogrifyç›´æ¥æ‰¹é‡å¤„ç†ç›®å½•ï¼‰ã€‚</li>
<li>ä½¿ç”¨æ›´é«˜çº§è¯­è¨€ç»Ÿç­¹ï¼š  Shellè„šæœ¬è™½ç„¶æ–¹ä¾¿ï¼Œä½†åœ¨å¤æ‚æµç¨‹å’Œé”™è¯¯å¤„ç†ä¸Šæœ‰å±€é™ã€‚å¯ä»¥ä½¿ç”¨Pythonè„šæœ¬æ›¿ä»£ï¼Œå°†åŠ æ°´å°ã€ä¸Šä¼ å’ŒSQLç”Ÿæˆæ•´åˆåˆ°ä¸€ä¸ªè„šæœ¬ä¸­ã€‚Pythonçš„Pillowåº“å¯ä»¥æ–¹ä¾¿åœ°æ·»åŠ æ°´å°ï¼Œç»“åˆè¯·æ±‚åº“è°ƒç”¨å¯¹è±¡å­˜å‚¨APIï¼Œä¸€ç«™å¼å®Œæˆæ‰€æœ‰æ­¥éª¤ã€‚æ­¤å¤–ï¼ŒPythonæ›´æ˜“å®ç°ç»†ç²’åº¦çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•ã€‚</li>
<li>æ—¥å¿—å’Œç›‘æ§ï¼š ä¸ºäº†æ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼Œå»ºè®®ä¸ºæ‰¹å¤„ç†è¿‡ç¨‹å¢åŠ è¯¦ç»†æ—¥å¿—è®°å½•ã€‚å¯ä»¥å°†Shellè„šæœ¬çš„è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶ï¼ŒJavaå·¥å…·ä¹Ÿè®°å½•æ¯ä¸ªæ–‡ä»¶çš„ä¸Šä¼ ç»“æœã€‚è‹¥æœ‰æ¡ä»¶ï¼Œè¿˜å¯ä»¥åŠ å…¥ç®€å•çš„è¿›åº¦ç›‘æ§ï¼ˆä¾‹å¦‚æ¯å¤„ç†100å¼ è¾“å‡ºæç¤ºï¼‰æˆ–é‚®ä»¶é€šçŸ¥ï¼Œæ–¹ä¾¿åŠæ—¶äº†è§£æ‰¹å¤„ç†è¿›å±•ã€‚</li>
<li>è¿›ä¸€æ­¥è‡ªåŠ¨åŒ–å’Œå®¹é”™ï¼š å¯ä»¥è®¾è®¡æ•´ä¸ªæµç¨‹çš„ä¸€é”®è„šæœ¬æˆ–å·¥ä½œæµï¼Œå‡å°‘äººå·¥ä»‹å…¥ã€‚ä¾‹å¦‚ç¼–å†™ä¸€ä¸ªä¸»è„šæœ¬ä¾æ¬¡è°ƒç”¨å„æ­¥éª¤ï¼Œå¹¶åœ¨å‡ºç°é”™è¯¯æ—¶è‡ªåŠ¨å°è¯•é‡è¯•æˆ–å›æ»šã€‚åŒæ—¶è€ƒè™‘æç«¯æƒ…å†µä¸‹çš„å®¹é”™ï¼Œä¾‹å¦‚æŸæ­¥éª¤å¤šæ¬¡å¤±è´¥åˆ™è·³è¿‡å¹¶æ ‡è®°å¤„ç†ç»“æœï¼Œä»¥å…æ•´æ‰¹ä»»åŠ¡å¡æ­»åœ¨ä¸ªåˆ«æ–‡ä»¶ä¸Šã€‚</li>
<li>æ€§èƒ½ä¸èµ„æºåˆ©ç”¨ï¼š å¦‚æœå›¾ç‰‡æ€»é‡å·¨å¤§ï¼Œéœ€è¦è€ƒè™‘æ‰¹å¤„ç†å¯¹ç³»ç»ŸIOå’Œå†…å­˜çš„å½±å“ã€‚å¯ä»¥åœ¨éä¸šåŠ¡é«˜å³°æ—¶æ®µæ‰§è¡Œï¼Œæˆ–è€…åˆ†æ‰¹å¤šæ¬¡æ‰§è¡Œä»¥é™ä½å•æ¬¡å‹åŠ›ã€‚å¦å¤–ï¼Œå¯¹è±¡å­˜å‚¨çš„ä¸Šä¼ ä¹Ÿå¯ä»¥è€ƒè™‘å¯ç”¨å¹¶å‘æˆ–åˆ†ç‰‡ä¸Šä¼ æé«˜é€Ÿåº¦ã€‚</li>
</ul>
<h2>ç»éªŒæ€»ç»“</h2>
<p>é€šè¿‡è¿™æ¬¡è¯ç…§å›¾ç‰‡æ‰¹é‡å¤„ç†çš„å®è·µï¼Œæˆ‘ä»¬æ€»ç»“å‡ºäº†ä¸€äº›é€šç”¨çš„ç»éªŒæ•™è®­ï¼š</p>
<ul>
<li>æ‰¹é‡ä»»åŠ¡åšå¥½å¤±è´¥å›æ»šè®¾è®¡ï¼š åœ¨å¤§æ‰¹é‡ä»»åŠ¡ä¸­ï¼ŒåŠ¡å¿…è€ƒè™‘ä¸­é€”å¤±è´¥çš„æƒ…å†µï¼Œè®¾è®¡å¯ä»¥é‡å¯ç»­ä½œæˆ–å›æ»šçš„æœºåˆ¶ã€‚ä¾‹å¦‚è®°å½•å·²å¤„ç†é¡¹ï¼Œä½¿å¾—è„šæœ¬å†æ¬¡è¿è¡Œæ—¶èƒ½è·³è¿‡å·²å®Œæˆéƒ¨åˆ†ï¼Œæˆ–è€…åœ¨æ•°æ®åº“æ“ä½œå‰åå®ç°äº‹åŠ¡æˆ–æ£€æŸ¥ï¼Œé¿å…éƒ¨åˆ†æˆåŠŸéƒ¨åˆ†å¤±è´¥é€ æˆæ•°æ®ä¸ä¸€è‡´ã€‚</li>
<li>å°è§„æ¨¡æµ‹è¯•å…ˆè¡Œï¼š åœ¨å¯¹æµ·é‡æ•°æ®è¿›è¡Œæ‰¹å¤„ç†ä¹‹å‰ï¼Œå…ˆæ‹¿ä¸€å°éƒ¨åˆ†æ•°æ®è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ã€‚é€šè¿‡é¢„æ¼”æµç¨‹å¯ä»¥åŠæ—¶å‘ç°è„šæœ¬é”™è¯¯ã€å‚æ•°ä¸å½“æˆ–ç¯å¢ƒé…ç½®é—®é¢˜ï¼Œé¿å…å¤§è§„æ¨¡è¿è¡Œæ—¶æ‰æš´éœ²è‡´å‘½é—®é¢˜ã€‚</li>
<li>è‡ªåŠ¨åŒ–ä¼˜äºæ‰‹å·¥ï¼š èƒ½ç”¨è„šæœ¬è§£å†³çš„å°½é‡ç”¨è„šæœ¬ï¼Œå®ç°ä¸€æ¬¡è°ƒè¯•ï¼Œå¤šæ¬¡è¿è¡Œã€‚æ‰¹å¤„ç†è„šæœ¬åº”å°½é‡é€šç”¨å’Œå¯å¤ç”¨ï¼ŒåŒæ—¶å¢åŠ å¿…è¦çš„æ—¥å¿—è¾“å‡ºï¼Œæ–¹ä¾¿åœ¨æ— äººå€¼å®ˆæ‰§è¡Œæ—¶ä¹Ÿèƒ½äº‹åè¿½æº¯è¿‡ç¨‹ã€‚</li>
<li>å…³æ³¨æ•°æ®å’Œå®‰å…¨ï¼š å¤„ç†æ¶‰åŠè¯ç…§ç­‰é‡è¦æ–‡ä»¶æ—¶ï¼Œè¦æ³¨æ„æ–‡ä»¶æƒé™å’Œä¼ è¾“å®‰å…¨ã€‚é‡‡ç”¨scp/rsyncç­‰é€šè¿‡SSHçš„æ–¹å¼ä¼ è¾“ä¿è¯äº†å®‰å…¨æ€§ï¼Œä¸Šçº¿å‰ä¹Ÿéœ€ç¡®ä¿å¯¹è±¡å­˜å‚¨çš„è®¿é—®æƒé™æ­£ç¡®é…ç½®ï¼Œé¿å…æ•æ„Ÿå›¾ç‰‡æ³„éœ²ã€‚æ­¤å¤–ï¼ŒåŠ æ°´å°æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§ä¿æŠ¤æ‰‹æ®µï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢æœªæˆæƒçš„æ–‡ä»¶ä½¿ç”¨ã€‚</li>
<li>è·¨å›¢é˜Ÿåä½œï¼š è¿™ç±»æ‰¹é‡å¤„ç†å¾€å¾€æ¶‰åŠè¿ç»´ã€å¼€å‘ç­‰å¤šä¸ªå›¢é˜Ÿé…åˆã€‚ä¾‹å¦‚éƒ¨ç½²ç¯å¢ƒã€ä¸Šä¼ æƒé™ã€æ•°æ®åº“å­—æ®µå®šä¹‰ç­‰éƒ½éœ€è¦æ²Ÿé€šç¡®è®¤ã€‚åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå¤šå’Œç›¸å…³äººå‘˜ç¡®è®¤ç»†èŠ‚ï¼ˆå¦‚å­˜å‚¨è·¯å¾„ã€å‘½åè§„èŒƒã€æ•°æ®æ ¼å¼ï¼‰ï¼Œå¯ä»¥é¿å…è¿”å·¥ã€‚</li>
</ul>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤å’Œç»éªŒï¼Œè¿™æ¬¡æ‰¹é‡å¤„ç†ä»»åŠ¡æœ€ç»ˆåœ†æ»¡å®Œæˆï¼šæ‰€æœ‰é—¨åº—è¯ç…§å›¾ç‰‡éƒ½æˆåŠŸæ·»åŠ äº†æ°´å°å¹¶ä¸Šä¼ è‡³å¯¹è±¡å­˜å‚¨ï¼Œæ•°æ®åº“ä¹Ÿæ­£ç¡®è®°å½•äº†æ¯å¼ å›¾ç‰‡çš„ä½ç½®ç´¢å¼•ã€‚è¿™æ¬¡å®æˆ˜ä¸ä»…è¾¾æˆäº†ç›®æ ‡ï¼Œä¹Ÿä¸ºæ—¥åå¤„ç†ç±»ä¼¼æ‰¹é‡ä»»åŠ¡ç§¯ç´¯äº†å®è´µç»éªŒã€‚</p>

    </article>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
<script>
Prism.highlightAll();
document.querySelectorAll('article pre').forEach(pre => {
    const code = pre.querySelector('code');
    if (!code) return;
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.onclick = () => {
        navigator.clipboard.writeText(code.textContent).then(() => {
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    };
    toolbar.appendChild(btn);
    pre.parentNode.insertBefore(toolbar, pre);
});
</script>
</body>
</html>