<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»ä¼ ç»Ÿå›¾åƒå¤„ç†åˆ°æ·±åº¦å­¦ä¹ ï¼šè½¦ç‰Œè¯†åˆ«ç³»ç»Ÿæ¼”è¿›å®è·µ | Yuxu Ge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --black: #111;
            --dark-grey: #444;
            --off-white: #f4f4f4;
            --vermilion: #C41E3A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--black);
            background-color: var(--off-white);
        }

        a {
            color: var(--vermilion);
            text-decoration: none;
        }

        a:hover {
            opacity: 0.75;
        }

        .layout {
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 320px;
            height: 100vh;
            background: var(--black);
            color: var(--off-white);
            padding: 3rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .avatar {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--vermilion);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .avatar:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .name-block {
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--off-white);
        }

        .title-role {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.25rem;
            font-weight: 400;
        }

        .contact-block {
            margin-top: 2.5rem;
            width: 100%;
        }

        .social-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 160px;
            color: var(--off-white);
            opacity: 0.7;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .social-links a:hover {
            color: var(--vermilion);
            opacity: 1;
            background: rgba(255, 255, 255, 0.05);
        }

        .social-links svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .social-links .orcid-link {
            font-size: 0.68rem;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .sidebar-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #555;
        }

        /* Content */
        .content {
            margin-left: 320px;
            padding: 3rem 4rem;
            max-width: calc(100vw - 320px - 8rem);
        }

        .back-link {
            display: inline-block;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            color: var(--dark-grey);
        }

        .back-link:hover {
            color: var(--vermilion);
        }

        /* Article */
        article h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            color: var(--black);
        }

        article h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--black);
        }

        article h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--black);
        }

        article p {
            margin-bottom: 1rem;
            color: var(--dark-grey);
        }

        article ul,
        article ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--dark-grey);
        }

        article li {
            margin-bottom: 0.5rem;
        }

        article strong {
            color: var(--black);
        }

        article code {
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            background: #e8e8e8;
            padding: 0.15em 0.4em;
            border-radius: 3px;
        }

        article pre {
            margin: 1rem 0;
            border-radius: 6px;
            overflow-x: auto;
            background: #2d2d2d;
            padding: 1rem;
        }

        article pre code {
            background: none;
            padding: 0;
            font-size: 0.75em;
            white-space: pre !important;
            counter-reset: line;
            display: block;
            color: #ccc;
        }

        article pre code .line {
            counter-increment: line;
        }

        article pre code .line::before {
            content: counter(line);
            display: inline-block;
            width: 2.5em;
            margin-right: 1em;
            text-align: right;
            color: #666;
            user-select: none;
        }

        .code-toolbar {
            display: flex;
            justify-content: flex-start;
            padding: 0.35rem 0.5rem;
            background: #3a3a3a;
            border-radius: 6px 6px 0 0;
        }

        .code-toolbar+pre {
            margin-top: 0;
            border-radius: 0 0 6px 6px;
        }

        .copy-btn {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
            background: #555;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover,
        .copy-btn:active {
            background: #777;
        }

        .copy-btn.copied {
            background: #2a2;
        }

        article blockquote {
            border-left: 3px solid var(--vermilion);
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            font-style: italic;
        }

        article hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 2rem 0;
        }

        article table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        article th,
        article td {
            border: 1px solid #ddd;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        article th {
            background: #e8e8e8;
            font-weight: 600;
        }

        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem 0;
            border-radius: 6px;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .error {
            color: var(--vermilion);
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .lang-selector-label {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .lang-selector-label svg {
            width: 16px;
            height: 16px;
        }

        .lang-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            min-width: 140px;
        }

        .lang-select:focus {
            outline: none;
            border-color: var(--vermilion);
        }

        .lang-status {
            font-size: 0.8rem;
            color: #888;
            margin-left: auto;
        }

        .lang-status.translating {
            color: var(--vermilion);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-status.translating::before {
            content: '';
            width: 14px;
            height: 14px;
            border: 2px solid #f0f0f0;
            border-top-color: var(--vermilion);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .lang-status.cached {
            color: #4CAF50;
        }

        .lang-original-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .lang-original-btn:hover {
            background: #e0e0e0;
            color: #333;
        }

        @media (max-width: 600px) {
            .lang-selector {
                flex-wrap: wrap;
            }
            .lang-status {
                width: 100%;
                margin-left: 0;
                margin-top: 0.5rem;
            }
        }

        /* KaTeX math styles */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Jupyter Notebook Styles */
        .notebook-container {
            margin-top: 1rem;
        }

        .notebook-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .notebook-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .notebook-download svg {
            width: 16px;
            height: 16px;
        }

        .nb-cell {
            margin-bottom: 1.5rem;
        }

        .nb-cell-code .nb-source {
            background: #2d2d2d;
            border-radius: 6px;
            overflow-x: auto;
        }

        .nb-cell-code .nb-source pre {
            margin: 0;
            padding: 1rem;
            color: #ccc;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
        }

        .nb-cell-code .nb-source code {
            background: none;
            padding: 0;
        }

        .nb-output {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 0.5rem;
        }

        .nb-output pre {
            margin: 0;
            padding: 0;
            background: transparent;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
            color: #222;
        }

        .nb-output img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0.5rem 0;
        }

        .nb-output table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .nb-output th,
        .nb-output td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }

        .nb-output th {
            background: #e8e8e8;
            font-weight: 600;
        }

        .nb-cell-markdown {
            padding: 0;
        }

        .nb-cell-markdown h1:first-child {
            margin-top: 0;
        }

        /* Document Download Button */
        .doc-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .doc-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .doc-download svg {
            width: 16px;
            height: 16px;
        }

        /* PDF Viewer */
        .pdf-container {
            margin-top: 1rem;
        }

        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* Text File Display */
        .text-container {
            margin-top: 1rem;
        }

        .text-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 1.5rem;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--dark-grey);
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Word Document Display */
        .word-container {
            margin-top: 1rem;
        }

        .word-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 2rem;
            line-height: 1.8;
            color: var(--dark-grey);
        }

        .word-content p {
            margin-bottom: 1rem;
        }

        .word-content h1,
        .word-content h2,
        .word-content h3 {
            color: var(--black);
            margin: 1.5rem 0 1rem;
        }

        .word-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .word-content th,
        .word-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
        }

        .word-content img {
            max-width: 100%;
            height: auto;
        }

        /* Excel Display */
        .excel-container {
            margin-top: 1rem;
        }

        .excel-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .excel-tab {
            padding: 0.5rem 1rem;
            background: #e8e8e8;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .excel-tab.active {
            background: #4CAF50;
            color: white;
        }

        .excel-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
        }

        .excel-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .excel-content th,
        .excel-content td {
            border: 1px solid #ddd;
            padding: 0.4rem 0.6rem;
            text-align: left;
            white-space: nowrap;
        }

        .excel-content th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .excel-content tr:nth-child(even) {
            background: #fafafa;
        }

        /* PowerPoint Display */
        .ppt-container {
            margin-top: 1rem;
        }

        .ppt-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* CSV Display (uses excel styles) */
        .csv-container {
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 2rem 1.5rem 1rem;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .social-links a,
            .social-links .orcid-link {
                width: auto;
                padding: 0.5rem;
                font-size: 0;
                gap: 0;
            }

            .social-links svg {
                width: 24px;
                height: 24px;
            }

            .social-links .hide-mobile {
                display: none;
            }

            .sidebar-footer {
                margin-top: 1rem;
            }

            .content {
                margin-left: 0;
                padding: 2rem 1rem;
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                padding: 1.5rem 1rem 1rem;
            }

            .avatar {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 1.4rem;
            }

            article h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>

    <div class="layout">
        <aside class="sidebar" id="sidebar-content"></aside>
        <script src="/components/sidebar.js?v=20260128"></script>

        <main class="content">
            <a href="/blog/" class="back-link">â† Back to Blog</a>

            <!-- Language Selector -->
            <div class="lang-selector" id="lang-selector" style="display: none;">
                <span class="lang-selector-label">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                    Language
                </span>
                <select class="lang-select" id="lang-select">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
                <button class="lang-original-btn" id="lang-original-btn" style="display: none;">Show Original</button>
                <span class="lang-status" id="lang-status"></span>
            </div>

            <article>
<hr>
<h2>date: 2025-04-01
tags: [ai]
legacy: true</h2>
<h1>ä»ä¼ ç»Ÿå›¾åƒå¤„ç†åˆ°æ·±åº¦å­¦ä¹ ï¼šè½¦ç‰Œè¯†åˆ«ç³»ç»Ÿæ¼”è¿›å®è·µ</h1>
<p><strong>2. åˆç‰ˆæ–¹æ¡ˆï¼šä¼ ç»Ÿå›¾åƒå¤„ç†è·¯çº¿</strong></p>
<p>æˆ‘ä»¬æœ€æ—©çš„ä¸€ç‰ˆç³»ç»Ÿï¼Œå…¶å®æ²¡æœ‰ç”¨ä»»ä½•æ·±åº¦å­¦ä¹ ï¼Œå°±æ˜¯é å›¾åƒå¤„ç†+é€»è¾‘åˆ¤æ–­â€œç¡¬æ’¸â€å‡ºæ¥çš„ã€‚è™½ç„¶ç²¾åº¦ä¸é«˜ï¼Œä½†åŸå‹å¾ˆå¿«å°±èƒ½è·‘èµ·æ¥ã€‚</p>
<p><strong>2.1 æ»‘çª— + OpenCV åšè½¦ç‰ŒåŒºåŸŸæ£€æµ‹</strong></p>
<p>æˆ‘ä»¬ç”¨ OpenCV æŠŠå›¾åƒå…ˆåšä¸€æ³¢é¢„å¤„ç†ï¼Œä¸»è¦æµç¨‹æ˜¯ç°åº¦åŒ– â†’ é«˜æ–¯æ»¤æ³¢ â†’ Canny è¾¹ç¼˜æ£€æµ‹ï¼Œç„¶åå°±å¼€å§‹æ»‘çª—éå†æ•´å¼ å›¾ï¼Œå»æ‰¾é‚£äº›é•¿å®½æ¯”åƒè½¦ç‰Œçš„çŸ©å½¢åŒºåŸŸã€‚</p>
<p>ä¸ºäº†è¿‡æ»¤æ‰å™ªå£°ï¼Œæˆ‘ä»¬è¿˜åŠ äº†ä¸€äº›é¢œè‰²å’Œå½¢çŠ¶ä¸Šçš„åˆ¤æ–­ï¼Œæ¯”å¦‚å¸¸è§çš„è“åº•ç™½å­—è½¦ç‰Œï¼Œåœ¨ HSV è‰²å½©ç©ºé—´é‡Œå¾ˆå®¹æ˜“å°±èƒ½åˆ†å‡ºæ¥ã€‚é è¿™äº›è§„åˆ™ï¼ŒåŸºæœ¬èƒ½æŠŠè½¦ç‰Œä½ç½®æ¡†å‡ºæ¥ï¼Œè™½ç„¶å¶å°”ä¹Ÿä¼šè¯¯æ¡†ä¸€äº›å¹¿å‘Šç‰Œæˆ–è€…åè½¦ç¯ã€‚</p>
<p><strong>2.2 å­—ç¬¦åˆ†å‰² + æ¨¡æ¿åŒ¹é…åšè¯†åˆ«</strong></p>
<p>æ¡†å‡ºæ¥ä¹‹åï¼Œæˆ‘ä»¬ç”¨å›¾åƒåˆ‡å‰²æŠŠè½¦ç‰Œå­—ç¬¦ä¸€ä¸ªä¸ªåˆ†å‡ºæ¥ï¼Œç„¶ååšæ¨¡æ¿åŒ¹é…ã€‚ç®€å•è¯´å°±æ˜¯å’Œä¸€å †å·²æœ‰çš„å­—æ¯ã€æ•°å­—å›¾ç‰‡åšå¯¹æ¯”ï¼Œçœ‹å“ªä¸ªæœ€åƒï¼Œå°±è®¤æˆå“ªä¸ªã€‚</p>
<p>è¯´å®è¯ï¼Œè¿™ä¸€æ­¥å°±æ˜¯çº¯é åƒç´ æ¯”å¯¹ï¼Œæ ·å¼ç¨å¾®å˜ä¸€ç‚¹å®ƒå°±è®¤ä¸å‡ºæ¥äº†ã€‚æ¯”å¦‚å­—ä½“ç²—ç»†å˜äº†ã€å­—æ­ªäº†ã€èƒŒæ™¯æœ‰ç‚¹åå…‰ï¼Œå…¨éƒ½å®¹æ˜“è¯†é”™ã€‚</p>
<p><strong>2.3 å®é™…é‡åˆ°çš„é—®é¢˜</strong></p>
<p>æˆ‘ä»¬å†…éƒ¨æµ‹è¯•çš„æ—¶å€™è§‰å¾—è¿˜å‡‘åˆï¼Œä½†çœŸä¸Šçº¿äº†å°±å¼€å§‹æ‰é“¾å­â€”â€”</p>
<p>â€¢ ä¸‹é›¨å¤©è½¦ç‰Œæœ‰æ°´æ¸ï¼Œè¯†åˆ«ç‡æš´è·Œï¼›</p>
<p>â€¢ æ™šä¸Šå…‰çº¿æš—ï¼Œè¾¹ç¼˜æä¸å‡ºæ¥ï¼›</p>
<p>â€¢ æœ‰äº›è½¦æ­ªç€è¿›åœºï¼Œè§’åº¦ä¸€åå­—ç¬¦å°±åˆ†ä¸å‡†äº†ï¼›</p>
<p>â€¢ æ¨¡æ¿åŒ¹é…å¯¹å­—å½¢å¤ªæ•æ„Ÿï¼Œæ–°ç‰ˆæ–°èƒ½æºè½¦ç‰ŒåŸºæœ¬è¯†åˆ«å¤±è´¥ã€‚</p>
<p>è¿˜æœ‰ä¸ªè‡´å‘½é—®é¢˜æ˜¯é€Ÿåº¦å¤ªæ…¢äº†ã€‚æ»‘çª—å¤„ç†ä¸€æ•´å¼ å›¾è€—æ—¶å¾ˆä¹…ï¼Œå°¤å…¶åˆ†è¾¨ç‡ä¸€é«˜ï¼ŒCPU æ ¹æœ¬è·‘ä¸è¿‡æ¥ã€‚é‚£æ—¶å€™æˆ‘ä»¬å°±çŸ¥é“ï¼Œå†ä¼˜åŒ–ä¹Ÿæœ‰é™ï¼Œå¾—æ¢æ€è·¯äº†â€”â€”è€ƒè™‘ä¸Šæ·±åº¦å­¦ä¹ ã€‚</p>
<p><strong>3. å‡çº§é˜¶æ®µä¸€ï¼šå¼•å…¥ CTPN åšå­—ç¬¦åŒºåŸŸæ£€æµ‹</strong></p>
<p>ä¼ ç»Ÿæ–¹æ³•åœ¨å®šä½è½¦ç‰ŒåŒºåŸŸè¿™ä¸€æ­¥å·²ç»åƒåŠ›äº†ï¼Œä½†æ›´éº»çƒ¦çš„å…¶å®æ˜¯<strong>å­—ç¬¦åˆ‡å‰²</strong>ã€‚ä¸€æ—¦è½¦ç‰Œæœ‰ç‚¹æ­ªï¼Œæˆ–è€…å­—ç¬¦ä¹‹é—´é—´è·ä¸ä¸€è‡´ï¼Œä¼ ç»Ÿçš„æŒ‰åˆ—æŠ•å½±æ³•åŸºæœ¬å°±æŒ‚äº†ã€‚æˆ‘ä»¬å›¢é˜Ÿé‚£æ—¶å€™å‡ ä¹ä¸€åŠæ—¶é—´éƒ½èŠ±åœ¨è°ƒå­—ç¬¦åˆ†å‰²ä¸Šï¼Œæ€ä¹ˆè°ƒéƒ½ä¸ç¨³å®šã€‚</p>
<p>æ‰€ä»¥åæ¥æˆ‘ä»¬å†³å®šç›´æ¥ä¸Šæ·±åº¦å­¦ä¹ ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯æ¢æ‰å­—ç¬¦å®šä½çš„éƒ¨åˆ†ï¼Œç”¨ä¸€ä¸ªæ›´é²æ£’çš„æ£€æµ‹æ¨¡å‹ï¼š<strong>CTPNï¼ˆConnectionist Text Proposal Networkï¼‰</strong>ã€‚</p>
<p><strong>3.1 ä¸ºä»€ä¹ˆé€‰ CTPNï¼Ÿ</strong></p>
<p>é‚£æ—¶å€™è¿˜æ²¡æœ‰åƒç°åœ¨è¿™ä¹ˆå¤šè½»é‡çº§çš„ OCR æ¨¡å‹ã€‚CTPN è™½ç„¶ä¸æ˜¯æœ€æ–°çš„ï¼Œä½†å®ƒæ˜¯ä¸“é—¨åš<strong>è‡ªç„¶åœºæ™¯ä¸­çš„æ–‡æœ¬æ£€æµ‹</strong>çš„ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†é‚£äº›è§’åº¦ç¨æ­ªã€èƒŒæ™¯æœ‰å¹²æ‰°çš„æ–‡å­—åŒºåŸŸã€‚è€Œä¸”å®ƒçš„åŸç†æ¯”è¾ƒæœ‰æ„æ€ï¼šä¸æ˜¯æŠŠæ•´è¡Œå­—ç¬¦å½“æˆä¸€ä¸ªæ¡†ï¼Œè€Œæ˜¯æŠŠå­—ç¬¦è¡Œâ€œåˆ‡â€æˆä¸€æ®µæ®µçš„å° proposalï¼Œç„¶åå†æŠŠå®ƒä»¬ä¸²èµ·æ¥ï¼Œæœ€ç»ˆæ¡†å‡ºæ•´æ®µæ–‡æœ¬ã€‚</p>
<p>è¿™ç§â€œæ¨ªå‘è¿é€šâ€çš„æ€æƒ³ï¼Œæ°å¥½é€‚åˆè½¦ç‰Œè¿™ç§ä¸€è¡Œæ’å¼€çš„å­—ç¬¦ã€‚</p>
<p><strong>3.2 æ¨¡å‹ä½¿ç”¨æµç¨‹</strong></p>
<p>æˆ‘ä»¬å½“æ—¶å¤ç”¨äº†åˆ«äººå¼€æºçš„ CTPN TensorFlow å®ç°ï¼Œæ‹¿è¿‡æ¥ä»¥åå…ˆåœ¨å…¬å¼€æ•°æ®é›†ä¸ŠéªŒè¯èƒ½è·‘èµ·æ¥ï¼Œå†ç”¨æˆ‘ä»¬è‡ªå·±é‡‡é›†çš„è½¦ç‰Œå›¾åƒè¿›è¡Œ finetuneï¼ˆå¾®è°ƒï¼‰ã€‚</p>
<p>è®­ç»ƒè¿‡ç¨‹å€’æ²¡å¤ªå¤šå‘ï¼Œå°±æ˜¯æ•°æ®æ ‡æ³¨æœ‰ç‚¹è´¹åŠ²â€”â€”æ¯å¼ å›¾éƒ½è¦æ ‡å‡ºå­—ç¬¦åŒºåŸŸçš„å°æ¡†ï¼Œåæ¥æˆ‘ä»¬å†™äº†ä¸ªåŠè‡ªåŠ¨å·¥å…·ï¼Œå…ˆç”¨ä¼ ç»Ÿè¾¹ç¼˜æ£€æµ‹é¢„é€‰ï¼Œå†äººå·¥å¾®è°ƒï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡ã€‚</p>
<p>è®­ç»ƒå¥½ä¹‹åæ¨¡å‹æ•ˆæœç«‹ç«¿è§å½±ï¼š</p>
<p>â€¢ å“ªæ€•è½¦ç‰Œè½»å¾®å€¾æ–œï¼Œä¹Ÿèƒ½æ­£ç¡®æ¡†å‡ºæ•´è¡Œå­—ç¬¦ï¼›</p>
<p>â€¢ é‡åˆ°é®æŒ¡æˆ–è€…å±€éƒ¨æ¨¡ç³Šçš„è½¦ç‰Œï¼Œä¹Ÿèƒ½ä¿è¯å­—ç¬¦åŒºåŸŸå°½é‡å®Œæ•´ï¼›</p>
<p>â€¢ æœ€å…³é”®çš„æ˜¯ï¼Œå­—ç¬¦è¡Œå‡ºæ¥äº†ä¹‹åå°±<strong>ä¸ç”¨å†æ‰‹åŠ¨åˆ†å‰²å­—ç¬¦</strong>äº†ï¼</p>
<p>è¿™å¯¹æˆ‘ä»¬åé¢çš„å­—ç¬¦è¯†åˆ«ç¯èŠ‚ç®€ç›´æ˜¯è´¨çš„é£è·ƒã€‚</p>
<p><strong>3.3 æ€§èƒ½è¡¨ç°</strong></p>
<p>CTPN æœ¬èº«ä¸ç®—è½»é‡ï¼Œå°¤å…¶æ˜¯åœ¨å½“å¹´çš„è®¾å¤‡ç¯å¢ƒä¸‹ï¼ˆä¸»è¦æ˜¯è¾¹ç¼˜ä¾§éƒ¨ç½²ï¼‰ï¼Œæˆ‘ä»¬åšäº†ä»¥ä¸‹å‡ æ­¥æ¥ä¼˜åŒ–ï¼š</p>
<p>â€¢ è£å‰ªè¾“å…¥å›¾åƒï¼Œåªå¯¹è½¦ç‰ŒåŒºåŸŸé™„è¿‘åšæ£€æµ‹ï¼ˆå‰é¢ç”¨ä¼ ç»Ÿæ–¹å¼åšä¸€æ¬¡ç²—å®šä½ï¼‰ï¼›</p>
<p>â€¢ å‡å°æ¨¡å‹è¾“å…¥å°ºå¯¸ï¼Œæ¢æˆæ›´å°çš„ anchor å°ºå¯¸ï¼›</p>
<p>â€¢ æ¨¡å‹é‡åŒ– + TensorRT ä¼˜åŒ–ä¸€æ³¢ï¼ˆè¿™ä¸ªåæ¥æ‰åšï¼Œæ•ˆæœä¸é”™ï¼‰ï¼›</p>
<p>ä¼˜åŒ–ä¹‹åï¼ŒCTPN æ¨¡å—çš„å¹³å‡è€—æ—¶æ§åˆ¶åœ¨ 300~500ms å·¦å³ï¼Œç²¾åº¦ä¹Ÿè¿œæ¯”ä¼ ç»Ÿæ–¹å¼é«˜ä¸å°‘ã€‚</p>
<p><strong>4. å‡çº§é˜¶æ®µäºŒï¼šCRNN + CTC å­—ç¬¦è¯†åˆ«æ–¹æ¡ˆ</strong></p>
<p>å­—ç¬¦åŒºåŸŸæå®šä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯è®©ç³»ç»Ÿâ€œè¯»â€å‡ºå­—ç¬¦äº†ã€‚æˆ‘ä»¬æœ€å¼€å§‹ä¹Ÿè¯•è¿‡ä¸€äº›è½»é‡çº§çš„å­—ç¬¦åˆ†ç±»ç½‘ç»œï¼Œæ¯”å¦‚æŠŠæ¯ä¸ªå­—ç¬¦æ¡†æå‡ºæ¥åå•ç‹¬åšåˆ†ç±»ï¼ˆSoftmax + CNNï¼‰ï¼Œä½†å‘ç°æ•ˆæœä¹Ÿä¸ç¨³å®šï¼šå­—ç¬¦æ¡†åˆ‡å¾—ä¸å‡†å°±è¯†åˆ«é”™è¯¯ï¼Œè€Œä¸”è¿™ç§æ–¹å¼å¯¹å­—ç¬¦çš„å‰åé¡ºåºæ¯«æ— ç†è§£èƒ½åŠ›ã€‚</p>
<p>æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬ä¸Šäº†æ¯”è¾ƒç»å…¸çš„ä¸€å¥—ç»„åˆï¼š<strong>CRNN + CTC</strong>ã€‚</p>
<p><strong>4.1 CRNN æ˜¯å•¥ï¼Ÿ</strong></p>
<p>ç®€å•è¯´ï¼ŒCRNNï¼ˆConvolutional Recurrent Neural Networkï¼‰æ˜¯ä¸ªä¸‰æ®µå¼ç»“æ„ï¼š</p>
<ol>
<li><p><strong>CNN å·ç§¯å±‚</strong>ï¼šæå–å›¾åƒç‰¹å¾ï¼›</p>
</li>
<li><p><strong>RNN ç»“æ„ï¼ˆæˆ‘ä»¬ç”¨çš„æ˜¯åŒå‘ LSTMï¼‰</strong>ï¼šå¤„ç†ç‰¹å¾åºåˆ—ï¼Œç†è§£å‰åè¯­å¢ƒï¼›</p>
</li>
<li><p><strong>å…¨è¿æ¥å±‚ + CTC è¾“å‡º</strong>ï¼šç”Ÿæˆå­—ç¬¦é¢„æµ‹ç»“æœã€‚</p>
</li>
</ol>
<p>è¿™ç§ç»“æ„ç‰¹åˆ«é€‚åˆå¤„ç†ã€Œä¸€æ•´è¡Œå­—ç¬¦ã€çš„å›¾åƒï¼Œä¹Ÿå°±æ˜¯é‚£ç§ä½ ä¸éœ€è¦é€ä¸ªåˆ†å‰²å­—ç¬¦ï¼Œè€Œæ˜¯ç›´æ¥æŠŠä¸€å¼ å­—ç¬¦åŒºåŸŸå›¾å–‚è¿›å»ï¼Œå®ƒå°±èƒ½ä¸€å£æ°”è¾“å‡ºæ•´ä¸ªå­—ç¬¦ä¸²çš„æ–¹æ¡ˆã€‚éå¸¸é€‚åˆè½¦ç‰Œè¯†åˆ«åœºæ™¯ã€‚</p>
<p><strong>4.2 ä¸ºä»€ä¹ˆè¦ç”¨ CTCï¼Ÿ</strong></p>
<p>CTCï¼ˆConnectionist Temporal Classificationï¼‰æœ€ç‰›çš„åœ°æ–¹å°±æ˜¯<strong>ä¸è¦æ±‚å­—ç¬¦å’Œä½ç½®ä¸€ä¸€å¯¹é½</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è®­ç»ƒçš„æ—¶å€™åªéœ€è¦æä¾›æ•´å¼ å›¾ç‰‡å¯¹åº”çš„æ–‡å­—æ ‡ç­¾ï¼Œæ¯”å¦‚ï¼š</p>
<img src="/blog/images/legacy/image-2025040201.png" title="" alt="" width="296">

<p>æ ‡ç­¾ï¼šé²N Y97L0</p>
<p>CTC ä¼šè‡ªå·±åœ¨è®­ç»ƒä¸­å­¦ä¼šæ€ä¹ˆå¯¹é½å­—ç¬¦å’Œå›¾åƒä¸Šçš„ä½ç½®ï¼Œä¸éœ€è¦ä½ æå‰æ ‡å‡ºæ¯ä¸ªå­—ç¬¦åœ¨å“ªå„¿ã€‚å¯¹æˆ‘ä»¬è¿™ç§å®é™…æ•°æ®æ ‡æ³¨éš¾åº¦é«˜çš„é¡¹ç›®å¤ªå‹å¥½äº†ã€‚</p>
<p><strong>4.3 æ¨¡å‹è®­ç»ƒçš„ä¸€äº›äº‹</strong></p>
<p>æˆ‘ä»¬è®­ç»ƒç”¨çš„æ•°æ®ä¸»è¦æ¥è‡ªæˆ‘ä»¬è‡ªå·±é‡‡é›†çš„ç›‘æ§è§†é¢‘æˆªå›¾ï¼Œç”¨è„šæœ¬å®šæœŸæŠ“å–ç”»é¢ï¼Œç„¶åäººå·¥æ ‡æ³¨è½¦ç‰Œæ–‡å­—ã€‚æ¸…æ´—è¿‡ç¨‹è¿˜æ˜¯æŒºç¹ççš„ï¼š</p>
<p>â€¢ æŠŠæ¨¡ç³Šå›¾ã€åå…‰å›¾å»æ‰ï¼›</p>
<p>â€¢ å¯¹å›¾ç‰‡åšæ ‡å‡†åŒ–å¤„ç†ï¼Œæ¯”å¦‚ç»Ÿä¸€å®½é«˜æ¯”ï¼›</p>
<p>â€¢ åŠ äº†ä¸€äº›å›¾åƒå¢å¼ºæ“ä½œï¼Œæ¯”å¦‚æ—‹è½¬ã€æ¨¡ç³Šã€å™ªå£°ã€è‰²åï¼Œæå‡æ¨¡å‹é²æ£’æ€§ã€‚</p>
<p>è®­ç»ƒè¿‡ç¨‹ä¸­ä¹Ÿè¸©è¿‡ä¸€äº›å‘ï¼Œæ¯”å¦‚ï¼š</p>
<p>â€¢ åºåˆ—é•¿åº¦ä¸å¤Ÿé•¿ï¼ŒCTC è¾“å‡ºå®¹æ˜“å¡Œç¼©ï¼ˆè¾“å‡ºæˆé‡å¤å­—ç¬¦ï¼‰ï¼›</p>
<p>â€¢ å­—ç¬¦é›†è®¾è®¡ä¸å®Œå–„ï¼Œæ¼æ‰äº†æ–°èƒ½æºè½¦çš„â€œDâ€â€œFâ€å‰ç¼€ï¼›</p>
<p>â€¢ æ•°æ®åˆ†å¸ƒä¸å‡ï¼Œé€ æˆæŸäº›å­—ç¬¦è¯†åˆ«ç‡åä½ï¼›</p>
<p>ä¸è¿‡æ•´ä½“æ¥è¯´ï¼Œæ¨¡å‹åœ¨éªŒè¯é›†ä¸Šçš„å‡†ç¡®ç‡å¾ˆå¿«å°±æ‹‰åˆ°äº† 95% å·¦å³ï¼Œæœ€å…³é”®çš„æ˜¯â€”â€”åœ¨ä¸€äº›ä¼ ç»Ÿæ–¹æ³•å®Œå…¨è¯†åˆ«ä¸å‡ºæ¥çš„åœºæ™¯ï¼Œå®ƒå±…ç„¶èƒ½è¯»å‡ºæ¥ï¼åƒé‚£ç§æ¨¡ç³Šä¸æ¸…ä½†äººçœ¼è¿˜èƒ½çŒœçš„å›¾ï¼Œå®ƒä¹Ÿèƒ½æˆåŠŸè¯†åˆ«ï¼Œç®—æ˜¯ç»™æˆ‘ä»¬æ‰“äº†ä¸€é’ˆå¼ºå¿ƒå‰‚ã€‚</p>
<p><strong>5. æ•°æ®å‡†å¤‡ä¸å¢å¼ºå®è·µ</strong></p>
<p>è¯´å¥å®è¯ï¼Œæ¨¡å‹è®­ç»ƒé çš„ä¸æ˜¯èŠ±é‡Œèƒ¡å“¨çš„ç½‘ç»œç»“æ„ï¼ŒçœŸçš„é çš„æ˜¯<strong>æ•°æ®è´¨é‡</strong>ã€‚æˆ‘ä»¬è¿™ä¸ªè½¦ç‰Œè¯†åˆ«æ¨¡å‹èƒ½è·‘å¾—è¿˜ä¸é”™ï¼Œ80%åŠŸåŠ³éƒ½å¾—å½’åˆ°æ•°æ®å¤„ç†è¿™ä¸€æ­¥ä¸Šã€‚</p>
<p><strong>5.1 æ•°æ®ä»å“ªæ¥ï¼Ÿ</strong></p>
<p>æˆ‘ä»¬æœ€åˆçš„æ•°æ®æ¥æºæ˜¯ç›‘æ§è§†é¢‘æˆªå›¾ã€‚åœè½¦åœºæ¯è¾†è½¦è¿›å‡ºæ—¶æ‘„åƒå¤´éƒ½ä¼šæŠ“æ‹ç”»é¢ï¼Œæˆ‘ä»¬å†™äº†ä¸ªè„šæœ¬ï¼Œå®šæœŸä»å­˜å‚¨ç³»ç»Ÿé‡ŒæŠ½å–å›¾ç‰‡ï¼Œå¸¦æ—¶é—´æˆ³çš„é‚£ç§ã€‚</p>
<p>ä¸è¿‡è¿™äº›åŸå§‹å›¾éƒ½ä¸èƒ½ç›´æ¥æ‹¿æ¥è®­ç»ƒï¼Œéœ€è¦ç»è¿‡ä¸€è½®åˆä¸€è½®æ¸…æ´—ã€‚æˆ‘ä»¬å¹²äº†è¿™äº›äº‹ï¼š</p>
<p>â€¢ <strong>å›¾åƒè£å‰ª</strong>ï¼šåªä¿ç•™æœ‰è½¦ç‰Œçš„éƒ¨åˆ†ï¼ŒèƒŒæ™¯å¤ªå¤§çš„å›¾ç›´æ¥èˆå¼ƒï¼›</p>
<p>â€¢ <strong>è´¨é‡ç­›é€‰</strong>ï¼šæ¨¡ç³Šã€æ›å…‰è¿‡åº¦ã€åå…‰å¤ªå¼ºçš„å›¾ç›´æ¥æ‰”æ‰ï¼›</p>
<p>â€¢ <strong>äººå·¥æ ‡æ³¨</strong>ï¼šç”¨ä¸€ä¸ªç®€å•çš„å›¾åƒæ ‡æ³¨å·¥å…·ï¼Œäººè‚‰è¾“å…¥æ¯å¼ å›¾çš„çœŸå®è½¦ç‰Œå·ï¼›</p>
<p>â€¢ <strong>å­—ç¬¦é›†æ•´ç†</strong>ï¼šæ”¶é›†æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ï¼Œå»ºç«‹ä¸€å¥—è½¦ç‰Œå­—ç¬¦å­—å…¸ï¼ˆåŒ…æ‹¬æ–°èƒ½æºå‰ç¼€ã€å†›ç‰Œã€çœä»½ç®€ç§°ç­‰ç­‰ï¼‰ï¼›</p>
<p>æ ‡æ³¨è¿‡ç¨‹çœŸçš„æŒºç£¨äººçš„ï¼Œä¸è¿‡å¥½åœ¨åªè¦é¦–æ‰¹æ•°æ®æ ‡å¾—å¤Ÿå‡†ï¼Œåé¢å¯ä»¥ç”¨æ¨¡å‹åšé¢„æ ‡æ³¨ï¼Œå†äººå·¥çº æ­£ï¼Œå°±è½»æ¾å¤šäº†ã€‚</p>
<p><strong>5.2 å›¾åƒå¢å¼ºæ“ä½œï¼ˆçœŸçš„æœ‰ç”¨ï¼‰</strong></p>
<p>ä¸ºäº†è®©æ¨¡å‹èƒ½æ‰›ä½å„ç§â€œè½¦ç‰Œå¥‡è‘©çŠ¶æ€â€ï¼Œæˆ‘ä»¬ç»™è®­ç»ƒå›¾åšäº†ä¸€å¤§å †å¢å¼ºï¼š</p>
<p>â€¢ <strong>æ—‹è½¬</strong>ï¼šÂ±15Â° ä»¥å†…è½»å¾®æ—‹è½¬ï¼Œæ¨¡æ‹Ÿæ­ªç€è¿›æ¥çš„è½¦ï¼›</p>
<p>â€¢ <strong>äº®åº¦å˜åŒ–</strong>ï¼šéšæœºè°ƒäº®/è°ƒæš—ï¼Œæ¨¡æ‹Ÿç™½å¤©å’Œå¤œæ™šï¼›</p>
<p>â€¢ <strong>æ¨¡ç³Šå¤„ç†</strong>ï¼šåŠ ä¸€ç‚¹ç‚¹é«˜æ–¯æ¨¡ç³Šï¼Œæ¨¡æ‹Ÿé•œå¤´è™šç„¦ï¼›</p>
<p>â€¢ <strong>æ·»åŠ å™ªå£°</strong>ï¼šæ¨¡æ‹Ÿé›¨å¤©ã€è„æ±¡ï¼›</p>
<p>â€¢ <strong>è‰²è°ƒå˜åŒ–</strong>ï¼šHSV è‰²å½©ç©ºé—´åšæ‰°åŠ¨ï¼Œæ¨¡æ‹Ÿç™½å¹³è¡¡åå·®ï¼›</p>
<p>è¿™äº›å¢å¼ºæ“ä½œçœŸçš„ä¸æ˜¯ä¸ºäº†å‡‘çƒ­é—¹â€”â€”æˆ‘ä»¬ä¸€å¼€å§‹æ¨¡å‹åœ¨å¤œé—´å›¾è¡¨ç°ç‰¹åˆ«å·®ï¼Œåæ¥ç‰¹åœ°åŠ äº†ä¸€æ‰¹â€œå¤œé—´é£æ ¼â€çš„å¢å¼ºå›¾ï¼Œå†è®­ç»ƒä¸€æ¬¡ä¹‹åæ˜æ˜¾æ•ˆæœæå‡äº†ã€‚</p>
<p>è€Œä¸”æœ‰äº›é—®é¢˜å¢å¼ºä¹Ÿè§£å†³ä¸äº†ï¼Œæ¯”å¦‚é®æŒ¡ã€åå…‰é‚£äº›ï¼Œæˆ‘ä»¬åæ¥å¹²è„†æ‹‰äº†ä¸€æ‰¹ã€Œé—®é¢˜å›¾ã€å•ç‹¬è®­ç»ƒï¼Œå˜æˆæ¨¡å‹çš„ä¸“é¡¹å¼ºåŒ–ç»ƒä¹ ï¼ˆç¬‘ï¼‰ã€‚</p>
<p><strong>5.3 æ•°æ®åˆ†å¸ƒä¹Ÿå¾ˆé‡è¦</strong></p>
<p>ä¸€å¼€å§‹æˆ‘ä»¬çŠ¯äº†ä¸ªä½çº§é”™è¯¯ï¼šæ•°æ®é›†ä¸­ä¸Šæµ·è½¦ç‰Œï¼ˆæ²ªAã€æ²ªBï¼‰å äº†å¤§å¤´ï¼Œå¯¼è‡´æ¨¡å‹æ€»æ˜¯å–œæ¬¢çŒœâ€œæ²ªâ€ã€‚åæ¥æˆ‘ä»¬è°ƒæ•´äº†æ•°æ®åˆ†å¸ƒæ¯”ä¾‹ï¼Œè®©ä¸åŒçœä»½ã€ä¸åŒç±»å‹çš„è½¦ç‰Œåœ¨è®­ç»ƒé›†é‡Œæ›´å‡åŒ€ï¼Œè¿™æ‰ç¼“è¿‡æ¥ã€‚</p>
<p><strong>6. æ¨¡å‹éƒ¨ç½²ä¸ç³»ç»Ÿé›†æˆ</strong></p>
<p>æ¨¡å‹è®­å¥½äº†ï¼Œåªèƒ½ç®—åŠæˆäº‹ã€‚çœŸæ­£è¦ä¸Šçº¿ç”¨ï¼Œè¿˜å¾—æŠŠæ¨¡å‹å˜æˆä¸€ä¸ªéšæ—¶èƒ½è¢«ç³»ç»Ÿâ€œå«é†’â€ã€å¿«é€Ÿå“åº”çš„æœåŠ¡ï¼Œè¿™éƒ¨åˆ†å…¶å®æˆ‘ä»¬ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´ã€‚</p>
<p><strong>6.1 ç”¨ Flask å°ä¸€å±‚æ¥å£</strong></p>
<p>æˆ‘ä»¬ä¸€å¼€å§‹é€‰çš„æ˜¯æœ€ç›´æ¥çš„æ–¹å¼ï¼š<strong>Flask + TensorFlowï¼ˆ1.xï¼‰åŸç”Ÿ Session</strong> æ¥åšéƒ¨ç½²ã€‚æ²¡ç”¨ä»€ä¹ˆ fancy çš„éƒ¨ç½²æ¡†æ¶ï¼Œä¸»è¦æ˜¯ä¸ºäº†è½»é‡å’Œæ–¹ä¾¿è°ƒè¯•ï¼Œæ¥å£ç»“æ„å¤§æ¦‚å°±è¿™æ ·ï¼š</p>
<p>â€¢ /predictï¼šæ¥æ”¶å›¾ç‰‡ï¼ˆbase64 æˆ– multipartï¼‰ï¼Œè°ƒç”¨æ¨¡å‹æ¨ç†ï¼Œè¿”å›è¯†åˆ«ç»“æœï¼›</p>
<p>â€¢ /pingï¼šå¥åº·æ£€æŸ¥ï¼›</p>
<p>â€¢ /reloadï¼ˆå†…éƒ¨ç”¨ï¼‰ï¼šé‡æ–°åŠ è½½æ¨¡å‹ï¼Œæ–¹ä¾¿åé¢çƒ­æ›´æ–°ã€‚</p>
<p>æ¯æ¬¡è¯·æ±‚è¿›æ¥å°±èµ°ä¸€å¥—æµç¨‹ï¼šå›¾åƒé¢„å¤„ç† â†’ CTPN â†’ CRNN+CTC â†’ åå¤„ç†è¾“å‡ºå­—ç¬¦ä¸²ã€‚</p>
<p>è™½ç„¶æœ‰ç‚¹åŸå§‹ï¼Œä½†èƒœåœ¨ç®€å•å¯é ï¼Œåæ¥éƒ¨ç½²åˆ°çº¿ä¸‹åœºæ™¯ä¹ŸæŒºç¨³å®šçš„ã€‚</p>
<p><strong>6.2 æ¨¡å‹åŠ è½½å’Œæ¨ç†æ•ˆç‡ä¼˜åŒ–</strong></p>
<p>è¯´å®è¯ï¼ŒTensorFlow 1.x çœŸä¸å¤ªå‹å¥½ã€‚æœ€å¼€å§‹æˆ‘ä»¬æ¯ä¸ªè¯·æ±‚éƒ½å»º Sessionï¼Œæ¨ç†æ—¶é—´èƒ½é£™åˆ° 2~3 ç§’ï¼Œå®Œå…¨ä¸èƒ½ç”¨ã€‚åæ¥æ¢æˆ<strong>å…¨å±€åŠ è½½æ¨¡å‹</strong> + çº¿ç¨‹é”ç®¡ç† Sessionï¼Œæ¨ç†æ—¶é—´ç«‹é©¬å‹åˆ°äº† 500ms ä»¥å†…ã€‚</p>
<p>è¿˜æœ‰å‡ ç‚¹ä¼˜åŒ–å°å¿ƒå¾—ï¼š</p>
<p>â€¢ <strong>æ¨¡å‹å†»ç»“ï¼ˆfreeze_graphï¼‰</strong>ï¼šæŠŠè®­ç»ƒå¥½çš„ ckpt è½¬æˆ pb æ–‡ä»¶ï¼Œæ¨ç†åŠ è½½æ›´å¿«ï¼›</p>
<p>â€¢ <strong>Batch å°ºå¯¸ä¼˜åŒ–</strong>ï¼šæˆ‘ä»¬è¯„ä¼°æ—¶ batch_size å›ºå®šä¸º 1ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜å¼€é”€ï¼›</p>
<p>â€¢ <strong>å›¾åƒ resize å°ºå¯¸å¯¹é½</strong>ï¼šè¾“å…¥å›¾ç»Ÿä¸€ä¸ºå›ºå®šé«˜å®½ï¼Œé¿å…æ¯æ¬¡åŠ¨æ€ reshapeï¼›</p>
<p>â€¢ <strong>é¢„å¤„ç†å’Œåå¤„ç†æ”¾ä¸»çº¿ç¨‹å¤„ç†</strong>ï¼ŒåªæŠŠçº¯æ¨¡å‹æ¨ç†éƒ¨åˆ†ç”¨é”ä¿æŠ¤ï¼Œæå‡å¹¶å‘èƒ½åŠ›ï¼›</p>
<p>è¿™äº›å°æ”¹åŠ¨ï¼Œè™½ç„¶ä¸éš¾ï¼Œä½†æ¯ä¸€æ¡éƒ½èƒ½æ•‘ä½ ä¸€å£æ€§èƒ½ã€‚</p>
<p><strong>6.3 ç³»ç»Ÿè”åŠ¨ï¼šè¯†åˆ« + è®¡è´¹ + æ”¾è¡Œ</strong></p>
<p>æ¨¡å‹ä¸æ˜¯å­¤å²›ï¼Œå®ƒå¾—å’Œåœè½¦åœºç®¡ç†ç³»ç»Ÿæ‰“é…åˆã€‚æˆ‘ä»¬è¿™è¾¹åšäº†å‡ ä¸ªè”åŠ¨ï¼š</p>
<p>â€¢ <strong>å…¥åœºè¯†åˆ«</strong>ï¼šæ‘„åƒå¤´æ‹ç…§ï¼Œè°ƒç”¨æ¥å£è¯†åˆ«è½¦ç‰Œï¼Œè®°å½•å…¥åœºæ—¶é—´ï¼›</p>
<p>â€¢ <strong>å‡ºåœºè¯†åˆ« + è®¡è´¹</strong>ï¼šå†æ¬¡è¯†åˆ«åæŸ¥æ•°æ®åº“è®¡ç®—åœç•™æ—¶é•¿ã€è´¹ç”¨ï¼›</p>
<p>â€¢ <strong>æ”¾è¡Œæ§åˆ¶</strong>ï¼šè¯†åˆ«+æ‰£è´¹æˆåŠŸåï¼Œä¸‹å‘å¼€é—¸ä¿¡å·ï¼›</p>
<p>â€¢ <strong>å¤±è´¥å…œåº•</strong>ï¼šè¯†åˆ«å¤±è´¥æˆ–å¤šæ¬¡è¯†åˆ«ç»“æœä¸ä¸€è‡´ï¼Œä¼šè½¬äººå·¥å®¡æ ¸ï¼›</p>
<p>ä¸ºäº†é˜²æ­¢â€œå¡é¡¿å µè½¦â€ï¼Œæˆ‘ä»¬æ•´ä¸ªæµç¨‹æ§åˆ¶åœ¨ 1.5 ç§’ä»¥å†…ï¼Œå…¶ä¸­æ¨¡å‹æ¨ç†æ—¶é—´ä¸èƒ½è¶…è¿‡ 700msï¼Œå‰©ä¸‹çš„æ—¶é—´ç»™æ•°æ®æŸ¥åº“ã€ä¸šåŠ¡é€»è¾‘å’Œç½‘ç»œè¯·æ±‚ã€‚</p>
<p><strong>6.4 éƒ¨ç½²ç¯å¢ƒ</strong></p>
<p>æœ€æ—©å‡ å®¶é—¨åº—æˆ‘ä»¬ç”¨çš„æ˜¯ä¸€å°å°å‹è¾¹ç¼˜æœåŠ¡å™¨ï¼ˆi5 + 8GB RAM æ²¡æœ‰ GPUï¼‰ï¼Œå‹æµ‹ä¸‹æ¥å‹‰å¼ºå¤Ÿç”¨ã€‚åé¢ä¸Šçº¿é—¨åº—å¤šäº†ï¼Œæˆ‘ä»¬æ¢æˆäº†è½»é‡çº§ Docker æœåŠ¡éƒ¨ç½²åœ¨å±€åŸŸç½‘ç½‘å…³è®¾å¤‡ä¸Šï¼Œå“åº”æ—¶é—´æ›´ç¨³ï¼Œç»´æŠ¤ä¹Ÿæ–¹ä¾¿ã€‚</p>
<p><strong>7. å®æˆ˜æˆæ•ˆä¸ç»éªŒæ€»ç»“</strong></p>
<p>ç³»ç»Ÿä¸Šçº¿é‚£å¤©å…¶å®æˆ‘ä»¬è¿˜æ˜¯æŒºç´§å¼ çš„ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸€å®¶é—¨åº—ï¼Œè®¾å¤‡ä¸€æ¥å¥½ï¼Œè·¯å£åˆšå¥½å°±æ’ç€ä¸‰å››è¾†è½¦ç­‰ç€è¿›å‡ºï¼Œå…¨é æˆ‘ä»¬æ¨¡å‹ä¸ç»™æˆ‘ä»¬â€œæ·»å µâ€ã€‚</p>
<p><strong>7.1 ç³»ç»Ÿä¸Šçº¿è¡¨ç°</strong></p>
<p>æˆ‘ä»¬ç³»ç»Ÿæœ€ç»ˆåœ¨å®é™…åœºæ™¯ä¸­è·‘å¾—æ¯”é¢„æœŸè¿˜è¦ç¨³ä¸€äº›ï¼Œå…·ä½“å‡ ä¸ªå…³é”®æŒ‡æ ‡ï¼š</p>
<p>â€¢ <strong>è¯†åˆ«å‡†ç¡®ç‡</strong>ï¼šç™½å¤©åœºæ™¯ç¨³å®šåœ¨ <strong>96%+</strong>ï¼Œå¤œé—´ç•¥ä½ï¼Œä½†ä¹Ÿä¿æŒåœ¨ <strong>93%å·¦å³</strong>ï¼›</p>
<p>â€¢ <strong>å¹³å‡è¯†åˆ«æ—¶å»¶</strong>ï¼šå•å¼ å›¾ç‰‡è¯†åˆ«æ—¶é—´åœ¨ <strong>600~800ms</strong> ä¹‹é—´ï¼ˆåŒ…å«å…¨éƒ¨æµç¨‹ï¼‰ï¼›</p>
<p>â€¢ <strong>æ—¥å‡è¯†åˆ«é‡</strong>ï¼šå•åº—çº¦ <strong>500~1000</strong> æ¬¡è¯†åˆ«ï¼Œé«˜å³°èƒ½åˆ° <strong>2000+</strong>ï¼›</p>
<p>â€¢ <strong>ä¸Šçº¿é—¨åº—æ•°</strong>ï¼šæœ€ç»ˆéƒ¨ç½²åˆ° <strong>30+</strong> ä¸ªåœè½¦åœºï¼ŒåŸºæœ¬æ²¡å‡ºè¿‡é‡å¤§äº‹æ•…ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯ï¼ŒåŸæœ¬é«˜å³°æ—¶æ®µé—¨å£æ’é˜Ÿçš„æƒ…å†µç¼“è§£äº†ä¸å°‘ï¼Œæ•´ä½“é€šè¡Œæ•ˆç‡æå‡å·®ä¸å¤šåœ¨ <strong>40% å·¦å³</strong>ï¼Œäººå·¥å¹²é¢„å¤§å¹…å‡å°‘ã€‚æˆ‘ä»¬ç°åœºè¿ç»´çš„åŒäº‹è¯´ï¼Œä¹‹å‰é—¨å«ç»å¸¸æŠ“ç‹‚å†™é”™è½¦ç‰Œã€ç®—é”™é’±ï¼Œç°åœ¨æ¯å¤©è½»æ¾å¾ˆå¤šï¼ˆç¬‘ï¼‰ã€‚</p>
<p><strong>7.2 é‡åˆ°çš„å‘ï¼ˆè¸©è¿‡æ‰çŸ¥é“ï¼‰</strong></p>
<p>è™½ç„¶ç»“æœä¸é”™ï¼Œä½†ä¸­é—´ä¹Ÿè¸©äº†ä¸å°‘å‘ï¼Œè¿™é‡Œéšä¾¿åˆ—å‡ ä¸ªï¼Œå¤§å®¶å¯ä»¥é¿é¿ï¼š</p>
<p>â€¢ <strong>æ¨¡å‹æ²¡åšå­—ç¬¦åˆæ³•æ€§æ ¡éªŒ</strong>ï¼Œä¸€å¼€å§‹ç«Ÿç„¶è¯†åˆ«å‡ºâ€œ1A2B3C4â€è¿™ç§æ ¹æœ¬ä¸å­˜åœ¨çš„è½¦ç‰Œå·ï¼Œåæ¥åŠ äº†æ­£åˆ™è§„åˆ™å’Œç½®ä¿¡åº¦ç­›é€‰æ‰ç¼“è§£ï¼›</p>
<p>â€¢ <strong>å›¾ç‰‡é¢„å¤„ç†å¤ªâ€œå¹²å‡€â€</strong>ï¼Œå‰æœŸè®­ç»ƒå›¾åƒè´¨é‡åé«˜ï¼Œç»“æœä¸€ä¸Šçº¿å°±è¢«ç°å®æ¯’æ‰“ï¼Œåæ¥ç‰¹åœ°åŠ äº†ä¸€æ‰¹â€œè„æ•°æ®â€åšé²æ£’æ€§æå‡ï¼›</p>
<p>â€¢ <strong>å¤šçº¿ç¨‹å¹¶å‘ Session å´©æºƒ</strong>ï¼Œç”¨ Flask æ—¶æ²¡åŠ é”å¯¼è‡´å¤šçº¿ç¨‹ Session å†²çªï¼Œçº¿ä¸Šä¸€åº¦é¢‘ç¹æŠ¥é”™ï¼Œåæ¥è€è€å®å®åŠ äº†é”ç®¡ç†ï¼›</p>
<p>â€¢ <strong>å­—ç¬¦é›†ä¸ç»Ÿä¸€</strong>ï¼Œæœ‰çš„æ ‡æ³¨æ˜¯â€œæ²ªA12345â€ï¼Œæœ‰çš„æ˜¯â€œæ²ª A12345â€ï¼Œè®­ç»ƒæ—¶æ²¡æ³¨æ„ï¼Œç»“æœè¾“å‡ºæ ¼å¼ä¸ä¸€è‡´ï¼Œç³»ç»Ÿè¯†åˆ«å¤±è´¥ï¼›</p>
<p>è¿™äº›é—®é¢˜ä¸æ˜¯æ¨¡å‹çš„é—®é¢˜ï¼Œæ˜¯æˆ‘ä»¬â€œä¸šåŠ¡è½åœ°â€ç»éªŒä¸å¤Ÿé€ æˆçš„â€”â€”ä½ å¾—æ—¶åˆ»è®°å¾—è¿™ä¸ªç³»ç»Ÿä¸æ˜¯è·‘ demo çš„ï¼Œæ˜¯è¦çœŸå¹²æ´»çš„ã€‚</p>
<p><strong>7.3 æ€»ç»“ä¸€ä¸‹ï¼š</strong></p>
<p>æ•´ä¸ªé¡¹ç›®åšå®Œä¸‹æ¥ï¼Œæˆ‘è‡ªå·±æœ€å¤§çš„ä½“ä¼šæ˜¯ï¼š</p>
<blockquote>
<p>OCR é¡¹ç›®ä»æ¥ä¸æ˜¯çº¯æ¨¡å‹é—®é¢˜ï¼Œè€Œæ˜¯</p>
<p><strong>æ•°æ®ã€ä¸šåŠ¡ã€éƒ¨ç½²ã€ç³»ç»Ÿè”åŠ¨</strong></p>
</blockquote>
<p>ä»ä¼ ç»Ÿæ–¹æ³•åˆ°æ·±åº¦å­¦ä¹ ï¼Œçœ‹ä¸Šå»åƒæ˜¯â€œæŠ€æœ¯å‡çº§â€ï¼Œä½†å…¶å®æ›´åƒæ˜¯ä¸€æ¬¡ã€Œè®¤çŸ¥å‡çº§ã€ï¼šä½ å¼€å§‹å…³æ³¨æ›´å¤šç³»ç»Ÿå±‚é¢çš„äº‹æƒ…ï¼Œæ¯”å¦‚æœåŠ¡æ€§èƒ½ã€æ¥å£è®¾è®¡ã€ç”¨æˆ·ä½“éªŒã€ç”šè‡³è¿ç»´å’Œæ—¥å¿—ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿™å¥—ä¹Ÿä¸å®Œç¾ï¼Œè¿˜æœ‰å¾ˆå¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæ¯”å¦‚åé¢ç‰ˆæœ¬æˆ‘ä»¬ä¹Ÿåœ¨å°è¯•ï¼š</p>
<p>â€¢ ç”¨æ›´è½»é‡çš„æ¨¡å‹ï¼ˆæ¯”å¦‚ MobileNet+CRNNï¼‰åšå‰ç«¯éƒ¨ç½²ï¼›</p>
<p>â€¢ ç”¨ ONNX æˆ– TensorRT åšè·¨å¹³å°éƒ¨ç½²ï¼›</p>
<p>â€¢ å¼•å…¥æ—¥å¿—è¿½è¸ªå’Œè‡ªåŠ¨å‘Šè­¦ç³»ç»Ÿï¼Œæå‡ç³»ç»Ÿå¯ç»´æŠ¤æ€§ï¼›</p>
<p>è¿™äº›å°±æ˜¯åè¯äº†ï¼Œæœ‰æœºä¼šå†åˆ†äº«ã€‚</p>

    </article>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
<script>
Prism.highlightAll();
document.querySelectorAll('article pre').forEach(pre => {
    const code = pre.querySelector('code');
    if (!code) return;
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.onclick = () => {
        navigator.clipboard.writeText(code.textContent).then(() => {
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    };
    toolbar.appendChild(btn);
    pre.parentNode.insertBefore(toolbar, pre);
});
</script>
</body>
</html>