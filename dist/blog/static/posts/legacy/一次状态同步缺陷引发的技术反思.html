<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€æ¬¡çŠ¶æ€åŒæ­¥ç¼ºé™·å¼•å‘çš„æŠ€æœ¯åæ€ | Yuxu Ge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --black: #111;
            --dark-grey: #444;
            --off-white: #f4f4f4;
            --vermilion: #C41E3A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--black);
            background-color: var(--off-white);
        }

        a {
            color: var(--vermilion);
            text-decoration: none;
        }

        a:hover {
            opacity: 0.75;
        }

        .layout {
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 320px;
            height: 100vh;
            background: var(--black);
            color: var(--off-white);
            padding: 3rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .avatar {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--vermilion);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .avatar:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .name-block {
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--off-white);
        }

        .title-role {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.25rem;
            font-weight: 400;
        }

        .contact-block {
            margin-top: 2.5rem;
            width: 100%;
        }

        .social-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 160px;
            color: var(--off-white);
            opacity: 0.7;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .social-links a:hover {
            color: var(--vermilion);
            opacity: 1;
            background: rgba(255, 255, 255, 0.05);
        }

        .social-links svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .social-links .orcid-link {
            font-size: 0.68rem;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .sidebar-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #555;
        }

        /* Content */
        .content {
            margin-left: 320px;
            padding: 3rem 4rem;
            max-width: calc(100vw - 320px - 8rem);
        }

        .back-link {
            display: inline-block;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            color: var(--dark-grey);
        }

        .back-link:hover {
            color: var(--vermilion);
        }

        /* Article */
        article h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            color: var(--black);
        }

        article h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--black);
        }

        article h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--black);
        }

        article p {
            margin-bottom: 1rem;
            color: var(--dark-grey);
        }

        article ul,
        article ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--dark-grey);
        }

        article li {
            margin-bottom: 0.5rem;
        }

        article strong {
            color: var(--black);
        }

        article code {
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            background: #e8e8e8;
            padding: 0.15em 0.4em;
            border-radius: 3px;
        }

        article pre {
            margin: 1rem 0;
            border-radius: 6px;
            overflow-x: auto;
            background: #2d2d2d;
            padding: 1rem;
        }

        article pre code {
            background: none;
            padding: 0;
            font-size: 0.75em;
            white-space: pre !important;
            counter-reset: line;
            display: block;
            color: #ccc;
        }

        article pre code .line {
            counter-increment: line;
        }

        article pre code .line::before {
            content: counter(line);
            display: inline-block;
            width: 2.5em;
            margin-right: 1em;
            text-align: right;
            color: #666;
            user-select: none;
        }

        .code-toolbar {
            display: flex;
            justify-content: flex-start;
            padding: 0.35rem 0.5rem;
            background: #3a3a3a;
            border-radius: 6px 6px 0 0;
        }

        .code-toolbar+pre {
            margin-top: 0;
            border-radius: 0 0 6px 6px;
        }

        .copy-btn {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
            background: #555;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover,
        .copy-btn:active {
            background: #777;
        }

        .copy-btn.copied {
            background: #2a2;
        }

        article blockquote {
            border-left: 3px solid var(--vermilion);
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            font-style: italic;
        }

        article hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 2rem 0;
        }

        article table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        article th,
        article td {
            border: 1px solid #ddd;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        article th {
            background: #e8e8e8;
            font-weight: 600;
        }

        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem 0;
            border-radius: 6px;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .error {
            color: var(--vermilion);
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .lang-selector-label {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .lang-selector-label svg {
            width: 16px;
            height: 16px;
        }

        .lang-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            min-width: 140px;
        }

        .lang-select:focus {
            outline: none;
            border-color: var(--vermilion);
        }

        .lang-status {
            font-size: 0.8rem;
            color: #888;
            margin-left: auto;
        }

        .lang-status.translating {
            color: var(--vermilion);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-status.translating::before {
            content: '';
            width: 14px;
            height: 14px;
            border: 2px solid #f0f0f0;
            border-top-color: var(--vermilion);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .lang-status.cached {
            color: #4CAF50;
        }

        .lang-original-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .lang-original-btn:hover {
            background: #e0e0e0;
            color: #333;
        }

        @media (max-width: 600px) {
            .lang-selector {
                flex-wrap: wrap;
            }
            .lang-status {
                width: 100%;
                margin-left: 0;
                margin-top: 0.5rem;
            }
        }

        /* KaTeX math styles */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Jupyter Notebook Styles */
        .notebook-container {
            margin-top: 1rem;
        }

        .notebook-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .notebook-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .notebook-download svg {
            width: 16px;
            height: 16px;
        }

        .nb-cell {
            margin-bottom: 1.5rem;
        }

        .nb-cell-code .nb-source {
            background: #2d2d2d;
            border-radius: 6px;
            overflow-x: auto;
        }

        .nb-cell-code .nb-source pre {
            margin: 0;
            padding: 1rem;
            color: #ccc;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
        }

        .nb-cell-code .nb-source code {
            background: none;
            padding: 0;
        }

        .nb-output {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 0.5rem;
        }

        .nb-output pre {
            margin: 0;
            padding: 0;
            background: transparent;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
            color: #222;
        }

        .nb-output img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0.5rem 0;
        }

        .nb-output table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .nb-output th,
        .nb-output td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }

        .nb-output th {
            background: #e8e8e8;
            font-weight: 600;
        }

        .nb-cell-markdown {
            padding: 0;
        }

        .nb-cell-markdown h1:first-child {
            margin-top: 0;
        }

        /* Document Download Button */
        .doc-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .doc-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .doc-download svg {
            width: 16px;
            height: 16px;
        }

        /* PDF Viewer */
        .pdf-container {
            margin-top: 1rem;
        }

        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* Text File Display */
        .text-container {
            margin-top: 1rem;
        }

        .text-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 1.5rem;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--dark-grey);
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Word Document Display */
        .word-container {
            margin-top: 1rem;
        }

        .word-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 2rem;
            line-height: 1.8;
            color: var(--dark-grey);
        }

        .word-content p {
            margin-bottom: 1rem;
        }

        .word-content h1,
        .word-content h2,
        .word-content h3 {
            color: var(--black);
            margin: 1.5rem 0 1rem;
        }

        .word-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .word-content th,
        .word-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
        }

        .word-content img {
            max-width: 100%;
            height: auto;
        }

        /* Excel Display */
        .excel-container {
            margin-top: 1rem;
        }

        .excel-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .excel-tab {
            padding: 0.5rem 1rem;
            background: #e8e8e8;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .excel-tab.active {
            background: #4CAF50;
            color: white;
        }

        .excel-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
        }

        .excel-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .excel-content th,
        .excel-content td {
            border: 1px solid #ddd;
            padding: 0.4rem 0.6rem;
            text-align: left;
            white-space: nowrap;
        }

        .excel-content th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .excel-content tr:nth-child(even) {
            background: #fafafa;
        }

        /* PowerPoint Display */
        .ppt-container {
            margin-top: 1rem;
        }

        .ppt-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* CSV Display (uses excel styles) */
        .csv-container {
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 2rem 1.5rem 1rem;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .social-links a,
            .social-links .orcid-link {
                width: auto;
                padding: 0.5rem;
                font-size: 0;
                gap: 0;
            }

            .social-links svg {
                width: 24px;
                height: 24px;
            }

            .social-links .hide-mobile {
                display: none;
            }

            .sidebar-footer {
                margin-top: 1rem;
            }

            .content {
                margin-left: 0;
                padding: 2rem 1rem;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                padding: 1.5rem 1rem 1rem;
            }

            .avatar {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 1.4rem;
            }

            article h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>

    <div class="layout">
        <aside class="sidebar" id="sidebar-content"></aside>
        <script src="/components/sidebar.js?v=20260128"></script>

        <main class="content">
            <a href="/blog/" class="back-link">â† Back to Blog</a>

            <!-- Language Selector -->
            <div class="lang-selector" id="lang-selector" style="display: none;">
                <span class="lang-selector-label">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                    Language
                </span>
                <select class="lang-select" id="lang-select">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
                <button class="lang-original-btn" id="lang-original-btn" style="display: none;">Show Original</button>
                <span class="lang-status" id="lang-status"></span>
            </div>

            <article>
<hr>
<h2>date: 2022-04-25
tags: [general_notes]
legacy: true</h2>
<h1>ä¸€æ¬¡çŠ¶æ€åŒæ­¥ç¼ºé™·å¼•å‘çš„æŠ€æœ¯åæ€</h1>
<h2>åŸå› åˆ†æ</h2>
<p>é—®é¢˜åŸå› å½’ç»“èµ·æ¥å…¶å®å¾ˆç®€å•ï¼šæ‰¹é‡æ“ä½œæ—¶çŠ¶æ€æ›´æ–°å’Œæ—¥å¿—è®°å½•ä¸ä¸€è‡´ã€‚ç©¶å…¶æ ¹æœ¬ï¼Œæ˜¯ä»£ç å®ç°ä¸Šå¿½ç•¥äº†å’Œå•æ¡æ“ä½œé€»è¾‘çš„ä¸€è‡´æ€§ã€‚å¼€å‘è€…åœ¨æ–°å¢æ‰¹é‡å†»ç»“åŠŸèƒ½æ—¶ï¼Œæ²¡æœ‰å¤ç”¨å•æ¡å†»ç»“çš„å®Œæ•´é€»è¾‘ï¼Œåªæ˜¯ç›´æ¥å¯¹ä¸»è¡¨æ•°æ®è¿›è¡Œäº†æ‰¹é‡æ›´æ–°ã€‚ç”±äºå•æ¡å†»ç»“æ—¶æ—¥å¿—è®°å½•æ˜¯ä¸€ä¸ªå•ç‹¬æ­¥éª¤ï¼Œæ‰¹é‡æƒ…å†µä¸‹å¦‚æœä¸è€ƒè™‘æ—¥å¿—ï¼Œè¿™ä¸€æ­¥å°±ä¸¢å¤±äº†ã€‚</p>
<p>è¿›ä¸€æ­¥æ¥è¯´ï¼Œè¿™åæ˜ äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­åŒå†™ä¸ä¸€è‡´çš„å…¸å‹é—®é¢˜ï¼šå½“æˆ‘ä»¬éœ€è¦å°†çŠ¶æ€å˜åŒ–å†™åˆ°ä¸¤ä¸ªåœ°æ–¹ï¼ˆè¿™é‡Œæ˜¯ä¸»çŠ¶æ€è¡¨å’Œæ“ä½œæ—¥å¿—è¡¨ï¼‰æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¿è¯åŸå­æ€§æˆ–ä¸¥æ ¼çš„ä¸€è‡´æ€§æµç¨‹ï¼Œå°±å¯èƒ½å‡ºç°ä¸€å¤„æ›´æ–°äº†è€Œå¦ä¸€å¤„æœªæ›´æ–°çš„æƒ…å†µã€‚æ­¤æ—¶ï¼Œä¸åŒç»„ä»¶å„è‡ªä¾èµ–ä¸åŒçš„æ•°æ®æºï¼ˆä¸»è¡¨æˆ–æ—¥å¿—è¡¨ï¼‰ï¼Œå°±ä¼šå„è‡ªå¾—åˆ°ä¸ä¸€è‡´çš„çŠ¶æ€è§†å›¾ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œä¸»åº“çš„çŠ¶æ€æ˜¯å†»ç»“äº†ï¼Œä½†æ—¥å¿—ç¼ºå¤±å¯¼è‡´ä¾èµ–æ—¥å¿—çš„ç»„ä»¶æœªæ„ŸçŸ¥åˆ°å†»ç»“ã€‚</p>
<p>ä¸ºä½•ä¼šé‡‡ç”¨æ—¥å¿—è¡¨åŒæ­¥è€Œä¸ç›´æ¥ç”¨ä¸»è¡¨ï¼Ÿè¿™æ˜¯å‡ºäºç³»ç»Ÿè§£è€¦å’Œæ€§èƒ½è€ƒè™‘ã€‚ä¸€æ–¹é¢ï¼Œç›´æ¥è®©åŒæ­¥ä»»åŠ¡å¤§èŒƒå›´æ‰«æä¸»è¡¨æ‰¾å˜åŒ–æˆæœ¬é«˜ï¼Œä¸å¦‚æŒ‰æ—¥å¿—å¢é‡åŒæ­¥é«˜æ•ˆï¼›å¦ä¸€æ–¹é¢ï¼Œæ—¥å¿—è¡¨è¿˜æ‰¿æ‹…äº†æ“ä½œå®¡è®¡çš„ä½œç”¨ï¼Œè®°å½•è°åœ¨ä½•æ—¶å¯¹å“ªäº›èµ„æºåšäº†ä»€ä¹ˆæ“ä½œã€‚å› æ­¤ï¼Œæ—¥å¿—ä½œä¸ºäº‹å®æ¥æºä¹‹ä¸€æ˜¯å¾ˆå¤šç³»ç»Ÿçš„è®¾è®¡é€‰æ‹©ã€‚ä½†è¿™ç§è®¾è®¡è¦æ±‚æ¯æ¬¡çŠ¶æ€å˜åŒ–æ—¶åŒæ—¶ç»´æŠ¤ä¸»æ•°æ®å’Œæ—¥å¿—çš„ä¸€è‡´æ›´æ–°ã€‚è¿™ç§åŒå†™æ“ä½œè‹¥æ— äº‹åŠ¡ä¿éšœï¼Œå°±å¿…é¡»å°å¿ƒç¡®ä¿ä»£ç å±‚é¢ä¸¤è€…çš„å®Œæ•´æ›´æ–°ã€‚</p>
<p>å›åˆ°æˆ‘ä»¬çš„æ¡ˆä¾‹ï¼Œæ ¹æœ¬åŸå› å¯ä»¥è¯´æ˜¯ä¸€æ¬¡ç–å¿½ï¼šæ‰¹é‡æ“ä½œä»£ç ç¼ºå°‘æ—¥å¿—å†™å…¥ï¼Œä½¿å¾—çŠ¶æ€å˜æ›´æ²¡æœ‰å®Œå…¨è¢«è®°å½•ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸€é—®é¢˜è¢«åŠæ—¶å‘ç°å¹¶å®šä½ï¼Œæ²¡æœ‰è¿›ä¸€æ­¥é€ æˆä¸¥é‡åæœã€‚</p>
<h2>ä¿®å¤è¿‡ç¨‹</h2>
<p>æ‰¾å‡†åŸå› ä¹‹åï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿå°±ç›¸å¯¹æ˜ç¡®äº†ã€‚ä¿®å¤å·¥ä½œä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>è¡¥å½•æ—¥å¿—ï¼š é’ˆå¯¹å·²ç»è¢«å†»ç»“ä½†æœªè®°å½•æ—¥å¿—çš„èµ„æºï¼Œè¡¥å†™ç›¸åº”çš„æ“ä½œæ—¥å¿—ã€‚è¿™æ ·å¯ä»¥ä¿®å¤é‚£äº›å·²ç»æ‰§è¡Œè¿‡æ‰¹é‡å†»ç»“ä½†æ—¥å¿—ç¼ºå¤±çš„æ•°æ®ï¼Œä½¿åç»­åŒæ­¥ä»»åŠ¡èƒ½æ­£ç¡®è¯†åˆ«è¿™äº›èµ„æºçš„å†»ç»“çŠ¶æ€ã€‚å…·ä½“åšæ³•æ˜¯æ ¹æ®ä¸»çŠ¶æ€è¡¨ä¸­æ ‡è®°ä¸ºå†»ç»“ä¸”åœ¨æ—¥å¿—è¡¨ä¸­æ²¡æœ‰å¯¹åº”è®°å½•çš„æ¡ç›®ï¼Œè¡¥å……æ’å…¥æ—¥å¿—è®°å½•ã€‚è¿™ä¸€æ­¥ç›¸å½“äºæ•°æ®è¡¥æ•‘ï¼Œç¡®ä¿å†å²æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li>
<li>ä¿®æ”¹ä»£ç ï¼š åœ¨æ‰¹é‡å†»ç»“å’Œæ‰¹é‡è§£å†»çš„ä»£ç å®ç°ä¸­ï¼ŒåŠ å…¥ä¸å•æ¡æ“ä½œç›¸åŒçš„æ—¥å¿—è®°å½•é€»è¾‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯å†»ç»“ä¸€ä¸ªèµ„æºï¼Œä¸ä»…è¦æ›´æ–°å…¶ä¸»çŠ¶æ€ï¼Œè¿˜è¦åœ¨æ—¥å¿—è¡¨æ’å…¥ä¸€æ¡è®°å½•ã€‚ä¸ºäº†é˜²æ­¢å†æ¬¡é—æ¼ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†é‡ç”¨å•æ¡æ“ä½œé€»è¾‘çš„æ–¹å¼ï¼šå°†åŸæœ‰å•ä¸ªèµ„æºå†»ç»“çš„è¿‡ç¨‹æç‚¼æˆå¯ä»¥è¢«æ‰¹é‡è°ƒç”¨çš„æ–¹æ³•ï¼Œä½¿æ‰¹é‡å’Œå•æ¡æ“ä½œèµ°åŒä¸€å¥—æµç¨‹ã€‚è¿™æ ·é¿å…äº†ä»£ç åˆ†å‰å¯¼è‡´çš„ä¸ä¸€è‡´ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜ä¸ºè¿™ä¸¤ä¸ªè¡¨çš„æ›´æ–°åŠ ä¸Šäº†æ•°æ®åº“äº‹åŠ¡ï¼Œç¡®ä¿ä¸»è¡¨å’Œæ—¥å¿—è¡¨çš„æ›´æ–°è¦ä¹ˆä¸€èµ·æˆåŠŸï¼Œè¦ä¹ˆä¸€èµ·å›æ»šï¼Œæœç»äº†éƒ¨åˆ†æˆåŠŸçš„æƒ…å†µã€‚</li>
</ul>
<p>å®Œæˆä¿®å¤åï¼Œæˆ‘ä»¬è¿›è¡Œäº†å¤šè½®æµ‹è¯•ã€‚é¦–å…ˆå•ç‹¬éªŒè¯æ‰¹é‡å†»ç»“/è§£å†»æ“ä½œï¼Œåœ¨æ•°æ®åº“çš„ä¸»è¡¨å’Œæ—¥å¿—è¡¨éƒ½èƒ½çœ‹åˆ°æ­£ç¡®æ›´æ–°ï¼›æ¥ç€æ¨¡æ‹ŸåŒæ­¥ä»»åŠ¡è¿è¡Œï¼Œç¡®è®¤æ‰¹é‡æ“ä½œåçš„èµ„æºçŠ¶æ€èƒ½è¢«å…¶ä»–æ¨¡å—æ­£ç¡®æ„ŸçŸ¥ã€‚ä¸€åˆ‡éªŒè¯é€šè¿‡åï¼Œè¡¥ä¸é¡ºåˆ©å‘å¸ƒï¼Œçº¿ä¸Šé—®é¢˜å¾—åˆ°è§£å†³ã€‚</p>
<h2>æ—¥å¿—é©±åŠ¨åŒæ­¥çš„å¸¸è§é£é™©</h2>
<p>è¿™ä¸ªæ¡ˆä¾‹å‡¸æ˜¾äº†æ—¥å¿—é©±åŠ¨åŒæ­¥æ¨¡å¼ä¸­å¸¸è§çš„é—®é¢˜ä¸æ³¨æ„äº‹é¡¹ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œå¸¸ç”¨ä¸€ç§åšæ³•æ˜¯ç”±ä¸€ä¸ªæ¨¡å—äº§ç”Ÿæ—¥å¿—ï¼ˆæˆ–äº‹ä»¶ï¼‰ï¼Œå…¶ä»–æ¨¡å—æ¶ˆè´¹æ—¥å¿—æ¥è¾¾åˆ°æ•°æ®åŒæ­¥çš„ç›®çš„ã€‚è¿™ç§æ¨¡å¼åŒ…å«ä»¥ä¸‹å…³é”®ç‚¹ï¼š
â€¢	æ—¥å¿—å³äº‹ä»¶æºï¼š æ—¥å¿—è®°å½•ä»£è¡¨äº†æ•°æ®å˜åŒ–çš„äº‹ä»¶æµï¼Œæ¶ˆè´¹æ–¹é€šè¿‡è¯»å–æ–°å¢çš„æ—¥å¿—æ¥æ„ŸçŸ¥å˜åŒ–ã€‚ä¼˜ç‚¹æ˜¯è§£è€¦ï¼Œæ¶ˆè´¹æ–¹æ— éœ€ç›´æ¥è®¿é—®ä¸»åº“å³å¯è·å–å˜æ›´ï¼Œæé«˜äº†å®‰å…¨æ€§å’Œæ•ˆç‡ã€‚
â€¢	ä¸€è‡´æ€§ä¾èµ–æ—¥å¿—å®Œæ•´æ€§ï¼š æ—¥å¿—å¿…é¡»å®Œæ•´ã€å‡†ç¡®åœ°è®°å½•æ¯ä¸€æ¬¡çŠ¶æ€å˜æ›´ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ¶ˆè´¹æ–¹ä¸å®é™…çŠ¶æ€ä¸ä¸€è‡´ã€‚æ¼è®°ä¸€æ¡æ—¥å¿—ï¼Œåœ¨æ¶ˆè´¹æ–¹çœ‹æ¥å°±ç­‰äºæ¼æ‰äº†ä¸€æ¬¡çŠ¶æ€æ›´æ–°äº‹ä»¶ã€‚
â€¢	åŒå†™åŸå­æ€§ï¼š å¦‚æœä¸»æ•°æ®æ›´æ–°å’Œæ—¥å¿—è®°å½•æ— æ³•åœ¨åŒä¸€äº‹åŠ¡ä¸­å®Œæˆï¼Œå°±å­˜åœ¨ä¸­é—´çŠ¶æ€ä¸ä¸€è‡´çš„é£é™©ã€‚å¿…é¡»é€šè¿‡ä»£ç æ§åˆ¶ã€é‡è¯•æœºåˆ¶æˆ–äº‹åŠ¡æœºåˆ¶ï¼ˆå¦‚å°†æ—¥å¿—å†™å…¥å’ŒçŠ¶æ€æ›´æ–°æ”¾åœ¨åŒä¸€æ•°æ®åº“äº‹åŠ¡ï¼Œæˆ–è€…ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—äº‹åŠ¡æ¶ˆæ¯ï¼‰æ¥ä¿è¯ä¸¤è€…è¦ä¹ˆéƒ½æˆåŠŸè¦ä¹ˆéƒ½å¤±è´¥ã€‚
â€¢	æ•…éšœæ¢å¤ï¼š å³ä½¿åšåˆ°ä»¥ä¸Šä¸¤ç‚¹ï¼Œä¹Ÿéœ€è¦è€ƒè™‘æ—¥å¿—é©±åŠ¨åŒæ­¥ä¸­çš„æ•…éšœåœºæ™¯ã€‚ä¾‹å¦‚ï¼Œæ¶ˆè´¹æ–¹å¯èƒ½ä¸€æ®µæ—¶é—´æ— æ³•å¤„ç†æ—¥å¿—ï¼Œæ¢å¤åéœ€è¦æœ‰èƒ½åŠ›è¡¥æ¶ˆè´¹ä¹‹å‰æ¼æ‰çš„æ—¥å¿—ï¼›æˆ–è€…ä¸»åº“å’Œæ—¥å¿—é•¿æ—¶é—´ä¸ä¸€è‡´æ—¶ï¼Œéœ€è¦æœ‰æ ¡éªŒå·¥å…·èƒ½å¤Ÿæ‰«æä¸»è¡¨å’Œæ—¥å¿—è¡¨ï¼Œæ‰¾å‡ºå·®å¼‚å¹¶ä¿®æ­£ï¼ˆè¿™ç±»ä¼¼æˆ‘ä»¬å¯¹å†å²æ•°æ®è¡¥å½•æ—¥å¿—çš„è¿‡ç¨‹ï¼‰ã€‚</p>
<p>æ—¥å¿—é©±åŠ¨çš„æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æœ€ç»ˆä¸€è‡´æ€§æ–¹æ¡ˆï¼šå…è®¸ä¸åŒç»„ä»¶æš‚æ—¶ä¸ä¸€è‡´ï¼Œä½†é€šè¿‡æ—¥å¿—ä¼ æ’­æœ€ç»ˆè¾¾åˆ°ä¸€è‡´ã€‚åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œå®ƒå¸¸è§äºäº‹ä»¶æº¯æºã€å˜æ›´è®¢é˜…ã€åˆ†å¸ƒå¼ç¼“å­˜åˆ·æ–°ç­‰åœºæ™¯ã€‚ä¸è¿‡ï¼Œæ­¤æ¨¡å¼ç»™å¼€å‘æå‡ºäº†æ›´ä¸¥æ ¼çš„è¦æ±‚â€”â€”ç¡®ä¿æ—¥å¿—æ­£ç¡®è®°å½•æ‰€æœ‰äº‹ä»¶ä¸”ä¸é‡ä¸æ¼ã€‚ä¸€æ—¦æ—¥å¿—æœºåˆ¶å‡ºç°çº°æ¼ï¼Œå°±ä¼šç›´æ¥å¯¼è‡´çŠ¶æ€åŒæ­¥åå·®ã€‚å› æ­¤ï¼Œè®¾è®¡è¿™ç±»ç³»ç»Ÿæ—¶éœ€è¦å‘¨å…¨çš„è€ƒè™‘å’Œå¤§é‡çš„æµ‹è¯•æ¥éªŒè¯æ—¥å¿—åŒæ­¥çš„å¯é æ€§ã€‚</p>
<h2>æ‰¹é‡æ“ä½œä¸€è‡´æ€§è®¾è®¡è¦ç‚¹</h2>
<p>æ‰¹é‡æ“ä½œåœ¨ç³»ç»Ÿè®¾è®¡ä¸­ä¹Ÿæœ‰ä¸€äº›ç‰¹åˆ«éœ€è¦æ³¨æ„çš„ä¸€è‡´æ€§é—®é¢˜ã€‚æ‰¹é‡æ›´æ–°å¾€å¾€æ¶‰åŠå¯¹å¤šæ¡æ•°æ®çš„æ”¹åŠ¨ï¼Œå¦‚æœä¸èƒ½ä¿è¯ä¸€è‡´çš„æˆåŠŸæˆ–å¤±è´¥ï¼Œå¾ˆå®¹æ˜“é€ æˆéƒ¨åˆ†æˆåŠŸçš„å°´å°¬å±€é¢ã€‚ç»“åˆæœ¬æ¬¡ç»éªŒå’Œå¸¸è§çš„å®è·µï¼Œæ‰¹é‡æ“ä½œè¦ä¿è¯ä¸€è‡´æ€§åº”è€ƒè™‘ä»¥ä¸‹è¦ç‚¹ï¼š
â€¢	åŸå­æ€§ï¼ˆAll or Nothingï¼‰ï¼š å°½å¯èƒ½ä½¿ç”¨äº‹åŠ¡æˆ–å…¶ä»–æœºåˆ¶ç¡®ä¿æ‰¹é‡ä¸­å„å­æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆè¦ä¹ˆå…¨éƒ¨å–æ¶ˆã€‚è¿™æ ·å¯ä»¥é¿å…å‡ºç°åªå†»ç»“äº†ä¸€éƒ¨åˆ†èµ„æºè€Œå¦ä¸€äº›æœªå†»ç»“çš„æƒ…å†µï¼ˆé™¤éä¸šåŠ¡å…è®¸éƒ¨åˆ†æˆåŠŸï¼‰ã€‚
â€¢	é‡è¯•ä¸å¹‚ç­‰ï¼š æ‰¹é‡æ“ä½œé€šå¸¸æ‰§è¡Œé‡å¤§ï¼Œå‡ºé”™æ¦‚ç‡ä¹Ÿç›¸å¯¹æ›´é«˜ã€‚å¦‚æœæ‰¹é‡è¿‡ç¨‹ä¸­æŸä¸ªå­æ“ä½œå¤±è´¥ï¼Œç³»ç»Ÿåº”æ”¯æŒé‡è¯•å¤±è´¥éƒ¨åˆ†ã€‚åŒæ—¶ï¼Œè¦è®¾è®¡æ“ä½œä¸ºå¹‚ç­‰çš„ï¼Œä»¥ä¾¿é‡å¤æ‰§è¡Œä¸ä¼šå¼•å…¥ä¸ä¸€è‡´ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æ ¹æ®èµ„æºå½“å‰çŠ¶æ€å†³å®šæ˜¯å¦éœ€è¦å†æ¬¡å†»ç»“ï¼Œç¡®ä¿é‡å¤å†»ç»“ä¸ä¼šæ”¹å˜æœ€ç»ˆç»“æœã€‚
â€¢	ä»£ç è·¯å¾„ç»Ÿä¸€ï¼š æ­£å¦‚æˆ‘ä»¬ä¿®å¤æ—¶æ‰€åšçš„ï¼Œå¤ç”¨å•æ¡æ“ä½œçš„é€»è¾‘å¯ä»¥å‡å°‘é—æ¼ã€‚å¦‚æœæ‰¹é‡å’Œå•æ¡æ“ä½œå…±äº«åŒä¸€å®ç°ï¼Œèƒ½ä¿è¯ä»–ä»¬éµå¾ªç›¸åŒçš„ä¸šåŠ¡è§„åˆ™å’Œæ•°æ®æ›´æ–°æ­¥éª¤ï¼Œé¿å…å› ä¸ºä¸¤å¥—å®ç°ç»†å¾®å·®å¼‚å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´ã€‚
â€¢	æ€§èƒ½ä¸ä¸€è‡´æ€§å¹³è¡¡ï¼š æ‰¹é‡æ“ä½œæœ‰æ—¶ä¸ºäº†æ€§èƒ½ä¼šåˆ†æ‰¹æ¬¡å¤„ç†æˆ–è€…å¼‚æ­¥å¤„ç†ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦è®¾è®¡å¥½æ¯æ‰¹æ¬¡ä¹‹é—´çš„éš”ç¦»å’Œæäº¤ç­–ç•¥ï¼Œé˜²æ­¢æ‰¹æ¬¡ä¹‹é—´æ•°æ®ä¾èµ–é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæ‰¹é‡å†»ç»“1000æ¡ï¼Œå¯ä»¥æ¯100æ¡ä¸€ä¸ªäº‹åŠ¡ï¼Œä½†è¦é˜²æ­¢å‰ä¸€æ‰¹æäº¤ååä¸€æ‰¹æœªæäº¤æ—¶ç³»ç»Ÿè¯»å–åˆ°åŠæˆå“ç»“æœã€‚å¦‚æœæ— æ³•é¿å…ï¼Œåˆ™éœ€è¦åœ¨æ›´é«˜å±‚æ¬¡ä»¥â€œä»»åŠ¡â€ä½œä¸ºå•ä½è¿›è¡Œéš”ç¦»ï¼Œåœ¨æ•´ä¸ªæ‰¹é‡ä»»åŠ¡å®Œæˆå‰å¯¹å¤–è¡¨ç°ä¸ºè¿›è¡Œä¸­çŠ¶æ€ã€‚
â€¢	æ—¥å¿—ä¸ç›‘æ§ï¼š æ‰¹é‡æ“ä½œæ¶‰åŠèŒƒå›´å¤§ï¼Œä¸€æ—¦å‡ºé—®é¢˜å½±å“é¢å¹¿ã€‚å› æ­¤è¦æœ‰è‰¯å¥½çš„æ—¥å¿—è®°å½•æ¯ä¸ªæ‰¹æ¬¡ã€æ¯ä¸ªå­é¡¹çš„å¤„ç†ç»“æœï¼Œå¹¶ç»“åˆç›‘æ§åŠæ—¶å‘ç°å¼‚å¸¸æƒ…å†µã€‚æ¯”å¦‚æ‰¹é‡å†»ç»“åº”è®°å½•å†»ç»“äº†å“ªäº›èµ„æºï¼Œå“ªäº›æˆåŠŸå“ªäº›å¤±è´¥ï¼Œè€—æ—¶å¤šå°‘ç­‰ï¼Œæ–¹ä¾¿å‡ºé—®é¢˜æ—¶å¿«é€Ÿå®šä½å’Œè¡¥æ•‘ã€‚</p>
<p>é€šè¿‡éµå¾ªè¿™äº›è¦ç‚¹ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ‰¹é‡æ“ä½œæ—¶å°±èƒ½é¢„å…ˆè€ƒè™‘ä¸€è‡´æ€§é—®é¢˜ï¼Œå‡å°‘ç±»ä¼¼æœ¬æ¬¡äº‹æ•…çš„å‘ç”Ÿæ¦‚ç‡ã€‚</p>
<h2>ç¤ºä¾‹ï¼šPython å®ç°æ‰¹é‡çŠ¶æ€æ›´æ–°ä¸æ—¥å¿—è®°å½•</h2>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å±•ç¤ºä¸Šè¿°é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€åŒ–çš„ Python ç¤ºä¾‹æ¥æ¨¡æ‹Ÿæ‰¹é‡çŠ¶æ€æ›´æ–°çš„è¿‡ç¨‹ã€‚å‡è®¾æœ‰ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼šstate_table ç”¨äºä¿å­˜èµ„æºçš„å½“å‰çŠ¶æ€ï¼Œlog_table ç”¨äºè®°å½•æ“ä½œæ—¥å¿—ã€‚çŠ¶æ€ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œ&quot;active&quot; è¡¨ç¤ºç”Ÿæ•ˆï¼Œ&quot;frozen&quot; è¡¨ç¤ºå†»ç»“ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®ç°å•ä¸ªèµ„æºçš„å†»ç»“å‡½æ•°å’Œä¸å®Œå–„çš„æ‰¹é‡å†»ç»“å‡½æ•°ï¼š</p>
<blockquote><code># å®šä¹‰ç¤ºä¾‹æ•°æ®è¡¨</code><br>
<code>state_table = {</code><br>
<code>    &quot;A&quot;: &quot;active&quot;,</code><br>
<code>    &quot;B&quot;: &quot;active&quot;,</code><br>
<code>    &quot;C&quot;: &quot;active&quot;,</code><br>
<code>}</code><br>
<code>log_table = []  # æ—¥å¿—è¡¨å¼€å§‹æ—¶ä¸ºç©º</code><br>
<code></code><br>
<code># ... (17 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>ä½¿ç”¨ä¸Šè¿°å‡½æ•°ï¼Œå‡è®¾æˆ‘ä»¬å†»ç»“èµ„æº Aï¼Œä»¥åŠæ‰¹é‡å†»ç»“èµ„æº B å’Œ Cï¼š</p>
<blockquote><code># å†»ç»“å•ä¸ªèµ„æºA</code><br>
<code>freeze_single(&quot;A&quot;, operator=&quot;User1&quot;)</code><br>
<code># æ‰¹é‡å†»ç»“èµ„æºBå’ŒC</code><br>
<code>freeze_batch([&quot;B&quot;, &quot;C&quot;], operator=&quot;User1&quot;)</code><br>
<code></code><br>
<code>print(state_table)  # æŸ¥çœ‹ä¸»çŠ¶æ€è¡¨</code><br>
<code>print(log_table)    # æŸ¥çœ‹æ—¥å¿—è¡¨</code></blockquote><p>è¾“å‡ºç»“æœï¼š</p>
<blockquote><code>{&#039;A&#039;: &#039;frozen&#039;, &#039;B&#039;: &#039;frozen&#039;, &#039;C&#039;: &#039;frozen&#039;}</code><br>
<code>[{&#039;resource&#039;: &#039;A&#039;, &#039;action&#039;: &#039;freeze&#039;, &#039;operator&#039;: &#039;User1&#039;}]</code></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸»çŠ¶æ€è¡¨ä¸­Aã€Bã€Cä¸‰ä¸ªèµ„æºéƒ½è¢«æ ‡è®°ä¸º&quot;frozen&quot;ï¼Œä½†æ˜¯æ—¥å¿—è¡¨ä¸­åªæœ‰Açš„å†»ç»“æ“ä½œè®°å½•ï¼Œè€Œæ²¡æœ‰Bã€Cçš„è®°å½•ã€‚è¿™å°±ç±»ä¼¼äºæˆ‘ä»¬é‡åˆ°çš„é—®é¢˜åœºæ™¯ï¼šæ‰¹é‡å†»ç»“æ›´æ–°äº†çŠ¶æ€ï¼Œä½†å¿˜è®°è®°å½•æ—¥å¿—ã€‚å‡å¦‚ç³»ç»Ÿçš„å…¶ä»–ç»„ä»¶ä¾èµ–æ‰«ælog_tableæ¥æ„ŸçŸ¥çŠ¶æ€å˜åŒ–ï¼Œé‚£ä¹ˆå®ƒä»¬åªä¼šçŸ¥é“Aè¢«å†»ç»“äº†ï¼Œå®Œå…¨å¯Ÿè§‰ä¸åˆ°Bå’ŒCçš„å†»ç»“ã€‚è¿™å°†å¯¼è‡´Bå’ŒCåœ¨åˆ«çš„æ¨¡å—ä»è¢«è§†ä¸ºâ€œactiveâ€ï¼Œé€ æˆæ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™æ”¹è¿›çš„æ‰¹é‡å†»ç»“å‡½æ•°ï¼Œç¡®ä¿æ¯ä¸ªèµ„æºçš„çŠ¶æ€æ›´æ–°å’Œæ—¥å¿—è®°å½•åŒæ—¶è¿›è¡Œï¼Œå¹¶åˆ©ç”¨Pythonçš„å¼‚å¸¸å¤„ç†æ¥æ¨¡æ‹Ÿäº‹åŠ¡å›æ»šæœºåˆ¶ï¼š</p>
<blockquote><code># æ”¹è¿›çš„æ‰¹é‡å†»ç»“ï¼Œå¢åŠ æ—¥å¿—è®°å½•å’Œç®€å•çš„äº‹åŠ¡æœºåˆ¶</code><br>
<code>def freeze_batch_with_log(resources, operator):</code><br>
<code>    # å¤‡ä»½åŸå§‹çŠ¶æ€ï¼Œä»¥å¤‡å›æ»š</code><br>
<code>    original_states = {}</code><br>
<code>    try:</code><br>
<code>        for res in resources:</code><br>
<code>            # å¤‡ä»½çŠ¶æ€</code><br>
<code>            original_states[res] = state_table[res]</code><br>
<code># ... (20 more lines)</code></blockquote>
<p><em>Full code available in the <a href="https://github.com/geyuxu">GitHub repository</a>.</em></p><p>è¿™æ®µä»£ç ä¸­ï¼Œfreeze_batch_with_log å‡½æ•°ä¼šå¯¹ä¼ å…¥çš„æ¯ä¸ªèµ„æºæ‰§è¡Œå†»ç»“ï¼Œå¹¶å†™æ—¥å¿—ã€‚ä¸€æ—¦æŸä¸ªèµ„æºå¤„ç†æŠ¥é”™ï¼Œæˆ‘ä»¬åœ¨exceptä¸­å°†å·²ç»å¤„ç†è¿‡çš„èµ„æºçŠ¶æ€æ¢å¤åŸæ ·ï¼Œå¹¶æ’¤é”€å®ƒä»¬å¯¹åº”çš„æ—¥å¿—è®°å½•ï¼Œä»è€Œä¿è¯æ•´ä¸ªæ‰¹é‡æ“ä½œå¯¹å¤–â€œæ²¡å‘ç”Ÿè¿‡â€ï¼ˆå³åŸå­æ€§ï¼‰ã€‚ä¸Šè¿°ä»£ç é‡Œæˆ‘ä»¬ç‰¹æ„åœ¨å¤„ç†èµ„æºCæ—¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ¥æ¨¡æ‹Ÿä¸­é€”å‡ºé”™çš„æƒ…å†µã€‚</p>
<p>ç°åœ¨é‡ç½®æ•°æ®ï¼Œå¹¶å°è¯•ä½¿ç”¨æ”¹è¿›åçš„å‡½æ•°å†»ç»“Bå’ŒCï¼š</p>
<blockquote><code># é‡ç½®çŠ¶æ€</code><br>
<code>state_table = {&quot;A&quot;: &quot;frozen&quot;, &quot;B&quot;: &quot;active&quot;, &quot;C&quot;: &quot;active&quot;}</code><br>
<code>log_table = [{&quot;resource&quot;: &quot;A&quot;, &quot;action&quot;: &quot;freeze&quot;, &quot;operator&quot;: &quot;User1&quot;}]</code><br>
<code></code><br>
<code># å°è¯•æ‰¹é‡å†»ç»“Bå’ŒCï¼ŒæœŸé—´æ¨¡æ‹Ÿå‡ºé”™</code><br>
<code>freeze_batch_with_log([&quot;B&quot;, &quot;C&quot;], operator=&quot;User1&quot;)</code><br>
<code></code><br>
<code>print(state_table)  # æŸ¥çœ‹ä¸»çŠ¶æ€è¡¨</code><br>
<code>print(log_table)    # æŸ¥çœ‹æ—¥å¿—è¡¨</code></blockquote><p>è¾“å‡ºç»“æœå¯èƒ½å¦‚ä¸‹ï¼š</p>
<blockquote><code>Error during batch operation: Failed to freeze C</code><br>
<code>{&#039;A&#039;: &#039;frozen&#039;, &#039;B&#039;: &#039;active&#039;, &#039;C&#039;: &#039;active&#039;}</code><br>
<code>[{&#039;resource&#039;: &#039;A&#039;, &#039;action&#039;: &#039;freeze&#039;, &#039;operator&#039;: &#039;User1&#039;}]</code></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œå°½ç®¡åœ¨å†»ç»“Cæ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé”™è¯¯è¢«æ•è·å¹¶è§¦å‘äº†å›æ»šæœºåˆ¶ã€‚æœ€ç»ˆä¸»çŠ¶æ€è¡¨ä¸­Bä»ä¿æŒä¸º&quot;active&quot;ï¼ŒCä¹Ÿæ˜¯&quot;active&quot;ï¼ˆæ‰¹é‡æ“ä½œå‰çš„çŠ¶æ€ï¼‰ï¼Œæ—¥å¿—è¡¨ä¹Ÿæ²¡æœ‰ç•™ä¸‹Bæˆ–Cçš„æ®‹ç•™æ—¥å¿—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ¬¡æ‰¹é‡å†»ç»“æ“ä½œå¯¹Aã€Bã€Cçš„æœ€ç»ˆçŠ¶æ€æ²¡æœ‰é€ æˆå½±å“â€”â€”è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼ˆå¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿï¼‰ï¼Œè¦ä¹ˆåœ¨å‡ºé”™åå®Œå…¨å›åˆ°åˆå§‹çŠ¶æ€ã€‚è¿™å®ç°äº†æ‰¹é‡æ“ä½œçš„åŸå­æ€§ã€‚å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¼šåˆ©ç”¨æ•°æ®åº“äº‹åŠ¡æˆ–æ›´å¥å£®çš„æœºåˆ¶æ¥å®ç°è¿™ç§åŸå­æ€§ä¿éšœï¼Œè¿™é‡Œç”¨Pythonä»£ç åšäº†ä¸€ä¸ªå½¢è±¡çš„æ¼”ç¤ºã€‚</p>
<p>é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬ç›´è§‚åœ°çœ‹åˆ°ä¿æŒçŠ¶æ€è¡¨å’Œæ—¥å¿—è¡¨åŒæ­¥æ›´æ–°ä»¥åŠä¿è¯æ‰¹æ“ä½œåŸå­æ€§çš„é‡è¦æ€§ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¿™ç§ç»†èŠ‚å†³å®šäº†å„ç»„ä»¶è®¤çŸ¥çš„ä¸€è‡´æ€§ï¼Œç¨æœ‰ä¸æ…å°±ä¼šåŸ‹ä¸‹éšæ‚£ã€‚</p>
<h2>ç»“è¯­</h2>
<p>è¿™æ¬¡æ‰¹é‡çŠ¶æ€åŒæ­¥ç¼ºé™·çš„ç»å†æé†’æˆ‘ä»¬ï¼šé­”é¬¼è—åœ¨ç»†èŠ‚é‡Œã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ•°æ®çš„ä¸€è‡´æ€§å¾€å¾€æ¯”åŠŸèƒ½æœ¬èº«æ›´å…·æŒ‘æˆ˜ã€‚å½“æˆ‘ä»¬å¼•å…¥æ–°åŠŸèƒ½ï¼ˆæ¯”å¦‚æ‰¹é‡æ“ä½œï¼‰æˆ–é‡‡ç”¨æ–°æ¶æ„ï¼ˆæ¯”å¦‚æ—¥å¿—é©±åŠ¨åŒæ­¥ï¼‰æ—¶ï¼Œéœ€è¦ä»å…¨å±€è§†è§’å»è€ƒè™‘æ•°æ®æµè½¬å’ŒçŠ¶æ€åŒæ­¥ï¼Œç¡®ä¿æ¯ä¸€æ­¥éƒ½ä¸¥è°¨å¯é ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œä¸€æ–¹é¢è¦å¼ºåŒ–å¼€å‘æµç¨‹ä¸­çš„å®¡æŸ¥å’Œæµ‹è¯•ï¼Œå¯¹å¯èƒ½å½±å“æ•°æ®ä¸€è‡´æ€§çš„æ”¹åŠ¨è¿›è¡Œé‡ç‚¹å…³æ³¨ï¼›å¦ä¸€æ–¹é¢ï¼Œåœ¨æ¶æ„è®¾è®¡ä¸Šä¹Ÿåº”å°½é‡é¿å…è®©ç³»ç»ŸçŠ¶æ€æ•£è½åœ¨å¤šä¸ªæ¥æºè€Œç¼ºä¹ç»Ÿä¸€æ ¡éªŒæœºåˆ¶ã€‚å¦‚æœä¸å¾—ä¸å¦‚æ­¤ï¼ˆä¾‹å¦‚ä¸ºäº†æ€§èƒ½å’Œè§£è€¦éœ€è¦æ‹†åˆ†ä¸»æ•°æ®å’Œæ—¥å¿—ï¼‰ï¼Œé‚£å°±åŠ¡å¿…åœ¨å®ç°ä¸Šä¿è¯å¼ºä¸€è‡´æˆ–æä¾›è‡ªæˆ‘ä¿®å¤èƒ½åŠ›ï¼ˆå¦‚å®šæœŸå¯¹è´¦æ ¡éªŒï¼‰ã€‚</p>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿçš„é«˜å¯ç”¨å’Œé«˜æ€§èƒ½å¸¸å¸¸éœ€è¦åœ¨ä¸€è‡´æ€§ä¸Šåšå‡ºæƒè¡¡ï¼Œä½†æ­£å¦‚è¿™æ¬¡äº‹ä»¶ï¼Œæˆ‘ä»¬å®å¯äº‹å…ˆå¤šèŠ±äº›å¿ƒæ€ï¼Œä¹Ÿä¸æƒ³äº‹åç–²äºæ•‘ç«ã€‚å¸Œæœ›è¿™æ¬¡åˆ†äº«çš„æ¡ˆä¾‹å’Œæ€è€ƒèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¯å‘ï¼Œåœ¨ä»Šåçš„ç³»ç»Ÿè®¾è®¡ä¸å®ç°ä¸­å°‘è¸©å‘ï¼Œæ›´ä»å®¹åœ°ä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚</p>

    </article>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
<script>
Prism.highlightAll();
document.querySelectorAll('article pre').forEach(pre => {
    const code = pre.querySelector('code');
    if (!code) return;
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.onclick = () => {
        navigator.clipboard.writeText(code.textContent).then(() => {
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    };
    toolbar.appendChild(btn);
    pre.parentNode.insertBefore(toolbar, pre);
});
</script>
</body>
</html>