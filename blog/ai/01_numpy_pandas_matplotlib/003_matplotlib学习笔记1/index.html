<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Ge Yuxu Blog" href="https://geyuxu.com/rss.xml"><meta name="generator" content="Astro v5.5.6"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://geyuxu.com/blog/ai/01_numpy_pandas_matplotlib/003_matplotlib%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/"><!-- Primary Meta Tags --><title>matplotlib学习笔记1</title><meta name="title" content="matplotlib学习笔记1"><meta name="description"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://geyuxu.com/blog/ai/01_numpy_pandas_matplotlib/003_matplotlib%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/"><meta property="og:title" content="matplotlib学习笔记1"><meta property="og:description"><meta property="og:image" content="https://geyuxu.com/blog-placeholder-1.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://geyuxu.com/blog/ai/01_numpy_pandas_matplotlib/003_matplotlib%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/"><meta property="twitter:title" content="matplotlib学习笔记1"><meta property="twitter:description"><meta property="twitter:image" content="https://geyuxu.com/blog-placeholder-1.jpg"><style>.content[data-astro-cid-7jjqptxk]{max-width:720px;margin:0 auto;padding:2rem 1rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;font-size:1.05rem;line-height:1.75;color:#333}.content[data-astro-cid-7jjqptxk] h1[data-astro-cid-7jjqptxk],.content[data-astro-cid-7jjqptxk] h2[data-astro-cid-7jjqptxk],.content[data-astro-cid-7jjqptxk] h3[data-astro-cid-7jjqptxk]{font-weight:600;margin-top:2rem;margin-bottom:1rem;line-height:1.3}.content[data-astro-cid-7jjqptxk] p[data-astro-cid-7jjqptxk]{margin-bottom:1.25rem}.content[data-astro-cid-7jjqptxk] a[data-astro-cid-7jjqptxk]{color:var(--accent, #0070f3);text-decoration:underline}.content[data-astro-cid-7jjqptxk] img[data-astro-cid-7jjqptxk]{max-width:100%;border-radius:6px;margin:1.5rem 0}.content[data-astro-cid-7jjqptxk] pre[data-astro-cid-7jjqptxk],.content[data-astro-cid-7jjqptxk] code[data-astro-cid-7jjqptxk]{font-family:Menlo,Monaco,Consolas,Courier New,monospace;background:#f4f4f4;padding:.2em .4em;border-radius:4px}.content[data-astro-cid-7jjqptxk] pre[data-astro-cid-7jjqptxk]{padding:1em;overflow-x:auto}
:root{--accent: #2337ff;--accent-dark: #000d8a;--black: 15, 18, 25;--gray: 96, 115, 159;--gray-light: 229, 233, 240;--gray-dark: 34, 41, 57;--gray-gradient: rgba(var(--gray-light), 50%), #fff;--box-shadow: 0 2px 6px rgba(var(--gray), 25%), 0 8px 24px rgba(var(--gray), 33%), 0 16px 32px rgba(var(--gray), 33%)}@font-face{font-family:Atkinson;src:url(/fonts/atkinson-regular.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Atkinson;src:url(/fonts/atkinson-bold.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}body{font-family:Atkinson,sans-serif;margin:0;padding:0;text-align:left;background:linear-gradient(var(--gray-gradient)) no-repeat;background-size:100% 600px;word-wrap:break-word;overflow-wrap:break-word;color:rgb(var(--gray-dark));font-size:20px;line-height:1.7}main{width:720px;max-width:calc(100% - 2em);margin:auto;padding:3em 1em}h1,h2,h3,h4,h5,h6{margin:0 0 .5rem;color:rgb(var(--black));line-height:1.2}h1{font-size:3.052em}h2{font-size:2.441em}h3{font-size:1.953em}h4{font-size:1.563em}h5{font-size:1.25em}strong,b{font-weight:700}a,a:hover{color:var(--accent)}p{margin-bottom:1em}.prose p{margin-bottom:2em}textarea{width:100%;font-size:16px}input{font-size:16px}table{width:100%}img{max-width:100%;height:auto;border-radius:8px}code{padding:2px 5px;background-color:rgb(var(--gray-light));border-radius:2px}pre{padding:1.5em;border-radius:8px}pre>code{all:unset}blockquote{border-left:4px solid var(--accent);padding:0 0 0 20px;margin:0;font-size:1.333em}hr{border:none;border-top:1px solid rgb(var(--gray-light))}@media (max-width: 720px){body{font-size:18px}main{padding:1em}}.sr-only{border:0;padding:0;margin:0;position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:inset(50%);white-space:nowrap}
a[data-astro-cid-eimmu3lg]{display:inline-block;text-decoration:none}a[data-astro-cid-eimmu3lg].active{font-weight:bolder;text-decoration:underline}header[data-astro-cid-3ef6ksr2]{margin:0;padding:0 1em;background:#fff;box-shadow:0 2px 8px rgba(var(--black),5%)}h2[data-astro-cid-3ef6ksr2]{margin:0;font-size:1em}h2[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2],h2[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2].active{text-decoration:none}nav[data-astro-cid-3ef6ksr2]{display:flex;align-items:center;justify-content:space-between}nav[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{padding:1em .5em;color:var(--black);border-bottom:4px solid transparent;text-decoration:none}nav[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2].active{text-decoration:none;border-bottom-color:var(--accent)}.social-links[data-astro-cid-3ef6ksr2],.social-links[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{display:flex}@media (max-width: 720px){.social-links[data-astro-cid-3ef6ksr2]{display:none}}footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;background:linear-gradient(var(--gray-gradient)) no-repeat;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}
main[data-astro-cid-bvzihdzo]{width:calc(100% - 2em);max-width:100%;margin:0}.hero-image[data-astro-cid-bvzihdzo]{width:100%}.hero-image[data-astro-cid-bvzihdzo] img[data-astro-cid-bvzihdzo]{display:block;margin:0 auto;border-radius:12px;box-shadow:var(--box-shadow)}.prose[data-astro-cid-bvzihdzo]{width:720px;max-width:calc(100% - 2em);margin:auto;padding:1em;color:rgb(var(--gray-dark))}.title[data-astro-cid-bvzihdzo]{margin-bottom:1em;padding:1em 0;text-align:center;line-height:1}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{margin:0 0 .5em}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em;color:rgb(var(--gray))}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}
</style></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Ge Yuxu Blog</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> Home </a>  <a href="/blog" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> Blog </a>  <a href="/series" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> Series </a>  <a href="/projects" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> Projects </a>  <!-- <HeaderLink href="/about">About</HeaderLink> --> </div> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://github.com/geyuxu" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Go to Ge Yuxu's GitHub repo</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path></svg> </a> <a href="https://www.linkedin.com/in/geyuxu/" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Go to Ge Yuxu's LinkedIn profile</span> <svg viewBox="0 0 24 24" width="32" height="32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M20.447 20.452H17.2v-5.569c0-1.328-.025-3.039-1.852-3.039-1.853 0-2.136 1.447-2.136 2.942v5.666h-3.248V9h3.122v1.561h.045c.435-.823 1.498-1.688 3.083-1.688 3.295 0 3.903 2.17 3.903 4.989v6.59zM5.337 7.433a1.882 1.882 0 110-3.764 1.882 1.882 0 010 3.764zm1.626 13.019H3.708V9h3.255v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451C23.2 24 24 23.226 24 22.271V1.729C24 .774 23.2 0 22.222 0z" data-astro-cid-3ef6ksr2></path> </svg> </a> </div> </nav> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="prose" data-astro-cid-bvzihdzo> <!--
					<div class="title">
						<div class="date">
							<FormattedDate date={pubDate} />
							{
								updatedDate && (
									<div class="last-updated-on">
										Last updated on <FormattedDate date={updatedDate} />
									</div>
								)
							}
						</div>
						<h1>{title}</h1>
						<hr /> 
					</div>
					-->  <article class="content" data-astro-cid-7jjqptxk> <h1 id="matplotlib学习笔记1">matplotlib学习笔记1</h1>
<p>Matplotlib 是 Python 强大的绘图库之一，可以用简单的代码绘制出精美的图表。很多人第一次接触 Matplotlib 可能会觉得参数很多、不知从何下手。其实，画图就像做菜，数据是原料，Matplotlib 提供的各种函数和参数就像调味料和摆盘工具，我们可以根据需要一步步“烹饪”出可口的图表。本篇笔记旨在通过实例演示 Matplotlib 基础绘图的常用技巧，包括画线、设置样式、添加图例、调整坐标轴、标注特殊点，以及创建多窗口子图和布局等。风格上力求通俗易懂，带着一点“下厨”的比喻，希望能让初中高级程序员都轻松上手 Matplotlib。</p>
<h2 id="一基础绘图">一、基础绘图</h2>
<p>首先，我们从最基本的折线图开始。假设我们想绘制几个正弦函数曲线，例如 \sin(x)、\cos(x) 和 \sin(2x)，以此熟悉 Matplotlib 画线的基本用法和样式设置。准备好数据后，只需调用 plt.plot(x, y) 就能画出曲线，默认情况下 Matplotlib 会将数据点顺次连成线并显示。下面的代码生成了 -π 到 π 范围内的 1000 个点，并计算上述三个函数的取值，然后使用 plt.plot 依次绘制三条曲线，并通过参数定制每条线的外观：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> numpy </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> np</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> matplotlib.pyplot </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> plt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 准备数据：x 为 -π 到 π 的等间隔点，计算 sinx、cosx、sin2x 三个函数值</span></span>
<span class="line"><span style="color:#E1E4E8">x </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> np.linspace(</span><span style="color:#F97583">-</span><span style="color:#E1E4E8">np.pi, np.pi, </span><span style="color:#79B8FF">1000</span><span style="color:#E1E4E8">)    </span><span style="color:#6A737D"># 生成 -π 到 π 区间的 1000 个点</span></span>
<span class="line"><span style="color:#E1E4E8">sinx </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> np.sin(x)                        </span><span style="color:#6A737D"># sin(x) 数组</span></span>
<span class="line"><span style="color:#E1E4E8">cosx </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> np.cos(x)                        </span><span style="color:#6A737D"># cos(x) 数组</span></span>
<span class="line"><span style="color:#E1E4E8">sin2x </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> np.sin(</span><span style="color:#79B8FF">2</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> x)                   </span><span style="color:#6A737D"># sin(2x) 数组</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 绘制三条曲线，并设置线型、颜色、透明度等属性</span></span>
<span class="line"><span style="color:#E1E4E8">plt.plot(x, sinx, </span><span style="color:#FFAB70">linestyle</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'-'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">color</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0.3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0.7</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0.1</span><span style="color:#E1E4E8">), </span><span style="color:#FFAB70">alpha</span><span style="color:#F97583">=</span><span style="color:#79B8FF">0.3</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">label</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'sinx'</span><span style="color:#E1E4E8">)     </span><span style="color:#6A737D"># 绿实线，30%不透明度</span></span>
<span class="line"><span style="color:#E1E4E8">plt.plot(x, cosx, </span><span style="color:#FFAB70">linestyle</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'-.'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">color</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'black'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">label</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'cosx'</span><span style="color:#E1E4E8">)                       </span><span style="color:#6A737D"># 黑色点划线</span></span>
<span class="line"><span style="color:#E1E4E8">plt.plot(x, sin2x, </span><span style="color:#FFAB70">linestyle</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'--'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">linewidth</span><span style="color:#F97583">=</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">color</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'#334455'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">label</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'sin2x'</span><span style="color:#E1E4E8">)      </span><span style="color:#6A737D"># 蓝灰色虚线，线宽3</span></span></code></pre>
<p>上面的代码绘制了三条函数曲线。plt.plot 是最基本的绘图命令，我们传入 x 和 y 数组即可绘制折线。我们还能通过可选参数调整线条样式：
•	linestyle 指定线型，比如 ’-’ 实线、’—’ 虚线、’-.’ 点划线、’:’ 点线等。
•	color 可以接受颜色名称（如 ‘black’、‘red’）、十六进制颜色码（如 #334455），或 RGB 元组([0,1]区间)来定义颜色。
•	linewidth 调整线宽，默认值为 1，数值越大线越粗。
•	alpha 设置透明度，取值 0~1，0 表示完全透明，1 表示不透明。上例中将第一条 sin 曲线的 alpha 设为 0.3，让它变得半透明。
•	label 用于给曲线命名，稍后我们会用它生成图例。</p>
<p>短短几行代码，我们就“炒”出了三道数据曲线“大菜”。默认情况下，这些曲线会绘制在同一个坐标系中，不同颜色和线型让它们彼此区分开来。此时如果调用 plt.show()，Matplotlib 会弹出一个窗口显示我们绘制的图形。不过在展示最终效果之前，我们还需要进一步“调味”来美化图表。</p>
<p><img src="https://img.geyuxu.com/2025-04-23-210650jCCBPa.png" alt="image-20250423210648364"></p>
<p>如果一次绘制多条曲线，适当使用不同颜色、线型区分它们是必要的；当曲线较多或有重叠时，可以通过设置较高的透明度 (alpha 接近 1) 或降低透明度来更好地区分重叠区域。此外，提前为每条曲线指定 label，方便后续生成图例说明曲线含义。</p>
<h2 id="二坐标轴与刻度调整">二、坐标轴与刻度调整</h2>
<p>有了基本的曲线，我们通常需要对坐标轴和刻度进行调整，以使图表更加专业、美观。Matplotlib 会自动根据数据范围设置坐标轴的取值范围和刻度标记，但我们可以根据需求手动调整。</p>
<p>首先，如果我们只关心某一段区间的数据，可以通过 限制坐标轴范围 来“聚焦”关注点。例如，只想看 x 在 [0,π] 范围内、y 在 [0, 1.1] 的部分，可以这样设置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#E1E4E8">plt.xlim(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, np.pi)   </span><span style="color:#6A737D"># 将 x 轴显示范围限制在 0 到 π</span></span>
<span class="line"><span style="color:#E1E4E8">plt.ylim(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1.1</span><span style="color:#E1E4E8">)     </span><span style="color:#6A737D"># 将 y 轴显示范围限制在 0 到 1.1</span></span></code></pre>
<p>上述 plt.xlim 和 plt.ylim 会剪裁我们之前绘制的曲线，只显示指定的区间。在实际使用中，这种操作相当于给“镜头”拉近或移动焦点，让我们更专注于感兴趣的部分。不过在本例中，我们希望完整展示 $-π$ 到 $π$ 的曲线，因此不对坐标范围做裁剪。（注：如果已经设置了限制，移除或调整可以使用 plt.xlim(None, None) 恢复默认全范围。）</p>
<p><img src="https://img.geyuxu.com/2025-04-23-210728JVe74v.png" alt="image-20250423210727186"></p>
<p>接下来，我们来调整坐标轴的刻度和样式。默认的刻度往往是简单的数字，但对于数学函数而言，用 $\pi$ 等符号作为刻度标记会使图表更具可读性。下面的代码设置自定义的刻度位置和标签，并移动坐标轴位置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#6A737D"># 设置刻度位置和标签（包含 LaTeX 数学符号）</span></span>
<span class="line"><span style="color:#E1E4E8">plt.xticks([</span><span style="color:#F97583">-</span><span style="color:#E1E4E8">np.pi, </span><span style="color:#F97583">-</span><span style="color:#E1E4E8">np.pi</span><span style="color:#F97583">/</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, np.pi</span><span style="color:#F97583">/</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, np.pi],        </span><span style="color:#6A737D"># x轴刻度的位置</span></span>
<span class="line"><span style="color:#E1E4E8">           [</span><span style="color:#F97583">r</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">$</span><span style="color:#DBEDFF">-</span><span style="color:#85E89D;font-weight:bold">\p</span><span style="color:#DBEDFF">i</span><span style="color:#79B8FF">$</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">r</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">$</span><span style="color:#DBEDFF">-</span><span style="color:#85E89D;font-weight:bold">\f</span><span style="color:#DBEDFF">rac{</span><span style="color:#85E89D;font-weight:bold">\p</span><span style="color:#DBEDFF">i}</span><span style="color:#F97583">{2}</span><span style="color:#79B8FF">$</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">r</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">$</span><span style="color:#DBEDFF">0</span><span style="color:#79B8FF">$</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">r</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">$</span><span style="color:#85E89D;font-weight:bold">\f</span><span style="color:#DBEDFF">rac{</span><span style="color:#85E89D;font-weight:bold">\p</span><span style="color:#DBEDFF">i}</span><span style="color:#F97583">{2}</span><span style="color:#79B8FF">$</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">r</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">$</span><span style="color:#85E89D;font-weight:bold">\p</span><span style="color:#DBEDFF">i</span><span style="color:#79B8FF">$</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">],  </span><span style="color:#6A737D"># 对应标签</span></span>
<span class="line"><span style="color:#FFAB70">           fontsize</span><span style="color:#F97583">=</span><span style="color:#79B8FF">14</span><span style="color:#E1E4E8">)                                  </span><span style="color:#6A737D"># 刻度标签字体大小</span></span>
<span class="line"><span style="color:#E1E4E8">plt.yticks([</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">0.5</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0.5</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#FFAB70">fontsize</span><span style="color:#F97583">=</span><span style="color:#79B8FF">14</span><span style="color:#E1E4E8">)            </span><span style="color:#6A737D"># 设置y轴刻度及字体大小（标签使用默认数字）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 移动坐标轴位置，使原点居中</span></span>
<span class="line"><span style="color:#E1E4E8">ax </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> plt.gca()  </span><span style="color:#6A737D"># 获取当前Axes对象</span></span>
<span class="line"><span style="color:#E1E4E8">ax.spines[</span><span style="color:#9ECBFF">'top'</span><span style="color:#E1E4E8">].set_color(</span><span style="color:#9ECBFF">'none'</span><span style="color:#E1E4E8">)      </span><span style="color:#6A737D"># 隐藏上边框</span></span>
<span class="line"><span style="color:#E1E4E8">ax.spines[</span><span style="color:#9ECBFF">'right'</span><span style="color:#E1E4E8">].set_color(</span><span style="color:#9ECBFF">'none'</span><span style="color:#E1E4E8">)    </span><span style="color:#6A737D"># 隐藏右边框</span></span>
<span class="line"><span style="color:#E1E4E8">ax.spines[</span><span style="color:#9ECBFF">'bottom'</span><span style="color:#E1E4E8">].set_position((</span><span style="color:#9ECBFF">'data'</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">))  </span><span style="color:#6A737D"># 将下边框（x轴）移动到 y=0 处</span></span>
<span class="line"><span style="color:#E1E4E8">ax.spines[</span><span style="color:#9ECBFF">'left'</span><span style="color:#E1E4E8">].set_position((</span><span style="color:#9ECBFF">'data'</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">))    </span><span style="color:#6A737D"># 将左边框（y轴）移动到 x=0 处</span></span></code></pre>
<p>这里我们使用了 plt.xticks 和 plt.yticks 函数来自定义刻度。对于 x 轴，我们指定了5个刻度位置：$-π,; -π/2,; 0,; π/2,; π$，并通过列表传入对应的刻度标签字符串。注意，这些字符串前面有前缀 r，并包裹在 $…$ 中，这是 Matplotlib 支持的 LaTeX 数学语法，可以直接在标签中显示数学符号，例如 -\frac{\pi}{2}。这样我们的 x 轴刻度就以 π 的倍数形式呈现，更加直观。fontsize=14 则增大了刻度数字的字体，便于阅读。对于 y 轴，我们选择了几个典型值 -1 到 1 作为刻度，同样调大了字体；这里没有特别指定标签列表，因此默认使用这些值的数字形式作为标签。</p>
<p>接下来，通过 plt.gca() 获取当前的 Axes 对象（即绘图的坐标系），我们可以对坐标轴的外观做细节调整。Matplotlib 每个坐标轴有上下左右四条脊(line)，默认情况下绘制在图表边框。上述代码将 top 和 right 两条脊的颜色设为 ‘none’，即隐藏顶部和右侧的边框线，只保留底部和左侧的坐标轴线。随后两行使用 set_position((‘data’, 0)) 将底部x轴移动到数据坐标中的 y=0 位置，以及左侧y轴移动到 x=0 位置。效果就是让 x轴和y轴在数据坐标的原点处相交，而不是位于图表边缘。这样处理后，我们的坐标系看起来更像数学课本中的直角坐标系：原点在中央，轴线穿过整个图表。这对于展示函数图像（尤其是包含正负值）非常有帮助，可以清楚地看到曲线与坐标轴的交点和对称性。</p>
<p><img src="https://img.geyuxu.com/2025-04-23-210802L7Zu7O.png" alt="image-20250423210800179"></p>
<h2 id="三图例与标注">三、图例与标注</h2>
<p>绘制多条曲线时，图例（Legend）可以帮助观者分辨每一条曲线代表什么含义。我们在绘制时已经给每条曲线指定了 label，现在只需一行代码就能让 Matplotlib 自动生成图例：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#E1E4E8">plt.legend([</span><span style="color:#9ECBFF">'sinx'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'cosx'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'sin2x'</span><span style="color:#E1E4E8">], </span><span style="color:#FFAB70">loc</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'upper right'</span><span style="color:#E1E4E8">)  </span><span style="color:#6A737D"># 显示图例并指定在右上角</span></span></code></pre>
<p>plt.legend 会在图表上绘制一个小框，展示每种线型颜色对应的标签。在上面的调用中，我们手动提供了标签列表 [‘sinx’, ‘cosx’, ‘sin2x’]，对应之前绘制的三条曲线，并将图例的位置指定在坐标系的右上角（loc=‘upper right’）。实际上，如果之前 plt.plot 时传入了 label 参数，调用 plt.legend() 时不提供列表，Matplotlib 也会使用那些标签。但手动传入列表可以控制顺序或覆盖某些标签。图例的位置也可根据需要选择 ‘upper/lower’ 和 ‘left/center/right’ 的组合，或使用坐标点指定，自由度很高。通常我们会将图例放置在不干扰数据的位置，比如曲线稀疏的角落。</p>
<p>最后，我们常常需要在图表中标注特殊点或额外的信息，以突出关键内容。Matplotlib 提供了多种方法，比如 plt.annotate 可以添加箭头和文本说明；这里我们用更简单的 plt.scatter 来绘制特殊标记符号。假设我们想强调 sin(x) 在 x=pi/2 处的峰值 1.0，以及 -sin(x) 在 x=-pi/2 处的谷值 -1.0（对应图中的两个极值点）。可以使用散点图在这些坐标处打上星形标记：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#6A737D"># 标出特殊的极值点，使用红星标记</span></span>
<span class="line"><span style="color:#E1E4E8">plt.scatter([np.pi</span><span style="color:#F97583">/</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#E1E4E8">np.pi</span><span style="color:#F97583">/</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">], [</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">],       </span><span style="color:#6A737D"># 两个点的坐标 (x列表, y列表)</span></span>
<span class="line"><span style="color:#FFAB70">            marker</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'*'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">s</span><span style="color:#F97583">=</span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">,                      </span><span style="color:#6A737D"># 星形标记，点的大小为200</span></span>
<span class="line"><span style="color:#FFAB70">            edgecolors</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'green'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">facecolor</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'red'</span><span style="color:#E1E4E8">,    </span><span style="color:#6A737D"># 边缘为绿色，填充为红色</span></span>
<span class="line"><span style="color:#FFAB70">            zorder</span><span style="color:#F97583">=</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)                               </span><span style="color:#6A737D"># 提升图层顺序，以免被曲线遮挡</span></span></code></pre>
<p>plt.scatter 用于绘制散点，这里我们传入两个点的 x 坐标列表和 y 坐标列表，各包含我们想标注的点。参数 marker=’*’ 使散点的形状为星形（五角星），s=200 控制星星的尺寸（200 相当于较大的点）。我们将星标设置为红色填充、绿色边框，醒目地标出位置。由于这些点可能与曲线重合，我们通过 zorder=2 提升其绘制层级，确保星星盖在曲线之上而不是被遮住（Matplotlib 默认折线的 zorder 为 1）。执行完这些步骤后，调用 plt.show() 就会弹出窗口显示最终绘制的图形。完整的图表应该包含三条曲线、中心的坐标轴、精美的刻度标记、右上的图例，以及用星星标出的两个特殊点。</p>
<p><img src="https://img.geyuxu.com/2025-04-23-210116LxERZx.png" alt="image-20250423210111119"></p>
<p>图 1：使用 Matplotlib 绘制 sin x、cos x 和 sin 2x 函数曲线的效果图。绿色半透明实线表示 sin x，黑色点划线表示 cos x，蓝灰色粗虚线表示 sin 2x。坐标轴移到了中心位置，并使用 pi 等符号标记刻度。右上角的图例清晰地标明了各曲线名称，而红色星形标记突出了 sin x 在 x=pi/2 处的峰值 (1.0) 和 sin x 在 x=-pi/2 处的谷值 (-1.0)。</p>
<p>通过上述流程，我们已经完成了一张函数曲线的绘制。从代码可以看到，Matplotlib 的调用过程实际上非常灵活：你可以在绘制完曲线后再去调整坐标轴和添加图例、标注等，不一定要按固定顺序。但最终展示 (plt.show()) 前的所有设置都会反映在图表上。因此，推荐的习惯做法是先绘图、再装饰：即先用 plt.plot 等把主要数据绘制出来，然后根据需要调整轴、刻度、添加图例和注释，最后再显示或保存图表。这样思路清晰，也方便逐步调试图表的外观。</p>
<h2 id="四多窗口与布局">四、多窗口与布局</h2>
<p>Matplotlib 不仅能在一个坐标系里绘制多条曲线，还允许我们创建多个图形窗口同时显示不同的图表。这在需要对比不同数据集，或者分别展示不同步骤的结果时非常有用。接下来，我们通过一个简单示例来体验如何管理多个绘图窗口以及设置图表的标题、网格和布局。</p>
<p>假如我们有两组数据想分别绘制在不同窗口中。我们可以使用 plt.figure() 创建新的图形窗口。plt.figure 可以指定一个名称或编号来标识窗口，以及窗口大小 figsize 和背景色 facecolor 等参数。如果再次调用 plt.figure 并传入已有的名称，那么后续绘图命令会作用在该已存在的窗口。请看下面的代码：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#E1E4E8">plt.figure(</span><span style="color:#9ECBFF">'A'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">figsize</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">), </span><span style="color:#FFAB70">facecolor</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'lightgray'</span><span style="color:#E1E4E8">)  </span><span style="color:#6A737D"># 创建名为 'A' 的绘图窗口，尺寸8x4英寸，背景灰色</span></span>
<span class="line"><span style="color:#E1E4E8">plt.plot([</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">], [</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">])                         </span><span style="color:#6A737D"># 在 Figure A 中绘制一条线</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">plt.figure(</span><span style="color:#9ECBFF">'B'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">figsize</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">), </span><span style="color:#FFAB70">facecolor</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'lightgray'</span><span style="color:#E1E4E8">)  </span><span style="color:#6A737D"># 创建名为 'B' 的绘图窗口</span></span>
<span class="line"><span style="color:#E1E4E8">plt.plot([</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">], [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">])                         </span><span style="color:#6A737D"># 在 Figure B 中绘制一条线</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">plt.figure(</span><span style="color:#9ECBFF">'A'</span><span style="color:#E1E4E8">)                                        </span><span style="color:#6A737D"># 切换回窗口 A</span></span>
<span class="line"><span style="color:#E1E4E8">plt.plot([</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">], [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">])                         </span><span style="color:#6A737D"># 在 Figure A 中再绘制一条线</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">plt.title(</span><span style="color:#9ECBFF">'the line'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">fontsize</span><span style="color:#F97583">=</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">)   </span><span style="color:#6A737D"># 给窗口 A 的图表加标题</span></span>
<span class="line"><span style="color:#E1E4E8">plt.xlabel(</span><span style="color:#9ECBFF">'x'</span><span style="color:#E1E4E8">)                     </span><span style="color:#6A737D"># 设置x轴标签</span></span>
<span class="line"><span style="color:#E1E4E8">plt.ylabel(</span><span style="color:#9ECBFF">'y'</span><span style="color:#E1E4E8">)                     </span><span style="color:#6A737D"># 设置y轴标签</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">plt.grid(</span><span style="color:#FFAB70">linestyle</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">':'</span><span style="color:#E1E4E8">)             </span><span style="color:#6A737D"># 添加网格线（细点线样式）</span></span>
<span class="line"><span style="color:#E1E4E8">plt.tight_layout()                  </span><span style="color:#6A737D"># 自动调整布局，防止标题和标签遮挡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">plt.show()                          </span><span style="color:#6A737D"># 显示所有打开的图形窗口</span></span></code></pre>
<p>代码解析：首先，我们创建了窗口 A，大小 8x4 英寸，背景色为浅灰，然后在其上绘制了一条折线（数据点为 (1,3), (2,2), (3,1)）。接着创建窗口 B（同样大小和背景），并在上面绘制另一条折线（(1,1), (2,2), (3,3)）。然后再次调用 plt.figure(‘A’)，由于名为 A 的窗口已经存在，这行代码的作用是将当前绘图对象切换回 A。于是接下来的 plt.plot([1,2,3],[1,2,3]) 会添加一条新曲线到窗口 A 原有的图表中。这样，窗口 A 上就有两条折线，而窗口 B 上有一条折线，各自在独立的窗口中显示。</p>
<p>接下来，我们对窗口 A 当前的坐标系设置了标题和轴标签。plt.title(‘the line’, fontsize=30) 为曲线图加上标题“the line”，字号设置较大以醒目显示；plt.xlabel(‘x’) 和 plt.ylabel(‘y’) 则为横轴和纵轴添加了名称。这些标题/标签会出现在窗口 A 的图表上，而窗口 B 由于未设置将保持没有标题和轴标签的状态（当然你也可以在切换到 B 时分别设置属于它自己的标题和标签）。</p>
<p>为了让图表阅读起来更方便，我们打开了网格线：plt.grid(linestyle=’:’) 在图表背景添加了网格辅助线，这些虚点线可以帮助对齐和估读数值，又不会过于显眼干扰主图形。最后调用 plt.tight_layout() 自动调整子图布局。这一步在只有单个轴的情况下主要是防止标题或标签文字过大而被窗口边缘裁剪；当一个窗口中有多幅子图(subplot)时，tight_layout 会调整子图间距，防止它们的刻度标签相互重叠，是个非常实用的一键排版工具。</p>
<p><img src="https://img.geyuxu.com/2025-04-23-214946wVzij4.png" alt="image-20250423210450895"></p>
<p>运行上述代码，Matplotlib 将会弹出两个窗口A和B，分别显示不同的曲线图。窗口 A 上有标题和两条折线，其中一条呈下降趋势，另一条上升趋势交叉形成一个 “X” 形状；窗口 B 则只有一条从左下到右上升的直线。灰色背景让窗口略有区分度，而网格线和大字号标题则提升了可读性。由于我们调用了一次 plt.show()，所以所有尚未显示的图形窗口都会同时显示出来。</p>
<p>需要注意，plt.figure() 如果不指定名称，Matplotlib 会使用默认编号 (如 Figure 1, Figure 2 …) 来标识不同窗口。我们在这里用字母 ‘A’ 和 ‘B’ 来命名窗口，直观且便于在代码中引用特定窗口。实际应用中，如果要同时比较几张图，可以开多个窗口分别显示；而在写脚本批量生成图表时，通常是循环内每次创建新 figure，绘图并保存然后关闭，而不会像这里一样同时弹出多个窗口。</p>
<p>当图表元素较多时，善用网格线 (plt.grid) 有助于读者对齐数值，但要注意线型应当柔和（如细虚线）以免喧宾夺主。使用 plt.tight_layout() 可以省去手动调整布局的麻烦，强烈建议在添加了标题、标签或多个子图后调用一下，这对保存图片尤为重要，避免轴标签被截掉。如果需要在一张窗口里绘制多张子图，可以使用 plt.subplots() 或 plt.subplot() 创建网格布局的子图，然后分别绘制；每个子图也能用 set_title 设置标题。无论是多窗口还是多子图，合理安排布局和标题都能让读者更容易比较和理解图中的信息。</p> </article>   </div> </article> </main> <footer data-astro-cid-sz7xmlte>
&copy; 2025 All rights reserved.
</footer>  </body></html>