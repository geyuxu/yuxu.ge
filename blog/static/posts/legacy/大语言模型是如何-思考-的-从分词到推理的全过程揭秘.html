<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§è¯­è¨€æ¨¡å‹æ˜¯å¦‚ä½•â€œæ€è€ƒâ€çš„ï¼šä»åˆ†è¯åˆ°æ¨ç†çš„å…¨è¿‡ç¨‹æ­ç§˜ | Yuxu Ge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        :root {
            --black: #111;
            --dark-grey: #444;
            --off-white: #f4f4f4;
            --vermilion: #C41E3A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--black);
            background-color: var(--off-white);
        }

        a {
            color: var(--vermilion);
            text-decoration: none;
        }

        a:hover {
            opacity: 0.75;
        }

        .layout {
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 320px;
            height: 100vh;
            background: var(--black);
            color: var(--off-white);
            padding: 3rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .avatar {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--vermilion);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .avatar:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .name-block {
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--off-white);
        }

        .title-role {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.25rem;
            font-weight: 400;
        }

        .contact-block {
            margin-top: 2.5rem;
            width: 100%;
        }

        .social-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 160px;
            color: var(--off-white);
            opacity: 0.7;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .social-links a:hover {
            color: var(--vermilion);
            opacity: 1;
            background: rgba(255, 255, 255, 0.05);
        }

        .social-links svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .social-links .orcid-link {
            font-size: 0.68rem;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .sidebar-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #555;
        }

        /* Content */
        .content {
            margin-left: 320px;
            padding: 3rem 4rem;
            max-width: calc(100vw - 320px - 8rem);
        }

        .back-link {
            display: inline-block;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            color: var(--dark-grey);
        }

        .back-link:hover {
            color: var(--vermilion);
        }

        /* Article */
        article h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            color: var(--black);
        }

        article h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--black);
        }

        article h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--black);
        }

        article p {
            margin-bottom: 1rem;
            color: var(--dark-grey);
        }

        article ul,
        article ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--dark-grey);
        }

        article li {
            margin-bottom: 0.5rem;
        }

        article strong {
            color: var(--black);
        }

        article code {
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            background: #e8e8e8;
            padding: 0.15em 0.4em;
            border-radius: 3px;
        }

        article pre {
            margin: 1rem 0;
            border-radius: 6px;
            overflow-x: auto;
            background: #2d2d2d;
            padding: 1rem;
        }

        article pre code {
            background: none;
            padding: 0;
            font-size: 0.75em;
            white-space: pre !important;
            counter-reset: line;
            display: block;
            color: #ccc;
        }

        article pre code .line {
            counter-increment: line;
        }

        article pre code .line::before {
            content: counter(line);
            display: inline-block;
            width: 2.5em;
            margin-right: 1em;
            text-align: right;
            color: #666;
            user-select: none;
        }

        .code-toolbar {
            display: flex;
            justify-content: flex-start;
            padding: 0.35rem 0.5rem;
            background: #3a3a3a;
            border-radius: 6px 6px 0 0;
        }

        .code-toolbar+pre {
            margin-top: 0;
            border-radius: 0 0 6px 6px;
        }

        .copy-btn {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
            background: #555;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover,
        .copy-btn:active {
            background: #777;
        }

        .copy-btn.copied {
            background: #2a2;
        }

        article blockquote {
            border-left: 3px solid var(--vermilion);
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            font-style: italic;
        }

        article hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 2rem 0;
        }

        article table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        article th,
        article td {
            border: 1px solid #ddd;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        article th {
            background: #e8e8e8;
            font-weight: 600;
        }

        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem 0;
            border-radius: 6px;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .error {
            color: var(--vermilion);
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .lang-selector-label {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .lang-selector-label svg {
            width: 16px;
            height: 16px;
        }

        .lang-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            min-width: 140px;
        }

        .lang-select:focus {
            outline: none;
            border-color: var(--vermilion);
        }

        .lang-status {
            font-size: 0.8rem;
            color: #888;
            margin-left: auto;
        }

        .lang-status.translating {
            color: var(--vermilion);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-status.translating::before {
            content: '';
            width: 14px;
            height: 14px;
            border: 2px solid #f0f0f0;
            border-top-color: var(--vermilion);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .lang-status.cached {
            color: #4CAF50;
        }

        .lang-original-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .lang-original-btn:hover {
            background: #e0e0e0;
            color: #333;
        }

        @media (max-width: 600px) {
            .lang-selector {
                flex-wrap: wrap;
            }
            .lang-status {
                width: 100%;
                margin-left: 0;
                margin-top: 0.5rem;
            }
        }

        /* KaTeX math styles */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Jupyter Notebook Styles */
        .notebook-container {
            margin-top: 1rem;
        }

        .notebook-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .notebook-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .notebook-download svg {
            width: 16px;
            height: 16px;
        }

        .nb-cell {
            margin-bottom: 1.5rem;
        }

        .nb-cell-code .nb-source {
            background: #2d2d2d;
            border-radius: 6px;
            overflow-x: auto;
        }

        .nb-cell-code .nb-source pre {
            margin: 0;
            padding: 1rem;
            color: #ccc;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
        }

        .nb-cell-code .nb-source code {
            background: none;
            padding: 0;
        }

        .nb-output {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.75rem;
            margin-top: 0.5rem;
        }

        .nb-output pre {
            margin: 0;
            padding: 0;
            background: transparent;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.85em;
            color: #222;
        }

        .nb-output img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0.5rem 0;
        }

        .nb-output table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .nb-output th,
        .nb-output td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }

        .nb-output th {
            background: #e8e8e8;
            font-weight: 600;
        }

        .nb-cell-markdown {
            padding: 0;
        }

        .nb-cell-markdown h1:first-child {
            margin-top: 0;
        }

        /* Document Download Button */
        .doc-download {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background: var(--black);
            color: var(--off-white);
            border-radius: 4px;
            font-size: 0.85rem;
            transition: opacity 0.2s;
        }

        .doc-download:hover {
            opacity: 0.8;
            color: var(--off-white);
        }

        .doc-download svg {
            width: 16px;
            height: 16px;
        }

        /* PDF Viewer */
        .pdf-container {
            margin-top: 1rem;
        }

        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* Text File Display */
        .text-container {
            margin-top: 1rem;
        }

        .text-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 1.5rem;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--dark-grey);
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Word Document Display */
        .word-container {
            margin-top: 1rem;
        }

        .word-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 2rem;
            line-height: 1.8;
            color: var(--dark-grey);
        }

        .word-content p {
            margin-bottom: 1rem;
        }

        .word-content h1,
        .word-content h2,
        .word-content h3 {
            color: var(--black);
            margin: 1.5rem 0 1rem;
        }

        .word-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .word-content th,
        .word-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
        }

        .word-content img {
            max-width: 100%;
            height: auto;
        }

        /* Excel Display */
        .excel-container {
            margin-top: 1rem;
        }

        .excel-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .excel-tab {
            padding: 0.5rem 1rem;
            background: #e8e8e8;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .excel-tab.active {
            background: #4CAF50;
            color: white;
        }

        .excel-content {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
        }

        .excel-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .excel-content th,
        .excel-content td {
            border: 1px solid #ddd;
            padding: 0.4rem 0.6rem;
            text-align: left;
            white-space: nowrap;
        }

        .excel-content th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .excel-content tr:nth-child(even) {
            background: #fafafa;
        }

        /* PowerPoint Display */
        .ppt-container {
            margin-top: 1rem;
        }

        .ppt-viewer {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f5f5f5;
        }

        /* CSV Display (uses excel styles) */
        .csv-container {
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 2rem 1.5rem 1rem;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .social-links a,
            .social-links .orcid-link {
                width: auto;
                padding: 0.5rem;
                font-size: 0;
                gap: 0;
            }

            .social-links svg {
                width: 24px;
                height: 24px;
            }

            .social-links .hide-mobile {
                display: none;
            }

            .sidebar-footer {
                margin-top: 1rem;
            }

            .content {
                margin-left: 0;
                padding: 2rem 1rem;
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                padding: 1.5rem 1rem 1rem;
            }

            .avatar {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 1.4rem;
            }

            article h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>

    <div class="layout">
        <aside class="sidebar" id="sidebar-content"></aside>
        <script src="/components/sidebar.js?v=20260128"></script>

        <main class="content">
            <a href="/blog/" class="back-link">â† Back to Blog</a>

            <!-- Language Selector -->
            <div class="lang-selector" id="lang-selector" style="display: none;">
                <span class="lang-selector-label">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                    Language
                </span>
                <select class="lang-select" id="lang-select">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
                <button class="lang-original-btn" id="lang-original-btn" style="display: none;">Show Original</button>
                <span class="lang-status" id="lang-status"></span>
            </div>

            <article>
<hr>
<h2>date: 2024-10-07
tags: [ai]
legacy: true</h2>
<h1>å¤§è¯­è¨€æ¨¡å‹æ˜¯å¦‚ä½•â€œæ€è€ƒâ€çš„ï¼šä»åˆ†è¯åˆ°æ¨ç†çš„å…¨è¿‡ç¨‹æ­ç§˜</h1>
<ol>
<li>   è¾“å…¥æ–‡æœ¬ â€“ æ¨¡å‹æ¥æ”¶åˆ°åŸå§‹çš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚</li>
<li>   åˆ†è¯ (Tokenization) â€“ å°†æ–‡æœ¬æ‹†è§£æˆä¸€ä¸ªä¸ª Tokenï¼ˆè¯å…ƒï¼‰ åºåˆ—ã€‚</li>
<li>   æ˜ å°„ ID â€“ æ¯ä¸ª Token å¯¹åº”åˆ°æ¨¡å‹è¯è¡¨ä¸­çš„ä¸€ä¸ª æ•´æ•° ID ã€‚</li>
<li>   å‘é‡åŒ– (Embedding) â€“ ä½¿ç”¨åµŒå…¥çŸ©é˜µå°†æ¯ä¸ª Token ID è½¬æ¢ä¸ºé«˜ç»´å‘é‡è¡¨ç¤º ã€‚è¿™ä¸€æ­¥ä½¿å¾—è®¡ç®—æœºèƒ½å¤Ÿç”¨æ•°å­—â€œç†è§£â€æ–‡æœ¬è¯­ä¹‰ã€‚</li>
<li>   æ¨¡å‹æ¨ç† â€“ æ¨¡å‹ï¼ˆä¾‹å¦‚ Transformer ç¥ç»ç½‘ç»œï¼‰æ¥æ”¶è¿™äº› Token å‘é‡ï¼Œç»è¿‡å¤šå±‚è®¡ç®—ï¼Œäº§ç”Ÿå¯¹ä¸‹ä¸€ Token çš„é¢„æµ‹è¯„åˆ†ï¼ˆlogitsï¼‰ã€‚</li>
<li>   Softmax æ¦‚ç‡åˆ†å¸ƒ â€“ å°† logits é€šè¿‡ Softmax å‡½æ•°è½¬æ¢ä¸ºæ¯ä¸ªè¯çš„æ¦‚ç‡åˆ†å¸ƒ ã€‚</li>
<li>   é‡‡æ ·ç”Ÿæˆ â€“ æ ¹æ®è®¾å®šçš„è§£ç ç­–ç•¥ï¼ˆå¦‚è´ªå¿ƒã€Top-kã€Top-pã€æ¸©åº¦é‡‡æ ·ç­‰ï¼‰ä»æ¦‚ç‡åˆ†å¸ƒä¸­é€‰å‡ºä¸‹ä¸€ä¸ªè¾“å‡º Tokenã€‚ç„¶åå°†è¯¥ Token æ·»åŠ åˆ°è¾“å‡ºåºåˆ—ï¼Œå¹¶é‡å¤æ­¥éª¤5-7ï¼Œç›´åˆ°ç”Ÿæˆå®Œæ•´ç­”æ¡ˆã€‚</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬å°†æ²¿ç€è¿™æ¡â€œæ€ç»´â€æµç¨‹ï¼Œé€æ­¥æ­ç§˜å¤§è¯­è¨€æ¨¡å‹å¦‚ä½•ä»åˆ†è¯åˆ°æ¨ç†å†åˆ°æœ€ç»ˆçš„æ–‡æœ¬ç”Ÿæˆã€‚</p>
<h2>æ–‡æœ¬åˆ†è¯ï¼šä»å­—ç¬¦ä¸²åˆ° Token åºåˆ—</h2>
<p>ä¸ºä»€ä¹ˆè¦åˆ†è¯ï¼Ÿ å¤§è¯­è¨€æ¨¡å‹æ— æ³•ç›´æ¥å¤„ç†åŸå§‹æ–‡æœ¬å­—ç¬¦â€”â€”æ¨¡å‹åªèƒ½ç†è§£æ•°å­—ã€‚å› æ­¤ï¼Œè¾“å…¥çš„å¥å­é¦–å…ˆå¿…é¡»è½¬æ¢ä¸ºæ•°å­—æ‰èƒ½é€å…¥æ¨¡å‹ ã€‚è¿™ä¸ªè½¬æ¢è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯åˆ†è¯ï¼ˆTokenizationï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œåˆ†è¯å°±æ˜¯å°†ä¸€ä¸²æ–‡æœ¬åˆ‡åˆ†ä¸ºä¸€ä¸ªä¸ªè¾ƒå°çš„å•å…ƒï¼Œè¿™äº›å•å…ƒè¢«ç§°ä¸º Tokenï¼ˆè¯å…ƒï¼‰ã€‚æ¯ä¸ª Token é€šå¸¸å¯¹åº”ä¸€ä¸ªè¯ã€ä¸€æ®µå­è¯ï¼Œç”šè‡³å¯èƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦æˆ–ç¬¦å·ï¼Œå…·ä½“å–å†³äºæ‰€ä½¿ç”¨çš„åˆ†è¯ç®—æ³•å’Œè¯æ±‡è¡¨ã€‚åˆ†è¯çš„ç»“æœï¼Œæ˜¯æŠŠæ–‡æœ¬è½¬åŒ–ä¸ºä¸€ä¸ª Token åºåˆ—ã€‚</p>
<p>å¦‚ä½•åˆ†è¯ï¼Ÿ ä¸ºäº†é«˜æ•ˆåœ°è¡¨ç¤ºä¸åŒè¯­è¨€å†…å®¹ï¼Œç°ä»£ LLM å¸¸ä½¿ç”¨å­è¯åˆ†è¯ç®—æ³•ï¼Œä¾‹å¦‚ Byte-Pair Encoding (BPEï¼Œå­—èŠ‚å¯¹ç¼–ç ) æˆ– WordPiece ç­‰ã€‚ä»¥ BPE ä¸ºä¾‹ï¼Œå®ƒé€šè¿‡åå¤åˆå¹¶é«˜é¢‘çš„å­—ç¬¦åºåˆ—æ¥æ„å»ºè¯æ±‡è¡¨ï¼Œä½¿æ¨¡å‹çš„è¯è¡¨æ—¢ä¸è‡³äºè¿‡å¤§ï¼Œåˆèƒ½å°†å¸¸è§è¯æˆ–ç‰‡æ®µä½œä¸ºæ•´ä½“ Token è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œåœ¨è‹±æ–‡ä¸­ï¼Œâ€œinternationalâ€ è¿™æ ·çš„è¯å¯èƒ½è¢«æ‹†åˆ†ä¸º â€œinterâ€ã€â€œnaâ€ã€ â€œtionâ€ç­‰å­è¯ï¼›åœ¨ä¸­æ–‡ä¸­ï¼Œå¸¸è§çš„è¯ç»„ï¼ˆå¦‚â€œæœºå™¨â€â€œå­¦ä¹ â€ï¼‰ä¹Ÿå¯èƒ½ä½œä¸ºä¸€ä¸ª Tokenã€‚BPE åˆ†è¯å™¨ä¼šæ ¹æ®è®­ç»ƒè¯­æ–™ç»Ÿè®¡å¸¸è§çš„å­—ç¬¦å¯¹ï¼Œå°†å®ƒä»¬åˆå¹¶ä¸ºæ–°çš„ tokenï¼Œä¸æ–­è¿­ä»£ã€‚è¿™æ„å‘³ç€æ¨¡å‹çš„è¯æ±‡è¡¨ä¸­æ—¢åŒ…å«å®Œæ•´å•è¯ï¼Œä¹ŸåŒ…å«è¿™äº›é«˜é¢‘å­è¯æˆ–å­—ç‰‡æ®µã€‚</p>
<p>Token ä¸ IDï¼š æ— è®ºé‡‡ç”¨å“ªç§åˆ†è¯ç®—æ³•ï¼Œæœ€åéƒ½ä¼šå¾—åˆ°ä¸€ç³»åˆ— Tokenã€‚æ¯ä¸ª Token å†é€šè¿‡æŸ¥è¡¨è¢«æ˜ å°„ä¸ºä¸€ä¸ªå”¯ä¸€çš„æ•´æ•° IDï¼Œæ–¹ä¾¿æ¨¡å‹å¤„ç† ã€‚å¯ä»¥æŠŠæ¨¡å‹çš„è¯æ±‡è¡¨æƒ³è±¡æˆä¸€ä¸ªå·¨å¤§â€œå­—å…¸â€ï¼Œé‡Œé¢æ”¶å½•äº†æ¨¡å‹æ‰€èƒ½è¯†åˆ«çš„æ‰€æœ‰ Token åŠå…¶å¯¹åº”ç¼–å·ã€‚ä¾‹å¦‚ï¼ŒGPT-2 æ¨¡å‹çš„è¯æ±‡è¡¨å¤§å°çº¦ä¸º 50,257 ï¼›æ¯ä¸ª Tokenï¼ˆæ— è®ºæ˜¯â€œappleâ€è¿™æ ·çš„å®Œæ•´å•è¯ï¼Œè¿˜æ˜¯â€œapâ€è¿™æ ·çš„å­è¯ï¼Œäº¦æˆ–æ˜¯æ ‡ç‚¹ç¬¦å·ç­‰ï¼‰éƒ½å¯¹åº”äº 0 åˆ° 50256 ä¹‹é—´çš„æŸä¸ªIDã€‚</p>
<p>**ä¸€ä¸ªç›´è§‚ç¤ºä¾‹ï¼š**å‡å¦‚æˆ‘ä»¬æœ‰ä¸€å¥è‹±æ–‡è¾“å…¥ â€œI have a dreamâ€ï¼Œä½¿ç”¨ GPT-2 çš„ BPE åˆ†è¯å™¨ä¼šå°†å…¶æ‹†æˆ Tokenï¼š[&quot;I&quot;, &quot; have&quot;, &quot; a&quot;, &quot; dream&quot;]ï¼ˆå…¶ä¸­ç©ºæ ¼ä¹Ÿä½œä¸º Token ä¸€éƒ¨åˆ†ï¼‰ã€‚å†æ¯”å¦‚ä¸­æ–‡å¥å­â€œæˆ‘æœ‰ä¸€ä¸ªæ¢¦æƒ³â€ï¼Œè‹¥ä½¿ç”¨ä¸­æ–‡åˆ†è¯å™¨ï¼Œå¯èƒ½å¾—åˆ° Token åºåˆ—ï¼š[&quot;æˆ‘&quot;, &quot;æœ‰&quot;, &quot;ä¸€ä¸ª&quot;, &quot;æ¢¦æƒ³&quot;]ï¼ˆå…·ä½“å–å†³äºè¯è¡¨å’Œç®—æ³•ï¼‰ã€‚æ¯ä¸ª Token ä¼šè¢«æŸ¥æ‰¾æ˜ å°„åˆ°å¯¹åº”çš„IDï¼Œä¾‹å¦‚ &quot;I&quot; å¯èƒ½å¯¹åº” ID 40ï¼Œ&quot; dream&quot; å¯¹åº” ID 14324 ç­‰ç­‰ï¼ˆè¿™é‡Œä»…åšç¤ºæ„ï¼‰ã€‚åˆ†è¯çš„å…³é”®åœ¨äºï¼šæ¨¡å‹åªèƒ½æ¥æ”¶å›ºå®šè¯æ±‡è¡¨å†…çš„ Tokenï¼Œå¦‚æœè¾“å…¥ä¸­å‡ºç°äº†ä¸åœ¨è¯è¡¨çš„å­—ä¸²ï¼ˆæ¯”å¦‚ç”Ÿåƒ»è¯ï¼‰ï¼Œåˆ†è¯å™¨ä¼šè¿›ä¸€æ­¥æŠŠå®ƒæ‹†æˆæ›´å°çš„å·²çŸ¥ç‰‡æ®µæˆ–ä½¿ç”¨ç‰¹æ®Šçš„æœªçŸ¥æ ‡è®°æ¥å¤„ç†ã€‚</p>
<p>ç»è¿‡åˆ†è¯å’ŒIDæ˜ å°„ï¼Œæˆ‘ä»¬å°±æŠŠæ–‡æœ¬æˆåŠŸåœ°è½¬æ¢æˆäº†ä¸€ä¸²æ•°å­—åºåˆ—ã€‚æ¥ä¸‹æ¥ï¼Œéœ€è¦å°†è¿™äº›ç¦»æ•£çš„æ•°å­—è¿›ä¸€æ­¥è½¬æ¢ä¸ºè®¡ç®—æ–¹ä¾¿çš„å‘é‡å½¢å¼ï¼Œè¿™å°±æ˜¯ Token å‘é‡åŒ–ã€‚</p>
<h2>Token å‘é‡åŒ–ï¼šè®©è®¡ç®—æœºâ€œç†è§£â€è‡ªç„¶è¯­è¨€</h2>
<p>å¾—åˆ° Token çš„ ID åºåˆ—åï¼Œæ¨¡å‹å¹¶ä¸ä¼šç›´æ¥æ‹¿è¿™äº› ID æ•°å­—è¿›è¡Œè®¡ç®—ã€‚åŸå› å¾ˆç®€å•ï¼šç›´æ¥ä½¿ç”¨ IDï¼ˆä¾‹å¦‚ 14324 è¿™æ ·çš„æ•°å­—ï¼‰å¹¶æ²¡æœ‰ä»»ä½•è¯­ä¹‰ä¸Šçš„æ„ä¹‰â€”â€”ID ä¹‹é—´çš„å¤§å°å…³ç³»å¹¶ä¸åæ˜ è¯è¯­å«ä¹‰çš„å…³ç³»ã€‚æ¨¡å‹éœ€è¦çš„æ˜¯ä¸€ç§èƒ½å¤Ÿä½“ç°è¯­ä¹‰ä¿¡æ¯çš„è¡¨ç¤ºæ–¹å¼ã€‚å› æ­¤ï¼ŒLLM çš„ç¬¬ä¸€å±‚é€šå¸¸æ˜¯ä¸€ä¸ªåµŒå…¥å±‚ï¼ˆEmbedding Layerï¼‰ï¼Œç”¨äºå°†æ¯ä¸ª Token ID æ˜ å°„ä¸ºä¸€ä¸ªç¨ å¯†çš„å‘é‡ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸º Token å‘é‡åŒ–ï¼ˆToken Embeddingï¼‰ã€‚</p>
<p>ä»€ä¹ˆæ˜¯åµŒå…¥å‘é‡ï¼Ÿ ç®€è€Œè¨€ä¹‹ï¼ŒåµŒå…¥å‘é‡æ˜¯ç”¨æ¥è¡¨ç¤ºè¯å…ƒçš„é«˜ç»´å‘é‡ï¼ˆé€šå¸¸æ•°ç™¾ç»´ï¼‰ã€‚ä¸ç®€å•çš„â€œå•çƒ­ï¼ˆone-hotï¼‰â€ç¼–ç ä¸åŒï¼ŒEmbedding å‘é‡çš„æ¯ä¸ªç»´åº¦éƒ½æ˜¯è¿ç»­å€¼ã€‚è¿™äº›å‘é‡æ˜¯æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­å­¦å‡ºæ¥çš„ï¼Œä½¿å¾—åœ¨å‘é‡ç©ºé—´ä¸­ï¼Œè¯­ä¹‰ç›¸ä¼¼çš„ Token ä¼šæœ‰ç›¸ä¼¼çš„å‘é‡è¡¨ç¤º ã€‚æ¢å¥è¯è¯´ï¼ŒEmbedding æŠŠç¦»æ•£çš„ç¬¦å·ï¼ˆå•è¯æˆ–å­—ï¼‰æ˜ å°„åˆ°ä¸€ä¸ªè¿ç»­ç©ºé—´ï¼Œä½¿å¾—æ¨¡å‹å¯ä»¥é€šè¿‡æ•°å­¦è¿ç®—æ¥â€œç†è§£â€å®ƒä»¬ä¹‹é—´çš„å…³ç³» ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªè®­ç»ƒè‰¯å¥½çš„åµŒå…¥ç©ºé—´ä¸­ï¼Œè¡¨ç¤ºâ€œå›½ç‹â€å’Œâ€œç‹åâ€çš„ä¸¤ä¸ªå‘é‡å¯èƒ½å½¼æ­¤æ¥è¿‘ï¼Œå¹¶ä¸”â€œå›½ç‹-ç”·äºº+å¥³äººâ€â‰ˆâ€œç‹åâ€è¿™æ ·çš„å…³ç³»å¯ä»¥é€šè¿‡å‘é‡è¿ç®—è¿‘ä¼¼ä½“ç°å‡ºæ¥ï¼Œè¿™æ­£æ˜¯åµŒå…¥å‘é‡æ•æ‰è¯­ä¹‰çš„å¨åŠ›ã€‚</p>
<p>å‘é‡åŒ–çš„è¿‡ç¨‹ï¼š å¯ä»¥å°†åµŒå…¥å±‚çœ‹ä½œä¸€ä¸ªæŸ¥è¡¨æ“ä½œï¼šå®ƒç»´æŠ¤äº†ä¸€ä¸ªå½¢çŠ¶ä¸º (|V|, d) çš„çŸ©é˜µ $E$ï¼Œå…¶ä¸­ $|V|$æ˜¯è¯æ±‡è¡¨å¤§å°ï¼Œ$d$æ˜¯åµŒå…¥ç»´åº¦ï¼ˆå¦‚ 512, 768 æˆ–æ›´é«˜ï¼‰ã€‚å½“ä¸€ä¸ª Token çš„IDä¸º $i$ æ—¶ï¼ŒåµŒå…¥å±‚è¾“å‡ºçš„å°±æ˜¯çŸ©é˜µ $E$ çš„ç¬¬ $i$ è¡Œå‘é‡ $E[i]$ ã€‚æ¯”å¦‚ï¼Œå‰è¿° &quot;I have a dream&quot; çš„ Token åºåˆ—ä¼šè¢«è½¬æ¢ä¸ºä¸€ç»„å‘é‡ $[\mathbf{e}{I}, \mathbf{e}{have}, \mathbf{e}{a}, \mathbf{e}{dream}]$ã€‚è¿™äº›å‘é‡å¾€å¾€æ˜¯æµ®ç‚¹æ•°å€¼ï¼Œæ¯”å¦‚ [0.12, -0.45, ...] è¿™æ ·çš„å½¢å¼ï¼Œé«˜ç»´ç©ºé—´ä¸­æ¯ä¸ªå‘é‡å¯èƒ½æ— æ³•ç›´æ¥ç›´è§‚ç†è§£ï¼Œä½†æ¨¡å‹å¯ä»¥åˆ©ç”¨å®ƒä»¬è¿›è¡Œåç»­è®¡ç®—ã€‚</p>
<p>ç»è¿‡åµŒå…¥å±‚çš„å¤„ç†ï¼ŒåŸæœ¬çš„æ–‡æœ¬å·²ç»å˜æˆäº†ä¸€ä¸ªä¸ªå¯ä»¥è¢«æ¨¡å‹â€œæ¶ˆåŒ–â€çš„å‘é‡ã€‚  æ­£å¦‚ Hugging Face çš„åšæ–‡æ‰€è¿°ï¼šè¿™äº›åµŒå…¥å‘é‡åºåˆ—æ‰æ˜¯ç¥ç»ç½‘ç»œçœŸæ­£çš„è¾“å…¥ã€‚æœ‰äº†å®ƒä»¬ï¼Œæ¨¡å‹æ¥ä¸‹æ¥å°±èƒ½åœ¨è¿ç»­å‘é‡ç©ºé—´ä¸­å¯¹æ–‡æœ¬å«ä¹‰è¿›è¡Œå¤æ‚çš„æ¨ç†è®¡ç®—ã€‚è¿™ä¸€æ­¥è®©è®¡ç®—æœºä»¥æ•°å­¦å½¢å¼â€œç†è§£â€äº†è‡ªç„¶è¯­è¨€ï¼Œä¸ºåç»­çš„æ¨ç†å¥ å®šäº†åŸºç¡€ã€‚</p>
<h2>æ¨¡å‹æ¨ç†ï¼šä¸Šä¸‹æ–‡ç†è§£ä¸ä¸‹ä¸€ä¸ªè¯é¢„æµ‹</h2>
<p>å½“æˆ‘ä»¬å¾—åˆ° Token çš„å‘é‡åºåˆ—åï¼Œè¿™äº›å‘é‡å°†è¢«é€å…¥å¤§è¯­è¨€æ¨¡å‹å†…éƒ¨è¿›è¡Œæ¨ç†è®¡ç®—ã€‚å½“å‰ä¸»æµçš„ LLMï¼ˆå¦‚ GPT ç³»åˆ—ã€BERT ç­‰ï¼‰é‡‡ç”¨çš„éƒ½æ˜¯ Transformer æ¶æ„ã€‚Transformer ç”±å¤šå±‚<strong>è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆself-attentionï¼‰</strong> å’Œå‰é¦ˆç¥ç»ç½‘ç»œç»„æˆï¼Œå®ƒèƒ½å¤Ÿé«˜æ•ˆåœ°å»ºæ¨¡åºåˆ—æ•°æ®çš„é•¿ç¨‹ä¾èµ–ã€‚è™½ç„¶æœ¬ç¯‡ç„¦ç‚¹ä¸åœ¨ Transformer ç»†èŠ‚ï¼Œä½†äº†è§£å…¶ä½œç”¨æœ‰åŠ©äºç†è§£æ¨¡å‹å¦‚ä½•â€œæ€è€ƒâ€ï¼š</p>
<ul>
<li>è‡ªæ³¨æ„åŠ›æœºåˆ¶è®©æ¨¡å‹å¯ä»¥åœ¨æ¯ä¸€å±‚åŠ¨æ€å…³æ³¨åºåˆ—ä¸­ä¸åŒ Token ä¹‹é—´çš„å…³ç³»ã€‚æ¯”å¦‚ï¼Œå½“æ¨¡å‹å¤„ç†ä¸€å¥è¯æ—¶ï¼Œæ³¨æ„åŠ›æœºåˆ¶å¯ä»¥è®©è¯è¯­â€œçœ‹åˆ°â€å¥å­ä¸­ç›¸å…³çš„å…¶ä»–è¯ï¼Œä»è€Œç»“åˆä¸Šä¸‹æ–‡è°ƒæ•´è‡ªèº«è¡¨ç¤ºã€‚</li>
<li>å¤šå±‚å †å ä¸éçº¿æ€§å˜æ¢ä½¿æ¨¡å‹é€æ­¥æŠ½è±¡å‡ºæ›´é«˜å±‚æ¬¡çš„è¯­ä¹‰è¡¨ç¤ºã€‚æœ€åˆè¾“å…¥çš„æ˜¯è¯åµŒå…¥å‘é‡ï¼Œç»è¿‡ç¬¬ä¸€å±‚æ³¨æ„åŠ›å’Œå‰é¦ˆç½‘ç»œï¼Œå¾—åˆ°çš„æ˜¯ç»“åˆäº†ä¸€å®šä¸Šä¸‹æ–‡çš„æ–°çš„å‘é‡è¡¨ç¤ºï¼Œéšåä¸€å±‚å±‚ä¼ æ’­ï¼Œè¯­ä¹‰ä¿¡æ¯è¢«é€æ­¥æ±‡èšã€æç‚¼ã€‚</li>
</ul>
<p>ç»è¿‡ Transformer å¤šå±‚è®¡ç®—åï¼Œæ¨¡å‹æœ€ç»ˆåœ¨è¾“å‡ºå±‚å¾—åˆ°å¯¹äºä¸‹ä¸€ä¸ª Tokençš„é¢„æµ‹ç»“æœã€‚å…·ä½“æ¥è¯´ï¼Œæ¨¡å‹ä¸ä¼šç›´æ¥è¾“å‡ºä¸€ä¸ªè¯æˆ–å¥å­ï¼Œè€Œæ˜¯è¾“å‡ºä¸€ä¸ªå¯¹è¯æ±‡è¡¨ä¸­æ¯ä¸€ä¸ª Token çš„è¯„åˆ†ï¼Œå³é€šå¸¸æ‰€è¯´çš„ logits ã€‚å¯ä»¥å°† logits ç†è§£ä¸ºâ€œæœªå½’ä¸€åŒ–çš„åˆ†æ•°â€ï¼šåˆ†æ•°é«˜çš„ Token æ›´æœ‰å¯èƒ½æ˜¯æ¨¡å‹è®¤ä¸ºçš„ä¸‹ä¸€ä¸ªè¯ï¼Œåˆ†æ•°ä½çš„å¯èƒ½æ€§åˆ™å°ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬è®©æ¨¡å‹æ¥ç€è¾“å‡º â€œI have a dreamâ€ ä¹‹åçš„å†…å®¹ï¼Œæ¨¡å‹æœ€åä¸€å±‚å¯èƒ½è®¡ç®—å‡ºåƒ &quot;of&quot;ã€&quot;,&quot;ã€&quot;...&quot; ç­‰æ•°ä¸‡ä¸ª Token å„è‡ªçš„åˆ†æ•°ã€‚å‡è®¾å…¶ä¸­ Token &quot;of&quot; çš„å¾—åˆ†å¾ˆé«˜ã€‚æ­¤æ—¶æ¨¡å‹å®é™…ä¸Šå·²ç»å®Œæˆäº†â€œä¸‹ä¸€è¯é¢„æµ‹â€çš„ä¸»è¦å·¥ä½œï¼Œä½†è¿™äº› logits è¿˜éœ€è¦è½¬æ¢æˆæ¦‚ç‡å½¢å¼æ‰èƒ½ç”¨äºæœ€ç»ˆè¾“å‡ºå†³ç­–ã€‚**æ³¨æ„ï¼š**è¿™ç§æŒ‰è¯ç»™å‡ºåˆ†æ•°çš„è¿‡ç¨‹ä¼šåœ¨æ¯ä¸€æ­¥é‡å¤ï¼Œæ¯ç”Ÿæˆä¸€ä¸ª Token åï¼Œæ–° Token ä¼šè¢«åŠ åˆ°è¾“å…¥ä¸­ç»§ç»­ç”¨äºä¸‹ä¸€ä¸ª Token çš„é¢„æµ‹ ã€‚è¿™å°±æ˜¯è‡ªå›å½’è¯­è¨€æ¨¡å‹ç”Ÿæˆæ–‡æœ¬çš„åŸºæœ¬æ–¹å¼ï¼šä¸€æ­¥æ­¥é¢„æµ‹ä¸‹ä¸€ä¸ªè¯çš„æ¦‚ç‡åˆ†å¸ƒ ã€‚</p>
<p>æ¦‚ç‡åˆ†å¸ƒä¸é‡‡æ ·ï¼šæ¨¡å‹å¦‚ä½•é€‰æ‹©ä¸‹ä¸€ä¸ª Token</p>
<p>Softmax è½¬æ¢æ¦‚ç‡ï¼š æ¨¡å‹å¾—åˆ°æ¯ä¸ª Token çš„åˆ†æ•°ï¼ˆlogitï¼‰åï¼Œéœ€è¦å°†å…¶å˜ä¸ºç›´è§‚çš„æ¦‚ç‡ã€‚è¿™æ˜¯é€šè¿‡Softmax å‡½æ•°å®ç°çš„ã€‚Softmax ä¼šè€ƒè™‘æ‰€æœ‰è¯çš„åˆ†æ•°ï¼Œå°†å…¶æŒ‡æ•°åŒ–å¹¶å½’ä¸€åŒ–ï¼Œå¾—åˆ°ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿æ‰€æœ‰å¯èƒ½ Token çš„æ¦‚ç‡ä¹‹å’Œä¸º 1 ã€‚Softmaxå…¬å¼ä¸€èˆ¬è¡¨ç¤ºä¸ºï¼š</p>
<p>$$ P(w_i) = \frac{\exp(\text{logit}i)}{\sum{j}\exp(\text{logit}_j)} $$</p>
<p>å…¶ä¸­ $P(w_i)$ å°±æ˜¯æ¨¡å‹è®¤ä¸º Token $w_i$ ä½œä¸ºä¸‹ä¸€ä¸ªè¯çš„æ¦‚ç‡ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿° â€œI have a dreamâ€ çš„æ¡ˆä¾‹ï¼Œå¦‚æœ Softmax è®¡ç®—å¾—åˆ° Token &quot;of&quot; çš„æ¦‚ç‡ä¸º 17%ï¼Œæˆ‘ä»¬å¯è®°ä½œï¼š$P(\text{â€œofâ€} \mid \text{â€œI have a dreamâ€}) = 0.17$ ã€‚æ¦‚ç‡è¶Šé«˜çš„ Tokenï¼Œè‡ªç„¶æ˜¯æ¨¡å‹è®¤ä¸ºè¶Šç¬¦åˆä¸Šä¸‹æ–‡çš„ç»­æ¥è¯æ±‡ã€‚</p>
<p>è´ªå¿ƒè¿˜æ˜¯éšæœºï¼Ÿ æœ‰äº†ä¸‹ä¸€è¯çš„æ¦‚ç‡åˆ†å¸ƒï¼Œç›´è§‰ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¶ä¸­æ¦‚ç‡æœ€é«˜çš„ Token ä½œä¸ºè¾“å‡ºï¼ˆè¿™è¢«ç§°ä¸ºè´ªå¿ƒæœç´¢æˆ– Greedy Decodingï¼‰ã€‚è´ªå¿ƒç­–ç•¥æ¯ä¸€æ­¥éƒ½é€‰æ‹©æœ€å¯èƒ½çš„è¯ï¼Œä¼˜ç‚¹æ˜¯ç®€å•ç›´æ¥ï¼Œä¸”å¦‚æœæˆ‘ä»¬è®¾ç½®æ¯æ¬¡éƒ½é€‰æœ€é«˜æ¦‚ç‡ï¼Œé‚£ä¹ˆç›¸åŒè¾“å…¥æ¯æ¬¡éƒ½ä¼šå¾—åˆ°ç›¸åŒè¾“å‡ºï¼ˆå³å®Œå…¨ç¡®å®šæ€§çš„è¾“å‡ºï¼‰ ã€‚ä¹ä¸€å¬è¿™å¾ˆå¥½ï¼Œä½†è´ªå¿ƒç­–ç•¥å¾€å¾€ä¼šå¯¼è‡´æ¨¡å‹è¾“å‡ºåƒç¯‡ä¸€å¾‹ç”šè‡³æ­»æ¿é‡å¤çš„å†…å®¹  ã€‚è¯•æƒ³å¦‚æœä¸€ä¸ªäººè¯´è¯æ°¸è¿œåªé€‰æœ€å¯èƒ½çš„è¯ï¼Œè€Œä¸è€ƒè™‘å˜åŒ–ï¼Œå¬èµ·æ¥ä¼šéå¸¸å•è°ƒã€‚åŒæ ·åœ°ï¼Œå¤§è¯­è¨€æ¨¡å‹è‹¥æ€»æ˜¯é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„è¯ï¼Œç”Ÿæˆçš„æ–‡æœ¬å¯èƒ½ç¼ºä¹åˆ›æ„ï¼Œç”šè‡³é™·å…¥é‡å¤å¾ªç¯ ã€‚å› æ­¤ï¼Œåœ¨ç”Ÿæˆé•¿æ–‡æœ¬æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›å¼•å…¥é€‚å½“çš„éšæœºæ€§ï¼Œä»¥è·å¾—æ›´åŠ å¤šæ ·å’Œè‡ªç„¶çš„ç»“æœã€‚</p>
<p>å¼•å…¥éšæœºæ€§çš„é‡‡æ ·ç­–ç•¥ï¼š ä¸ºäº†è®©æ¨¡å‹çš„è¾“å‡ºæ›´çµæ´»å¤šæ ·ï¼Œä¸šç•Œå‘å±•å‡ºå¤šç§é‡‡æ ·ï¼ˆsamplingï¼‰ç­–ç•¥ï¼Œåœ¨ä¿è¯æ–‡æœ¬è¿è´¯çš„åŒæ—¶å¼•å…¥éšæœºé€‰æ‹©ã€‚ä¸»è¦ç­–ç•¥åŒ…æ‹¬ Temperature æ¸©åº¦ç³»æ•°ã€Top-k é‡‡æ ·å’ŒTop-pï¼ˆæ ¸ï¼‰é‡‡æ ·ç­‰ ã€‚å®ƒä»¬çš„æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ï¼šä¸æ¯æ¬¡éƒ½æ­»æ¿åœ°é€‰æœ€å¤§æ¦‚ç‡é‚£ä¸ªè¯ï¼Œè€Œæ˜¯ç»™æ¦‚ç‡æ’åé å‰çš„å‡ ä¸ªå€™é€‰è¯ä¸€ä¸ªè¢«é€‰ä¸­çš„æœºä¼š ã€‚ä¸‹é¢åˆ†åˆ«ç®€è¦è§£é‡Šè¿™äº›ç­–ç•¥ï¼š</p>
<ul>
<li>æ¸©åº¦é‡‡æ ·ï¼ˆTemperatureï¼‰ï¼š æ¸©åº¦å‚æ•°ä¼šå½±å“æ¦‚ç‡åˆ†å¸ƒçš„â€œé”åŒ–â€ç¨‹åº¦ ã€‚æ¸©åº¦ $T$ åœ¨å…¬å¼ä¸Šè¡¨ç°ä¸ºå°† logits é™¤ä»¥ $T$ å†é€å…¥ Softmaxã€‚ å½“ $T$ è¾ƒé«˜æ—¶ï¼ˆä¾‹å¦‚ $T=1.0$ æ˜¯é»˜è®¤å€¼ï¼‰ï¼Œæ¦‚ç‡åˆ†å¸ƒæ¯”è¾ƒå¹³æ»‘ï¼Œæ¨¡å‹æœ‰è¾ƒå¤§æœºä¼šé€‰æ‹©åˆ°é‚£äº›åŸæœ¬æ¦‚ç‡ä¸é«˜ä½†éé›¶çš„è¯ï¼›åä¹‹ï¼Œå½“ $T$ å¾ˆä½æ—¶ï¼ˆè¶‹è¿‘äº0ï¼‰ï¼ŒSoftmax ä¼šä½¿æœ€é«˜æ¦‚ç‡çš„é‚£ä¸ªè¯å‡ ä¹å„æ–­æ¦‚ç‡è´¨é‡ï¼Œè¾“å‡ºåŸºæœ¬ç­‰åŒäºè´ªå¿ƒé€‰æ‹©  ã€‚å› æ­¤ï¼Œæ¸©åº¦è¶Šé«˜ï¼Œè¾“å‡ºè¶Šå…·æœ‰éšæœºæ€§å’Œåˆ›é€ æ€§ï¼›æ¸©åº¦è¶Šä½ï¼Œè¾“å‡ºè¶Šä¿å®ˆå’Œç¡®å®š ã€‚é€šå¸¸ï¼Œå¦‚æœå¤šæ¬¡ç”¨ç›¸åŒ prompt æµ‹è¯•ï¼Œä¼šå‘ç°é»˜è®¤æƒ…å†µä¸‹æ¨¡å‹æ¯æ¬¡å›ç­”å¯èƒ½éƒ½æœ‰å·®å¼‚ï¼›ä½†è‹¥å°†æ¸©åº¦è®¾ä¸º0ï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½ä¼šå¾—åˆ°å®Œå…¨ç›¸åŒçš„ç­”æ¡ˆ ã€‚è¿™æ˜¯å› ä¸º $T=0$ å®é™…ä¸Šç­‰æ•ˆäºæ€»æ˜¯é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„ Tokenï¼ˆå®Œå…¨å–æ¶ˆéšæœºæ€§ï¼‰ã€‚</li>
<li>Top-k é‡‡æ ·ï¼š Top-k çš„æ€è·¯æ˜¯åªè€ƒè™‘æ¦‚ç‡æœ€é«˜çš„ K ä¸ªå€™é€‰ Tokenã€‚æ¨¡å‹åŸæœ¬ç»™å‡ºäº†æ•´ä¸ªè¯è¡¨çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä½†å¾ˆå¤šè¯æ¦‚ç‡æä½åŸºæœ¬ä¸å¯èƒ½ï¼Œæˆ‘ä»¬æ²¡å¿…è¦ç®¡å®ƒä»¬ã€‚é€šè¿‡è®¾å®šä¸€ä¸ª $K$ å€¼ï¼Œæ¯”å¦‚ $K=5$ï¼Œæˆ‘ä»¬æˆªå–æœ€æœ‰å¯èƒ½çš„5ä¸ª Tokenï¼Œç„¶ååœ¨å®ƒä»¬ä¹‹é—´æŒ‰ç…§ç›¸å¯¹æ¦‚ç‡éšæœºæŠ½å–ä¸€ä¸ªä½œä¸ºè¾“å‡º ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿æˆ‘ä»¬åªåœ¨æ¨¡å‹æ¯”è¾ƒæœ‰ä¿¡å¿ƒçš„å‡ ä¸ªè¯ä¸­æŒ‘é€‰ï¼Œä»è€Œé¿å…é‚£äº›æ¦‚ç‡å°¾éƒ¨çš„å¥‡æ€ªè¯è¢«é€‰ä¸­ï¼ŒåŒæ—¶åˆæ¯”ç›´æ¥é€‰æœ€é«˜çš„å¼•å…¥äº†ä¸€ç‚¹å˜æ•°ã€‚å‚æ•° K çš„å½±å“æ˜¯ï¼š$K$ å¤§ä¼šç»™æ¨¡å‹è¾“å‡ºæ›´å¤šå…ƒçš„å¯èƒ½æ€§ï¼Œä½†ä¹Ÿå¯èƒ½å¼•å…¥è´¨é‡è¾ƒå·®çš„è¯ï¼›$K$ å°åˆ™è¾“å‡ºæ›´ç¨³å®šï¼Œä½†å¯èƒ½è¿‡äºä¿å®ˆã€‚æç«¯åœ°ï¼Œ$K=1$ å°±é€€åŒ–ä¸ºè´ªå¿ƒè§£ç ï¼ˆæ¯æ¬¡åªé€‰æœ€å¯èƒ½çš„ä¸€ä¸ªï¼‰ ã€‚</li>
<li>Top-p é‡‡æ ·ï¼ˆåˆç§°æ ¸é‡‡æ ·ï¼ŒNucleus Samplingï¼‰ï¼š Top-p é‡‡æ ·ä¸æ˜¯å›ºå®šé€‰å–å‰å¤šå°‘ä¸ªè¯ï¼Œè€Œæ˜¯é€‰å–ä¸€ä¸ªæ¦‚ç‡ç´¯ç§¯é˜ˆå€¼ $p$ã€‚å®ƒä»æœ€é«˜æ¦‚ç‡å¼€å§‹ç´¯åŠ ï¼Œç›´åˆ°ç´¯ç§¯æ¦‚ç‡è¶…è¿‡è®¾å®šçš„ $p$ï¼Œå–è¿™äº›ç´¯ç§¯èŒƒå›´å†…çš„æ‰€æœ‰å€™é€‰ä½œä¸ºé›†åˆ ã€‚æ¢è¨€ä¹‹ï¼ŒTop-p åŠ¨æ€å†³å®šå€™é€‰é›†åˆçš„å¤§å°ï¼Œä»¥ç¡®ä¿è¿™äº›å€™é€‰è¯çš„æ€»æ¦‚ç‡è‡³å°‘ä¸º $p$ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¾å®š $p=0.15$ï¼Œæ¨¡å‹å¯èƒ½éœ€è¦å–å‰ä¸¤ä¸‰ä¸ªè¯ï¼ˆæ¯”å¦‚æŸæ¬¡ç´¯è®¡åˆ°15%æ—¶æ¶µç›–äº†â€œUnitedâ€å’Œâ€œNetherlandsâ€ä¸¤ä¸ªè¯ ï¼‰ä½œä¸ºå€™é€‰ï¼Œç„¶åå†åœ¨å…¶ä¸­æŒ‰ç›¸å¯¹æ¦‚ç‡éšæœºé€‰ä¸€ä¸ªè¾“å‡ºã€‚Top-p çš„ä¼˜åŠ¿åœ¨äºï¼šä¸ç®¡åˆ†å¸ƒå¦‚ä½•å½¢çŠ¶ï¼Œå®ƒä¿è¯è€ƒè™‘è¶³å¤Ÿæ¦‚ç‡è´¨é‡çš„è¯ã€‚å½“åˆ†å¸ƒå¾ˆæç«¯æ—¶ï¼Œå€™é€‰å¯èƒ½å¾ˆå°‘ï¼›å½“åˆ†å¸ƒè¾ƒå¹³å¦æ—¶ï¼Œå€™é€‰ä¼šç›¸åº”å˜å¤šã€‚è¿™æ ·å¯ä»¥äº§ç”Ÿæ¯” Top-k æ›´çµæ´»çš„æ•ˆæœï¼Œä¹Ÿå¸¸ç”¨äºæå‡ç”Ÿæˆæ–‡æœ¬çš„å¤šæ ·æ€§  ã€‚</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥ä¸Šç­–ç•¥å¯ä»¥ç»“åˆä½¿ç”¨ã€‚ä¾‹å¦‚æˆ‘ä»¬ç»å¸¸ä¼šåŒæ—¶è®¾ç½®ä¸€ä¸ªè¾ƒé«˜çš„ $p$ï¼ˆå¦‚ 0.9ï¼‰å’Œä¸€ä¸ªé€‚ä¸­çš„ $k$ï¼ˆå¦‚ 50ï¼‰ï¼Œæ¨¡å‹ä¼šå…ˆé€‰å‡ºTop-kï¼Œå†åœ¨å…¶ä¸­åº”ç”¨Top-pé™åˆ¶ï¼Œä»è€Œâ€œåŒé‡è¿‡æ»¤â€ã€‚è°ƒèŠ‚è¿™äº›å‚æ•°å¯ä»¥åœ¨æ–‡æœ¬è´¨é‡å’Œå¤šæ ·æ€§ä¹‹é—´å–å¾—å¹³è¡¡â€”â€”è¿‡ä½çš„æ¸©åº¦æˆ– p å€¼ä¼šè®©è¾“å‡ºéå¸¸ç¡®å®šä½†å¯èƒ½ä¹å‘³ï¼Œè¿‡é«˜åˆå¯èƒ½è®©æ¨¡å‹è¾“å‡ºæ— å…³ç”šè‡³è’è°¬çš„å†…å®¹ ã€‚</p>
<p>åŒä¸€è¾“å…¥ä¸ºä½•è¾“å‡ºä¸åŒï¼Ÿ åŸºäºä»¥ä¸Šé‡‡æ ·æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ï¼šå¦‚æœå¼•å…¥äº†éšæœºé‡‡æ ·ï¼Œæ¯æ¬¡ç”Ÿæˆæ—¶åœ¨é«˜æ¦‚ç‡å€™é€‰ä¸­å¯èƒ½æŠ½åˆ°ä¸åŒçš„è¯ï¼Œå› æ­¤å³ä½¿æç¤ºå®Œå…¨ç›¸åŒï¼Œæ¨¡å‹ç”Ÿæˆçš„å›åº”ä¹Ÿå¯èƒ½ä¸åŒ ã€‚è¿™å¹¶ä¸æ„å‘³ç€æ¨¡å‹â€œä¸å¯é â€ï¼Œè€Œæ˜¯ç”Ÿæˆå¼ä»»åŠ¡çš„æ­£å¸¸ç°è±¡â€”â€”LLM æœ¬è´¨ä¸Šç”Ÿæˆçš„æ˜¯æ¦‚ç‡é©±åŠ¨çš„ä¸€ä¸ªåˆç†ç­”æ¡ˆï¼Œè€Œéå”¯ä¸€ç¡®å®šçš„ç­”æ¡ˆã€‚åªæœ‰åœ¨é‡‡ç”¨å®Œå…¨è´ªå¿ƒä¸”è®¾ç½®æ¸©åº¦ä¸º0ç­‰æç«¯ç¡®å®šæ€§é…ç½®æ—¶ï¼Œç›¸åŒè¾“å…¥æ‰ä¼šå§‹ç»ˆå¾—åˆ°ç›¸åŒè¾“å‡ºã€‚äº‹å®ä¸Šï¼ŒChatGPT ç­‰å¯¹è¯ç³»ç»Ÿä¹‹æ‰€ä»¥æ¯æ¬¡å¯¹åŒä¸€é—®é¢˜å¯èƒ½ç»™å‡ºç•¥æœ‰å·®å¼‚çš„å›ç­”ï¼Œå°±æ˜¯å› ä¸ºå…¶èƒŒåè®¾ç½®äº†æ¸©åº¦é‡‡æ ·ç­‰æœºåˆ¶ä»¥ä¿è¯å¯¹è¯ä¸è‡³äºæ¯æ¬¡ä¸€æ¨¡ä¸€æ ·ã€‚è¿™ç§éšæœºæ€§æ¥æºäºæ¨¡å‹æ¨ç†é˜¶æ®µçš„é‡‡æ ·ç­–ç•¥ï¼Œè€Œå¹¶éæ¨¡å‹åœ¨â€œè®°ä¸ä½â€ä¹‹å‰çš„å›ç­”ã€‚</p>
<p>å°ç¤ºä¾‹ï¼šå‡è®¾æ¨¡å‹å½“å‰çš„ä¸Šä¸‹æ–‡æ˜¯ â€œä»Šå¤©çš„å¤©æ°”â€ï¼Œå®ƒé¢„æµ‹ä¸‹ä¸€ä¸ªè¯å¯èƒ½æ˜¯ï¼šâ€œå¾ˆå¥½â€ï¼ˆæ¦‚ç‡40%ï¼‰ã€â€œä¸å¥½â€ï¼ˆæ¦‚ç‡30%ï¼‰ã€â€œä¸€èˆ¬â€ï¼ˆæ¦‚ç‡25%ï¼‰ã€å…¶ä»–è¯ï¼ˆåˆè®¡5%ï¼‰ã€‚å¦‚æœé‡‡å–è´ªå¿ƒç­–ç•¥ï¼Œæ¨¡å‹å°†é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„â€œå¾ˆå¥½â€ï¼Œè¾“å‡ºå¥å­å¯èƒ½æ˜¯â€œä»Šå¤©çš„å¤©æ°”å¾ˆå¥½â€ã€‚ä½†å¦‚æœä½¿ç”¨é‡‡æ ·ç­–ç•¥ï¼Œæ¨¡å‹æœ‰ä¸€å®šå‡ ç‡é€‰æ‹©â€œä¸å¥½â€æˆ–â€œä¸€èˆ¬â€ï¼Œä»è€Œå¯èƒ½è¾“å‡ºâ€œä»Šå¤©çš„å¤©æ°”ä¸å¥½â€æˆ–è€…â€œä»Šå¤©çš„å¤©æ°”ä¸€èˆ¬â€ã€‚ç”±æ­¤äº§ç”Ÿäº†ä¸åŒçš„å¥å­èµ°å‘ã€‚è¿™æ ·çš„éšæœºé‡‡æ ·ä½¿å¾—æ¨¡å‹çš„è¾“å‡ºæ›´åŠ ä¸°å¯Œï¼Œä¸ä¼šåƒç¯‡ä¸€å¾‹ã€‚å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ç¡®ä¿å›ç­”ä¸€è‡´ï¼Œå¯ä»¥å°†æ¸©åº¦è°ƒä½æˆ–å›ºå®šéšæœºç§å­æ¥è·å¾—å¯é‡å¤çš„ç»“æœã€‚</p>
<h2>å·¥ç¨‹å®è·µè§’åº¦çš„è¯´æ˜</h2>
<p>äº†è§£äº†ä¸Šè¿°åŸç†åï¼Œæˆ‘ä»¬æ¥çœ‹åœ¨å·¥ç¨‹å®è·µä¸­å¦‚ä½•åº”ç”¨è¿™äº›çŸ¥è¯†ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç°æœ‰çš„æ·±åº¦å­¦ä¹ æ¡†æ¶å’Œæ¨¡å‹åº“ï¼ˆå¦‚ Hugging Face Transformersï¼‰æ¥å¤„ç† Token åŒ–å’Œæ–‡æœ¬ç”Ÿæˆã€‚è¿™äº›åº“å·²ç»å°è£…å¥½äº†å¤§éƒ¨åˆ†ç»†èŠ‚ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è°ƒç”¨ï¼š</p>
<ul>
<li>ä½¿ç”¨åˆ†è¯å™¨(Tokenzier)ï¼š æ¯ä¸ªé¢„è®­ç»ƒçš„æ¨¡å‹éƒ½ä¼šé…å¥—æä¾›ä¸€ä¸ªåˆ†è¯å™¨ã€‚å¼€å‘è€…éœ€è¦å…ˆåŠ è½½åˆ†è¯å™¨ï¼Œç”¨å®ƒçš„ encode æˆ– <strong>call</strong> æ–¹æ³•å°†è¾“å…¥æ–‡æœ¬è½¬æ¢ä¸º Token ID åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ Transformers ä¸­ï¼š</li>
</ul>
<blockquote><code>from transformers import AutoTokenizer  </code><br>
<code>tokenizer = AutoTokenizer.from_pretrained(&quot;gpt2&quot;)  </code><br>
<code>ids = tokenizer(&quot;I have a dream&quot;, return_tensors=&#039;pt&#039;).input_ids  </code></blockquote><p>è¿™æ ·å°±å¾—åˆ°äº†å¯¹åº”çš„ Token ID åºåˆ—ã€‚å®é™…åº”ç”¨ä¸­è¦ç¡®ä¿ä½¿ç”¨ä¸æ¨¡å‹è®­ç»ƒæ—¶ç›¸åŒçš„åˆ†è¯å™¨å’Œè¯è¡¨ã€‚</p>
<ul>
<li>Embedding å’Œæ¨¡å‹å‰å‘ï¼š å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œè¿™ä¸€æ­¥é€šå¸¸æ˜¯éšè—åœ¨æ¨¡å‹å†…éƒ¨çš„ã€‚æˆ‘ä»¬åŠ è½½æ¨¡å‹åï¼Œå°†ä¸Šä¸€æ­¥å¾—åˆ°çš„ Token IDs å¼ é‡è¾“å…¥æ¨¡å‹ï¼Œå³å¯æ‰§è¡Œå‰å‘æ¨ç†å¾—åˆ°è¾“å‡ºç»“æœã€‚ä»¥ Transformers ä¸ºä¾‹ï¼š</li>
</ul>
<blockquote><code>from transformers import AutoModelForCausalLM  </code><br>
<code>model = AutoModelForCausalLM.from_pretrained(&quot;gpt2&quot;)  </code><br>
<code>output = model.generate(input_ids=ids, max_new_tokens=50, temperature=0.8, top_p=0.9)  </code></blockquote><p>è¿™é‡Œ generate æ–¹æ³•å†…éƒ¨ä¼šå¤„ç†æ¨¡å‹çš„å‰å‘è®¡ç®—ã€Softmax å’Œé‡‡æ ·ç­–ç•¥ç­‰æ­¥éª¤ã€‚æˆ‘ä»¬åªéœ€é€šè¿‡å‚æ•° temperatureã€top_pã€top_k ç­‰æ§åˆ¶é‡‡æ ·ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿°ä»£ç è®¾ç½®äº†æ¸©åº¦0.8å’Œ Top-p 0.9 æ¥ç”Ÿæˆæ–‡æœ¬ã€‚å¦‚æœå°† temperature=0 å’Œ top_p=1.0ï¼ˆæˆ– do_sample=Falseï¼‰åˆ™ä¼šé‡‡ç”¨è´ªå¿ƒæ–¹å¼ç”Ÿæˆç¡®å®šæ€§è¾“å‡ºã€‚</p>
<ul>
<li>ç»“æœè§£ç ï¼š æ¨¡å‹ç”Ÿæˆçš„æ˜¯ä¸€ç³»åˆ— Token IDï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ†è¯å™¨çš„ decode æ–¹æ³•å°†å®ƒä»¬è½¬æ¢å›å¯é˜…è¯»çš„æ–‡æœ¬ ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<blockquote><code>result_text = tokenizer.decode(output[0], skip_special_tokens=True)  </code><br>
<code>print(result_text)  </code></blockquote><p>å¾—åˆ°æ¨¡å‹æœ€ç»ˆç”Ÿæˆçš„è‡ªç„¶è¯­è¨€å¥å­ã€‚</p>
<p>å·¥ç¨‹å®è·µä¸­è¿˜æœ‰ä¸€äº›å€¼å¾—æ³¨æ„çš„ç‚¹ï¼šæ¯”å¦‚æœ€å¤§é•¿åº¦å’Œç»“æŸæ ‡è®°çš„è®¾ç½®ï¼Œä»¥é¿å…æ¨¡å‹æ— é™è¾“å‡ºï¼›æˆªæ–­æˆ–å¡«å……ä»¥é€‚åº”æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£å¤§å°ç­‰ç­‰ã€‚è¿™äº›è¶…å‚æ•°çš„é€‰æ‹©å¯ä»¥æ˜¾è‘—å½±å“æ¨¡å‹æ€§èƒ½å’Œç”Ÿæˆæ•ˆæœã€‚å®è·µæ—¶ï¼Œå¸¸éœ€è¦è°ƒå‚æ¥æ‰¾åˆ°è¾ƒä½³çš„è¾“å‡ºè´¨é‡ä¸å¤šæ ·æ€§å¹³è¡¡ ã€‚</p>
<h2>ç»“è¯­</h2>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤è§£æï¼Œæˆ‘ä»¬æ­å¼€äº†å¤§è¯­è¨€æ¨¡å‹ä»åˆ†è¯åˆ°å‘é‡åŒ–å†åˆ°æ¨ç†ç”Ÿæˆçš„å®Œæ•´è¿‡ç¨‹ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒLLM çš„â€œæ€è€ƒâ€è¿‡ç¨‹å…¶å®æ˜¯ï¼šå°†è¾“å…¥è½¬æ¢æˆæ•°å­—è¡¨ç¤ºï¼Œåœ¨åºå¤§çš„ç¥ç»ç½‘ç»œä¸­åŸºäºè®­ç»ƒæ‰€å¾—çš„çŸ¥è¯†è®¡ç®—å‡ºä¸‹ä¸€è¯çš„æ¦‚ç‡åˆ†å¸ƒï¼Œç„¶åæŒ‰ç…§ä¸€å®šç­–ç•¥æŠ½å–è¾“å‡ºï¼Œä»è€Œé€æ­¥ç”Ÿæˆæ–‡æœ¬ç­”å¤ã€‚</p>
<p>è¿™ç§ç”Ÿæˆæœºåˆ¶ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿäº§å‡ºè¿è´¯ä¸”å¯Œæœ‰è¯­ä¹‰çš„è¯­è¨€ï¼Œä½†ä¹Ÿå†³å®šäº†å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ¦‚ç‡æ¨¡å‹ã€‚æˆ‘ä»¬é©³æ–¥äº†â€œç›¸åŒè¾“å…¥å¿…å®šå¾—åˆ°ç›¸åŒè¾“å‡ºâ€çš„è¯¯è§£ï¼Œç†è§£äº†éšæœºé‡‡æ ·åœ¨ç”Ÿæˆä¸­çš„ä½œç”¨ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¼ºè°ƒäº†åµŒå…¥å‘é‡å¯¹äºæ¨¡å‹â€œç†è§£â€è¯­è¨€çš„é‡è¦æ„ä¹‰ï¼šæ²¡æœ‰æ°å½“çš„å‘é‡è¡¨ç¤ºï¼Œè®¡ç®—æœºæ— æ³•ä»¥æ•°å­¦æ–¹å¼å¤„ç†äººç±»çš„è¯­è¨€ä¿¡å·ã€‚</p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œç†è§£è¿™äº›åŸç†æœ‰åŠ©äºæ›´å¥½åœ°è°ƒä¼˜æ¨¡å‹è¡Œä¸ºã€‚ä¾‹å¦‚ï¼ŒçŸ¥é“å¦‚ä½•è°ƒæ•´ temperature å¯ä»¥æ§åˆ¶å›ç­”çš„éšæœºæ€§ï¼Œäº†è§£åˆ†è¯æœºåˆ¶å¯ä»¥é¿å…ä¸å¿…è¦çš„é•¿åº¦å¢é•¿æˆ–æ„å¤–çš„ Token åˆ‡åˆ†ã€‚æ­£å¦‚ Hugging Face åšå®¢æ‰€è¨€ï¼Œå¤§è¯­è¨€æ¨¡å‹çš„ç¥å¥‡è¡¨ç°èƒŒåæœ‰ç€ç¡®å®šçš„é€»è¾‘æµç¨‹å’Œæ•°å­¦åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥æ—¢ä»°èµ–å®ƒå¼ºå¤§çš„é¢„è®­ç»ƒçŸ¥è¯†ï¼Œåˆé€šè¿‡å·¥ç¨‹æ‰‹æ®µç²¾ç»†åœ°æŒæ§å®ƒçš„è¾“å‡ºã€‚</p>
<p>å¤§è¯­è¨€æ¨¡å‹çš„å‘å±•ä»åœ¨ç»§ç»­ï¼Œä»æ”¹è¿›åˆ†è¯æ–¹æ³•åˆ°æ›´å…ˆè¿›çš„é‡‡æ ·ç­–ç•¥ï¼Œéƒ½æœ‰å¤§é‡ç ”ç©¶æ¶Œç°ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„å…¨æ™¯è§†è§’ï¼Œå¸®åŠ©æŠ€æœ¯ä»ä¸šè€…æ›´æ·±å…¥åœ°ç†è§£ LLM çš„å·¥ä½œåŸç†ï¼Œä¹Ÿä¸ºå®é™…åº”ç”¨å’Œè°ƒä¼˜æä¾›ä¸€äº›æŒ‡å¯¼ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡ï¼Œéšç€å¯¹è¿™äº›æœºåˆ¶ç†è§£çš„åŠ æ·±ï¼Œæˆ‘ä»¬å°†èƒ½æ„é€ å‡ºæ›´é«˜æ•ˆã€æ›´æ™ºèƒ½çš„è¯­è¨€æ¨¡å‹ã€‚</p>

    </article>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
<script>
Prism.highlightAll();
document.querySelectorAll('article pre').forEach(pre => {
    const code = pre.querySelector('code');
    if (!code) return;
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.onclick = () => {
        navigator.clipboard.writeText(code.textContent).then(() => {
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    };
    toolbar.appendChild(btn);
    pre.parentNode.insertBefore(toolbar, pre);
});
</script>
</body>
</html>